{"version":3,"sources":["images/x.svg","containers/market/orderlist/orderlist.js","containers/market/buysell/buysell.js","containers/market/myorders/myorders.js","containers/market/markethistory/markethistory.js","containers/market/myhistory/myhistory.js","containers/market/sidebar/sidebar.js","containers/market/market.js","containers/home/home.js","containers/infobar/wrapstation/wrapstation.js","containers/infobar/infobar.js","containers/navbar/navbar.js","containers/App/App.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","OrderList","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","orders","timeout","buildRow","bind","assertThisInitialized","updateOrders","nextProps","nextState","clearTimeout","getOrders","setTimeout","setState","drizzle","currencies","type","market","contracts","Market","length","token_addr_0","address","token_addr_1","pay_token","buy_token","SupportMethods","methods","getOffers","rawOrders","processOrders","n","i","id","pay_amount","web3","utils","fromWei","toString","buy_amount","price","order","Math","round","curr_0_amt","curr_1_amt","push","x","parts","split","replace","join","item","index","_this2","react_default","a","createElement","Table","Row","key","onClick","setSidebar","className","Cell","numberWithCommas","textAlign","selectable","striped","basic","celled","unstackable","Header","HeaderCell","Body","map","Component","BuySell","loading","error","success","amount_0","ui_amount_0","amount_1","ui_amount_1","currency_0_balance","currency_1_balance","bignumbers","handleSubmit","updateBalances","flashSuccess","flashError","generateBigNumbers","drizzleState","account","accounts","balanceOf","toBN","_this$props2","curr_gem_0","curr_gem_1","data","pay_amt","pay_gem","buy_amt","buy_gem","offer","send","from","gasPrice","toWei","on","_this3","value","test","amount_1_bn","amount_0_bn","_this4","_this$state","can_buy","can_sell","curr_0_balance","curr_1_balance","gte","gt","side_text","Loader","active","inline","size","Form","Field","Input","label","content","labelPosition","placeholder","onChange","e","handlePriceChange","target","Group","widths","disabled","handleAmountChange","Button","inverted","handleAmountPercentageChange","div","mul","color","MyOrders","buy_orders","sell_orders","concat","sort","b","parseInt","console","log","cancel","cacheSend","orders_table","background_item","cancelOrder","columns","MarketHistory","subsciption","getPastOrders","subscribeToEvents","subscription","unsubscribe","eth","getBlockNumber","latestBlock","curr_1_addr","curr_2_addr","hashKey1","soliditySha3","hashKey2","Contract","abi","events","LogTake","filter","pair","fromBlock","event","eventsToOrders","buy_addr","pay_addr","returnValues","getType","getPrice","timestamp","Date","toLocaleTimeString","toLocaleDateString","curr_1","curr_2","taker","maker","reverse","getPastEvents","toBlock","first","second","offers_table","MyHistory","subscriptions","taker_subscription","maker_subscription","true_type","taker_events","maker_events","SideBar","executeTrade","_this$props","sidebar_info","amount","will_receive","buy","button_loading","visible","ui_amount","info","button_success","button_error","updateInfo","stopLoading","getOffer","toggleSidebar","internal_value","err","ui_value","_this$props3","action","subtitle","updated_info","getUpdatedInfo","Sidebar","as","Segment","animation","direction","Icon","name","giving","currency","balance","offered","max_take","receive_currency","lt","button_text","handleUserChange","keys","numBuys","numSells","buy_token_addr","sell_token_addr","numBuysKey","getOfferCount","cacheCall","numSellsKey","assign","title","panes","menuItem","render","Tab","Pane","myorders_myorders","myhistory_myhistory","markethistory_markethistory","sidebar_sidebar","buysell_buysell","menu","fluid","tabular","attached","Grid","divided","Column","computer","tablet","mobile","orderlist_orderlist","Home","Transition","transitionOnMount","duration","WrapStation","onWrap","deposit","WETH","amount_wrap","ui_amount_wrap","onUnwrap","withdraw","amount_unwrap","ui_amount_unwrap","weth_balance","eth_balance","onSubmit","width","handleUserUpdate","handlePercentUpdate","Infobar","context","approved","DAI","MKR","ETH","market_address","dai_balance","mkr_balance","allowance","weth_approval","dai_approval","mkr_approval","accountBalances","approve","approveCurrencyForAmount","current_approval","approveCurrency","unapproveCurrency","raw_balance","raw_allowance","padded","closeSidebar","vals","obj","getUIBalance","getUIAllowance","padding","ui_account","x_icon","substring","Checkbox","toggle","checked","toggleApproval","wrapstation_wrapstation","Navbar","handleItemClick","_ref","activeItem","toggleVisible","children","other_buttons","href","Responsive","onlyMobile","Menu","borderless","fixed","Item","src","logo","alt","Dropdown","text","button","idx","Link","to","position","infobar_infobar","minWidth","onlyTablet","secondary","vertical","handleToggle","App","store","subscribe","getState","drizzleStatus","initialized","HashRouter","navbar_navbar","Switch","Route","exact","path","home_home","containers_market_market","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","Web3","givenProvider","config","require","erc20Abi","WEthAbi","MatchingMarketAbi","SupportMethodsAbi","options","contractName","web3Contract","interface","polls","blocks","syncAlways","drizzleStore","generateStore","Drizzle","ReactDOM","containers_App_App","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.cbcb1886.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/x.23ec4264.svg\";","import React, { Component } from 'react'\nimport { Table } from 'semantic-ui-react'\n\nimport './orderlist.css'\n\nclass OrderList extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      orders: null,\n      timeout: null\n    }\n\n    this.buildRow = this.buildRow.bind(this)\n    this.updateOrders = this.updateOrders.bind(this)\n  }\n\n  async componentDidMount() {\n    this.updateOrders()\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if(nextState.orders !== this.state.orders) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  componentWillUnmount() {\n    if(this.state.timeout !== null) {\n      clearTimeout(this.state.timeout)\n    }\n  }\n\n  async updateOrders() {\n    var orders = await this.getOrders()\n    var timeout = setTimeout(this.updateOrders, 2500)\n    this.setState({ orders, timeout })\n  }\n\n  async getOrders() {\n    var { drizzle, currencies, type } = this.props\n    var market = drizzle.contracts.Market\n\n    if(currencies.length === 2) {\n      var token_addr_0 = drizzle.contracts[currencies[0]].address\n      var token_addr_1 = drizzle.contracts[currencies[1]].address\n\n      var pay_token = null\n      var buy_token = null\n\n      if(type === \"BUY\") {\n        pay_token = token_addr_1\n        buy_token = token_addr_0\n      } else {\n        pay_token = token_addr_0\n        buy_token = token_addr_1\n      }\n\n      const rawOrders = await drizzle.contracts.SupportMethods.methods.getOffers(market.address, pay_token, buy_token).call()\n      var orders = []\n      if(rawOrders) {\n        orders = this.processOrders(rawOrders)\n      }\n      return orders\n    }\n  }\n\n  processOrders(rawOrders) {\n    var { type } = this.props\n\n    var n = rawOrders[\"ids\"].length\n    var orders = []\n    for(var i = 0; i < n; i++) {\n      if(rawOrders[\"ids\"][i] !== \"0\") {\n        var id = rawOrders[\"ids\"][i]\n        var pay_amount = this.props.drizzle.web3.utils.fromWei(rawOrders[\"payAmts\"][i].toString(), 'ether')\n        var buy_amount = this.props.drizzle.web3.utils.fromWei(rawOrders[\"buyAmts\"][i].toString(), 'ether') \n        var price = 0\n        var order = {}\n        if(type === \"BUY\") {\n          price = Math.round(pay_amount / buy_amount * 1000) / 1000\n          buy_amount = Math.round(buy_amount * 1000) / 1000\n          pay_amount = Math.round(pay_amount * 1000) / 1000\n          order = {\n            \"price\": price,\n            \"curr_0_amt\": buy_amount,\n            \"curr_1_amt\": pay_amount,\n            \"id\": id,\n            \"type\": type\n          }\n        } else {\n          price = Math.round(buy_amount / pay_amount * 1000) / 1000\n          buy_amount = Math.round(buy_amount * 1000) / 1000\n          pay_amount = Math.round(pay_amount * 1000) / 1000\n          order = {\n            \"price\": price,\n            \"curr_0_amt\": pay_amount,\n            \"curr_1_amt\": buy_amount,\n            \"id\": id,\n            \"type\": type\n          }\n        }\n        orders.push(order)\n      }\n    }\n\n    return orders\n  }\n\n  numberWithCommas(x) {\n      var parts = x.toString().split(\".\");\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      return parts.join(\".\");\n  }\n\n  buildRow(item, index) {\n    return (\n      <Table.Row key={item[\"id\"]} onClick={() => this.props.setSidebar(item) } className=\"OrderList-table-row\">\n        <Table.Cell>\n          <div className='OrderList-table-entry'>{this.numberWithCommas(item[\"price\"])}</div>\n        </Table.Cell>\n\n        <Table.Cell>\n          <div className='OrderList-table-entry'>{this.numberWithCommas(item[\"curr_0_amt\"])}</div>\n        </Table.Cell>\n\n        <Table.Cell  textAlign='left'>\n          <div className='OrderList-table-entry'>{this.numberWithCommas(item[\"curr_1_amt\"])}</div>\n        </Table.Cell>\n      </Table.Row>\n    )\n  }\n\n  render() {\n    var { orders } = this.state\n    var { currencies } = this.props\n\n    if(!orders) {\n      return (\n        <div className=\"OrderList\">\n          <div className=\"OrderList-loading\">Error...</div>\n        </div>\n      )\n    }\n\n    if(orders.length === 0) {\n      return (\n        <div className=\"OrderList\">\n          <div className=\"OrderList-loading\">Loading...</div>\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"OrderList\">\n        <Table selectable striped basic celled unstackable id=\"OrderList-table\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell className='OrderList-table-header' textAlign='left'>Price</Table.HeaderCell>\n              <Table.HeaderCell className='OrderList-table-header' textAlign='left'>{currencies[0]}</Table.HeaderCell>\n              <Table.HeaderCell className='OrderList-table-header' textAlign='left'>{currencies[1]}</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n\n          <Table.Body id=\"OrderList-tableBody\">\n            {orders.map(this.buildRow)}\n          </Table.Body>\n        </Table>\n\n      </div>\n    );\n  }\n}\n\nexport default OrderList\n","import React, { Component } from 'react'\nimport { Input, Form, Button, Loader } from 'semantic-ui-react'\n\nimport './buysell.css'\n\nclass BuySell extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: false,\n      error: false,\n      success: false,\n      price: '',\n      amount_0: '',\n      ui_amount_0: '',\n      amount_1: '',\n      ui_amount_1: '',\n      currency_0_balance: \"0\",\n      currency_1_balance: \"0\",\n      bignumbers: []\n    }\n\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.updateBalances = this.updateBalances.bind(this)\n    this.flashSuccess = this.flashSuccess.bind(this)\n    this.flashError = this.flashError.bind(this)\n  }\n\n  componentDidMount() {\n    this.generateBigNumbers()\n    this.updateBalances()\n  }\n\n  async updateBalances() {\n    var { drizzle, drizzleState, currencies } = this.props\n    const account = drizzleState.accounts[0]\n    const currency_0_balance = await drizzle.contracts[currencies[0]].methods.balanceOf(account).call()\n    const currency_1_balance = await drizzle.contracts[currencies[1]].methods.balanceOf(account).call()\n    this.setState({ currency_0_balance, currency_1_balance })\n    setTimeout(this.updateBalances, 2500)\n  }\n\n  generateBigNumbers() {\n    var bignumbers = {}\n    for(var i = 0; i <= 10; i++) {\n      var key = i\n      bignumbers[key] = this.props.drizzle.web3.utils.toBN(key)\n    }\n\n    this.setState({ bignumbers })\n  }\n\n  // Main function that interfaces and writes to the blockchain.\n  // This is the most important function here.\n  handleSubmit(type) {\n    // Set loading to true to update UI\n    this.setState({loading: true, error: false, success: false})\n\n    var { currencies, drizzle, drizzleState } = this.props\n    const web3 = drizzle.web3\n\n    // Get the important info for the transaction\n    const account = drizzleState.accounts[0]\n    var amount_0 = this.state.amount_0\n    var amount_1 = this.state.amount_1\n    var curr_gem_0 = drizzle.contracts[currencies[0]].address\n    var curr_gem_1 = drizzle.contracts[currencies[1]].address\n    var data = {}\n\n    // Set data to the correct value depending on if the order is a BUY or SELL\n    // Basically you just flip the currency 0 and currency 1\n    if(type === \"BUY\") {\n      data = {\n        pay_amt: amount_1,\n        pay_gem: curr_gem_1,\n        buy_amt: amount_0,\n        buy_gem: curr_gem_0\n      }\n    } else if(type === \"SELL\") {\n      data = {\n        pay_amt: amount_0,\n        pay_gem: curr_gem_0,\n        buy_amt: amount_1,\n        buy_gem: curr_gem_1\n      }\n    } else {\n      return\n    }\n\n    this.props.drizzle.contracts.Market.methods.offer(data.pay_amt, data.pay_gem, data.buy_amt, data.buy_gem, 1).send({from: account, gasPrice: web3.utils.toWei('5', 'gwei') })\n      .on('receipt', this.flashSuccess)\n      .on('error', this.flashError)\n\n    this.setState({ loading: true })\n  }\n\n  flashSuccess() {\n    this.setState({ success : true, loading: false })\n    setTimeout(() => this.setState({ success: false, price: '', amount_0: '0', ui_amount_0: '', amount_1: '0', ui_amount_1: '' }), 1500)\n  }\n\n  flashError() {\n    this.setState({ error: true, loading: false })\n    setTimeout(() => this.setState({ error: false }), 1500)\n  }\n\n  handlePriceChange(value) {\n    const web3 = this.props.drizzle.web3\n    if(/\\S/.test(value) && this.state.ui_amount_0 !== \"\") {\n      var price = value\n      var ui_amount_1 = this.state.ui_amount_0 * price\n      var amount_1_bn = web3.utils.toWei(ui_amount_1.toString(), 'ether')\n      this.setState({ price: price, amount_1: amount_1_bn.toString(), ui_amount_1: ui_amount_1.toString() })\n    } else {\n      this.setState({ price: value, amount_1: '0', ui_amount_1: '' })    \n    }\n  }\n\n  handleAmountChange(index, value) {\n    const web3 = this.props.drizzle.web3\n    if(/\\S/.test(value) && this.state.price !== \"\") {\n      var price = this.state.price\n      var ui_amount_0 = null\n      var ui_amount_1 = null\n      var amount_0_bn = null\n      var amount_1_bn = null\n\n      if(index === 0) {\n        ui_amount_0 = value\n        amount_0_bn = web3.utils.toBN(web3.utils.toWei(ui_amount_0.toString(), 'ether'))\n        ui_amount_1 = ui_amount_0 * price\n        amount_1_bn = web3.utils.toBN(web3.utils.toWei(ui_amount_1.toString(), 'ether'))\n      } else if(index === 1) {\n        ui_amount_1 = value\n        amount_1_bn = web3.utils.toBN(web3.utils.toWei(ui_amount_1.toString(), 'ether'))\n        ui_amount_0 = ui_amount_1 / price\n        amount_0_bn = web3.utils.toBN(web3.utils.toWei(ui_amount_0.toString(), 'ether'))\n      } else {\n        return\n      }\n\n      this.setState({ \n        amount_0: amount_0_bn.toString(), \n        ui_amount_0: ui_amount_0, \n        amount_1: amount_1_bn.toString(),\n        ui_amount_1: ui_amount_1,\n      })\n    } else {\n      this.setState({\n        amount_0: '0',\n        ui_amount_0: '',\n        amount_1: '0',\n        ui_amount_1: ''\n      })\n    }\n  }\n\n  handleAmountPercentageChange(index, value) {\n    const web3 = this.props.drizzle.web3\n    var price = this.state.price\n\n    var ui_amount_0 = null\n    var ui_amount_1 = null\n    var amount_0_bn = null\n    var amount_1_bn = null\n\n    if(index === 0) {\n      amount_0_bn = value\n      ui_amount_0 = web3.utils.fromWei(amount_0_bn, 'ether')\n      ui_amount_1 = ui_amount_0 * price\n      amount_1_bn = web3.utils.toBN(web3.utils.toWei(ui_amount_1.toString(), 'ether'))\n    } else if(index === 1) {\n      amount_1_bn = value\n      ui_amount_1 = web3.utils.fromWei(amount_1_bn, 'ether')\n      ui_amount_0 = ui_amount_1 / price\n      amount_0_bn = web3.utils.toBN(web3.utils.toWei(ui_amount_0.toString(), 'ether'))\n    } else {\n      return\n    }\n\n    this.setState({\n      amount_0: amount_0_bn.toString(),\n      ui_amount_0: ui_amount_0,\n      amount_1: amount_1_bn.toString(),\n      ui_amount_1: ui_amount_1\n    })\n  }\n\n  render() {\n    var { price, amount_0, amount_1, ui_amount_0, ui_amount_1, currency_0_balance, currency_1_balance, bignumbers, loading, success, error } = this.state\n    var { currencies } = this.props\n    const web3 = this.props.drizzle.web3\n    \n    var can_buy = false\n    var can_sell = false\n    \n    var curr_0_balance = web3.utils.toBN(currency_0_balance)\n    var curr_1_balance = web3.utils.toBN(currency_1_balance)\n    \n    var amount_0_bn = web3.utils.toBN(amount_0)\n    var amount_1_bn = web3.utils.toBN(amount_1)\n\n    if(curr_0_balance.gte(amount_0_bn) && amount_0_bn.gt(web3.utils.toBN(\"0\"))) {\n      can_sell = true\n    }\n    \n    if(curr_1_balance.gte(amount_1_bn) && amount_1_bn.gt(web3.utils.toBN(\"0\"))) {\n      can_buy = true\n    }\n\n    var side_text = \"\"\n    if(loading) {\n      side_text = (<span className=\"BuySell-color\"><Loader active inline size=\"small\"/> LOADING...</span>)\n    }\n    if(error) {\n      side_text = (<span className=\"red BuySell-color\">FAILED</span>)\n    }\n    if(success) {\n      side_text = (<span className=\"green BuySell-color\">SUCCESS</span>)\n    }\n\n    return (\n      <div className=\"BuySell\">\n        <Form size='tiny'>\n          <div className=\"BuySell-headers\">Price</div>\n          <Form.Field>\n            <Input\n              label={{ basic: true, content: currencies[1] + \" / \" + currencies[0]  }}\n              labelPosition='right'\n              placeholder='Enter Price...'\n              value={price}\n              onChange={(e) => { this.handlePriceChange(e.target.value) }}\n            />\n          </Form.Field>\n          <div className=\"BuySell-headers\">Amounts</div>\n          <Form.Group widths='equal'>\n            <Form.Field>\n              <Input\n                label={{ basic: true, content: currencies[0] }}\n                labelPosition='right'\n                placeholder='Enter Amount...'\n                disabled={price === ''}\n                value={ui_amount_0}\n                onChange={(e) => { this.handleAmountChange(0, e.target.value) }}\n                className=\"BuySell-amount-input\"\n              />\n              <Button.Group className=\"BuySell-mini-buttons\" size='mini' basic inverted>\n                <Button disabled={price === \"\"} onClick={() => this.handleAmountChange(1, '') } >0%</Button>\n                <Button disabled={price === \"\"} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance.div(bignumbers[4]))} >25%</Button>\n                <Button disabled={price === \"\"} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance.div(bignumbers[2]))} >50%</Button>\n                <Button disabled={price === \"\"} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance.mul(bignumbers[3]).div(bignumbers[4]))} >75%</Button>\n                <Button disabled={price === \"\"} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance) } >100%</Button>\n              </Button.Group>\n            </Form.Field>\n            <Form.Field>\n              <Input\n                label={{ basic: true, content: currencies[1] }}\n                labelPosition='right'\n                placeholder='Enter Amount...'\n                disabled={price === ''}\n                value={ui_amount_1}\n                onChange={(e) => { this.handleAmountChange(1, e.target.value) }}\n                className=\"BuySell-amount-input\"\n              />\n              <Button.Group className=\"BuySell-mini-buttons\" size='mini' basic inverted>\n                <Button disabled={price === \"\"} onClick={() => this.handleAmountChange(1, '') } >0%</Button>\n                <Button disabled={price === \"\"} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance.div(bignumbers[4]))} >25%</Button>\n                <Button disabled={price === \"\"} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance.div(bignumbers[2]))} >50%</Button>\n                <Button disabled={price === \"\"} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance.mul(bignumbers[3]).div(bignumbers[4]))} >75%</Button>\n                <Button disabled={price === \"\"} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance) } >100%</Button>\n              </Button.Group>\n            </Form.Field>\n          </Form.Group>\n          <Button className=\"BuySell-button\" color='green' disabled={!can_buy || loading} onClick={() => this.handleSubmit(\"BUY\")} >BUY {currencies[0]}</Button>\n          <Button className=\"BuySell-button\" color='red' disabled={!can_sell || loading} onClick={() => this.handleSubmit(\"SELL\")} >SELL {currencies[0]}</Button>\n          {side_text}\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default BuySell\n","import React, { Component } from 'react'\nimport { Table, Button } from 'semantic-ui-react'\n\nimport './myorders.css'\n\nclass MyOrders extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      orders: []\n    }\n\n    this.updateOrders = this.updateOrders.bind(this)\n  }\n\n  async componentDidMount() {\n    this.updateOrders()\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if(nextState.orders !== this.state.orders) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  async updateOrders() {\n    var buy_orders = await this.getOrders(\"BUY\")\n    var sell_orders = await this.getOrders(\"SELL\")\n    var orders = buy_orders.concat(sell_orders)\n    orders.sort(function(a, b) {\n      return parseInt(a[3]) > parseInt(b[3]) ? 1 : -1\n    })\n    this.setState({ orders })\n    setTimeout(this.updateOrders, 2500)\n  }\n\n  async getOrders(type) {\n    var { drizzle, currencies } = this.props\n    var market = drizzle.contracts.Market\n\n    if(currencies.length === 2) {\n      var token_addr_0 = drizzle.contracts[currencies[0]].address\n      var token_addr_1 = drizzle.contracts[currencies[1]].address\n\n      var pay_token = null\n      var buy_token = null\n\n      if(type === \"BUY\") {\n        pay_token = token_addr_1\n        buy_token = token_addr_0\n      } else {\n        pay_token = token_addr_0\n        buy_token = token_addr_1\n      }\n\n      const rawOrders = await drizzle.contracts.SupportMethods.methods.getOffers(market.address, pay_token, buy_token).call()\n      var orders = []\n      if(rawOrders) {\n        orders = this.processOrders(rawOrders, type)\n      }\n      return orders\n    }\n  }\n\n  processOrders(rawOrders, type) {\n    var { drizzleState } = this.props\n\n    let account = drizzleState.accounts[0]\n    var n = rawOrders[\"ids\"].length\n    var orders = []\n    for(var i = 0; i < n; i++) {\n      if(rawOrders[\"ids\"][i] !== \"0\" && rawOrders[\"owners\"][i] === account) {\n        var id = rawOrders[\"ids\"][i]\n        var pay_amount = this.props.drizzle.web3.utils.fromWei(rawOrders[\"payAmts\"][i].toString(), 'ether')\n        var buy_amount = this.props.drizzle.web3.utils.fromWei(rawOrders[\"buyAmts\"][i].toString(), 'ether') \n        var price = 0\n        var order = {}\n        if(type === \"BUY\") {\n          price = Math.round(pay_amount / buy_amount * 1000) / 1000\n          buy_amount = Math.round(buy_amount * 1000) / 1000\n          pay_amount = Math.round(pay_amount * 1000) / 1000\n          order = {\n            \"price\": price,\n            \"curr_0_amt\": buy_amount,\n            \"curr_1_amt\": pay_amount,\n            \"id\": id,\n            \"type\": type\n          }\n        } else {\n          price = Math.round(buy_amount / pay_amount * 1000) / 1000\n          buy_amount = Math.round(buy_amount * 1000) / 1000\n          pay_amount = Math.round(pay_amount * 1000) / 1000\n          order = {\n            \"price\": price,\n            \"curr_0_amt\": pay_amount,\n            \"curr_1_amt\": buy_amount,\n            \"id\": id,\n            \"type\": type\n          }\n        }\n        orders.push(order)\n      }\n    }\n\n    return orders\n  }\n\n  numberWithCommas(x) {\n      var parts = x.toString().split(\".\");\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      return parts.join(\".\");\n  }\n\n  cancelOrder(id) {\n    var { Market } = this.props.drizzle.contracts\n    let account = this.props.drizzleState.accounts[0]\n\n    console.log(\"CANCEL ORDER \" + id)\n    const cancel = Market.methods.cancel\n    cancel.cacheSend(id, {from: account, gasPrice: this.props.drizzle.web3.utils.toWei('5', 'gwei') })\n  }\n\n  render() {\n    var { orders } = this.state\n    var { currencies } = this.props\n\n    var orders_table = null\n    var background_item = null\n\n    if(orders.length === 0) {\n      background_item = (<div id=\"MyOrders-empty\">NO ORDERS</div>)\n    } else {\n      orders_table = (<Table.Body id=\"MyOrders-tableBody\">\n            {orders.map((item, index) => {\n              var type = item[\"type\"] === \"BUY\" ? (<span className=\"green MyOrders-color\">{item[\"type\"]}</span>) : (<span className=\"red\">{item[\"type\"]}</span>)\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell  textAlign='left'>\n                    <div className='MyOrders-table-entry'><Button className=\"MyOrders-button\" color='red' size='mini' inverted onClick={() => {this.cancelOrder(item[\"id\"])}}>CANCEL</Button></div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MyOrders-table-entry'>{type}</div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MyOrders-table-entry'>{this.numberWithCommas(item[\"price\"])}</div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MyOrders-table-entry'>{this.numberWithCommas(item[\"curr_0_amt\"])}</div>\n                  </Table.Cell>\n\n                  <Table.Cell  textAlign='left'>\n                    <div className='MyOrders-table-entry'>{this.numberWithCommas(item[\"curr_1_amt\"])}</div>\n                  </Table.Cell>\n                </Table.Row>\n              )\n            })}\n          </Table.Body>)\n    }\n\n    return (\n      <div className=\"MyOrders\">\n        <Table selectable striped basic celled unstackable columns={5} textAlign='left' id=\"MyOrders-table\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell className='MyOrders-table-header' textAlign='left'>Action</Table.HeaderCell>\n              <Table.HeaderCell className='MyOrders-table-header' textAlign='left'>Type</Table.HeaderCell>\n              <Table.HeaderCell className='MyOrders-table-header' textAlign='left'>Price</Table.HeaderCell>\n              <Table.HeaderCell className='MyOrders-table-header' textAlign='left'>{currencies[0]}</Table.HeaderCell>\n              <Table.HeaderCell className='MyOrders-table-header' textAlign='left'>{currencies[1]}</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          { orders_table }\n        </Table>\n        { background_item }\n      </div>\n    );\n  }\n}\n\nexport default MyOrders\n","import React, { Component } from 'react'\nimport { Table } from 'semantic-ui-react'\n\nimport './markethistory.css'\n\nclass MarketHistory extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: false,\n      orders: [],\n      subsciption: null\n    }\n  }\n\n  async componentDidMount() {\n    this.setState({loading: true})\n    var orders = await this.getPastOrders()\n    this.setState({ orders, loading: false })\n    var subscription = await this.subscribeToEvents()\n    this.setState({ subscription })\n  }\n\n  componentWillUnmount() {\n    if(this.state.subscription) {\n      this.state.subscription.unsubscribe()\n    }\n  }\n\n  async subscribeToEvents() {\n    var { currencies, drizzle } = this.props\n    var { Market } = drizzle.contracts\n    \n    var web3 = drizzle.web3\n    var latestBlock = await web3.eth.getBlockNumber()\n    \n    var curr_1_addr = drizzle.contracts[currencies[0]].address\n    var curr_2_addr = drizzle.contracts[currencies[1]].address\n    \n    const hashKey1 = web3.utils.soliditySha3(curr_1_addr, curr_2_addr)\n    const hashKey2 = web3.utils.soliditySha3(curr_2_addr, curr_1_addr)\n    \n    const market = new web3.eth.Contract(Market.abi, Market.address)\n    var subscription = market.events.LogTake({\n      filter: { pair: [hashKey1, hashKey2] },\n      fromBlock: latestBlock\n    }).on('data', function(event) {\n      var orders = this.eventsToOrders([event])\n      this.setState({ orders: orders.concat(this.state.orders) })\n      console.log(orders)\n    }.bind(this))\n\n    return subscription\n  }\n\n  componentWillMount() {\n  }\n\n  numberWithCommas(x) {\n      var parts = x.toString().split(\".\");\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      return parts.join(\".\");\n  }\n\n  getType(order) {\n    var { currencies, drizzle } = this.props\n\n    var curr_1_addr = drizzle.contracts[currencies[0]].address\n    var curr_2_addr = drizzle.contracts[currencies[1]].address\n\n    var buy_addr = order[\"buy_gem\"]\n    var pay_addr = order[\"pay_gem\"]\n\n    if(buy_addr === curr_1_addr && pay_addr === curr_2_addr) {\n      return \"SELL\"\n    } else if(buy_addr === curr_2_addr && pay_addr === curr_1_addr) {\n      return \"BUY\"\n    } else {\n      return null\n    }\n  }\n\n  getPrice(pay_amt, buy_amt, type) {\n    var price = 0\n    if(type === \"BUY\") {\n      price = Math.round(pay_amt / buy_amt * 1000) / 1000\n      buy_amt = Math.round(buy_amt * 1000) / 1000\n      pay_amt = Math.round(pay_amt * 1000) / 1000\n      return [price, buy_amt, pay_amt]\n    } else {\n      price = Math.round(buy_amt / pay_amt * 1000) / 1000\n      buy_amt = Math.round(buy_amt * 1000) / 1000\n      pay_amt = Math.round(pay_amt * 1000) / 1000\n      return [price, pay_amt, buy_amt]\n    }\n  }\n\n  eventsToOrders(events) {\n    var orders = []\n    for(var i = 0; i < events.length; i++) {\n      var order = events[i].returnValues\n      var type = this.getType(order)\n      var pay_amt = this.props.drizzle.web3.utils.fromWei(order[\"give_amt\"].toString(), 'ether')\n      var buy_amt = this.props.drizzle.web3.utils.fromWei(order[\"take_amt\"].toString(), 'ether')\n      var offer = this.getPrice(pay_amt, buy_amt, type)\n      var timestamp = new Date(order[\"timestamp\"] * 1000)\n      timestamp = timestamp.toLocaleTimeString() + \" \" + timestamp.toLocaleDateString()\n      order = {\n        \"timestamp\": timestamp,\n        \"type\": type,\n        \"price\": offer[0],\n        \"curr_1\": offer[1],\n        \"curr_2\": offer[2],\n        \"taker\": order[\"taker\"],\n        \"maker\": order[\"maker\"]\n      }\n      orders.push(order)\n    }\n    orders.reverse()\n    return orders\n  }\n\n  async getPastOrders() {\n    var { currencies, drizzle } = this.props\n    var { Market } = drizzle.contracts\n    var web3 = drizzle.web3\n    var latestBlock = await web3.eth.getBlockNumber()\n\n    var curr_1_addr = drizzle.contracts[currencies[0]].address\n    var curr_2_addr = drizzle.contracts[currencies[1]].address\n    const hashKey1 = web3.utils.soliditySha3(curr_1_addr, curr_2_addr)\n    const hashKey2 = web3.utils.soliditySha3(curr_2_addr, curr_1_addr)\n\n    const market = new web3.eth.Contract(Market.abi, Market.address)\n    var events = await market.getPastEvents(\"LogTake\", {\n      filter: { pair: [hashKey1, hashKey2] },\n      fromBlock: latestBlock - 2000,\n      toBlock: 'latest'\n    })\n\n    events.sort(function(first, second) {\n      return first.returnValues.timestamp - second.returnValues.timestamp\n    })\n\n    var orders = this.eventsToOrders(events)\n    return orders\n  }\n\n  render() {\n    var { loading, orders } = this.state\n    var { currencies } = this.props\n\n    var offers_table = null\n    var background_item = null\n\n    if(loading) {\n      background_item = (<div id=\"MarketHistory-empty\">Loading...</div>)\n    } else if(orders.length === 0) {\n      background_item = (<div id=\"MarketHistory-empty\">NO ORDERS</div>)\n    } else {\n      offers_table = (<Table.Body id=\"MarketHistory-tableBody\">\n            {orders.map((item, index) => {\n              var type = item[\"type\"] === \"BUY\" ? (<span className=\"green MarketHistory-type\">BUY</span>) : (<span className=\"red MarketHistory-type\">SELL</span>)\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell>\n                    <div className='MarketHistory-table-entry'>{type}</div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MarketHistory-table-entry'>{item[\"timestamp\"]}</div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MarketHistory-table-entry'>{this.numberWithCommas(item[\"price\"])}</div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MarketHistory-table-entry'>{this.numberWithCommas(item[\"curr_1\"])}</div>\n                  </Table.Cell>\n\n                  <Table.Cell  textAlign='left'>\n                    <div className='MarketHistory-table-entry'>{this.numberWithCommas(item[\"curr_2\"])}</div>\n                  </Table.Cell>\n                </Table.Row>\n              )\n            })}\n          </Table.Body>)\n    }\n\n    return (\n      <div className=\"MarketHistory\">\n        <Table selectable striped basic celled unstackable id=\"MarketHistory-table\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell className='MarketHistory-table-header' textAlign='left'>Type</Table.HeaderCell>\n              <Table.HeaderCell className='MarketHistory-table-header' textAlign='left'>Time</Table.HeaderCell>\n              <Table.HeaderCell className='MarketHistory-table-header' textAlign='left'>Price</Table.HeaderCell>\n              <Table.HeaderCell className='MarketHistory-table-header' textAlign='left'>{currencies[0]}</Table.HeaderCell>\n              <Table.HeaderCell className='MarketHistory-table-header' textAlign='left'>{currencies[1]}</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          { offers_table }\n        </Table>\n        { background_item }\n      </div>\n    );\n  }\n}\n\nexport default MarketHistory\n","import React, { Component } from 'react'\nimport { Table } from 'semantic-ui-react'\n\nimport './myhistory.css'\n\nclass MyHistory extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: false,\n      orders: [],\n      subscriptions: null\n    }\n  }\n\n  async componentDidMount() {\n    this.setState({loading: true})\n    var orders = await this.getPastOrders()\n    this.setState({ orders, loading: false })\n    var subscriptions = await this.subscribeToEvents()\n\n    this.setState({ subscriptions })\n  }\n\n  componentWillUnmount() {\n    if(this.state.subscriptions) {\n      this.state.subscriptions[0].unsubscribe()\n      this.state.subscriptions[1].unsubscribe()\n    }\n  }\n\n  async subscribeToEvents() {\n    var { currencies, drizzle, drizzleState } = this.props\n    var { Market } = drizzle.contracts\n    let account = drizzleState.accounts[0]\n\n    var web3 = drizzle.web3\n    var latestBlock = await web3.eth.getBlockNumber()\n    \n    var curr_1_addr = drizzle.contracts[currencies[0]].address\n    var curr_2_addr = drizzle.contracts[currencies[1]].address\n    \n    const hashKey1 = web3.utils.soliditySha3(curr_1_addr, curr_2_addr)\n    const hashKey2 = web3.utils.soliditySha3(curr_2_addr, curr_1_addr)\n    \n    const market = new web3.eth.Contract(Market.abi, Market.address)\n    var taker_subscription = market.events.LogTake({\n      filter: { pair: [hashKey1, hashKey2], taker: account },\n      fromBlock: latestBlock\n    }).on('data', function(event) {\n      var orders = this.eventsToOrders([event])\n      this.setState({ orders: orders.concat(this.state.orders) })\n    }.bind(this))\n\n    var maker_subscription = market.events.LogTake({\n      filter: { pair: [hashKey1, hashKey2], maker: account },\n      fromBlock: latestBlock\n    }).on('data', function(event) {\n      var orders = this.eventsToOrders([event])\n      this.setState({ orders: orders.concat(this.state.orders) })\n    }.bind(this))\n\n    return [taker_subscription, maker_subscription]\n  }\n\n  numberWithCommas(x) {\n      var parts = x.toString().split(\".\");\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      return parts.join(\".\");\n  }\n\n  getType(order) {\n    var { currencies, drizzle } = this.props\n\n    var curr_1_addr = drizzle.contracts[currencies[0]].address\n    var curr_2_addr = drizzle.contracts[currencies[1]].address\n\n    var buy_addr = order[\"buy_gem\"]\n    var pay_addr = order[\"pay_gem\"]\n\n    var type = null\n\n    if(buy_addr === curr_1_addr && pay_addr === curr_2_addr) {\n      type = \"SELL\"\n    } else if(buy_addr === curr_2_addr && pay_addr === curr_1_addr) {\n      type = \"BUY\"\n    } else {\n      return null\n    }\n\n    return type\n  }\n\n  getPrice(pay_amt, buy_amt, type) {\n    var price = 0\n    if(type === \"BUY\") {\n      price = Math.round(pay_amt / buy_amt * 1000) / 1000\n      buy_amt = Math.round(buy_amt * 1000) / 1000\n      pay_amt = Math.round(pay_amt * 1000) / 1000\n      return [price, buy_amt, pay_amt]\n    } else {\n      price = Math.round(buy_amt / pay_amt * 1000) / 1000\n      buy_amt = Math.round(buy_amt * 1000) / 1000\n      pay_amt = Math.round(pay_amt * 1000) / 1000\n      return [price, pay_amt, buy_amt]\n    }\n  }\n\n  eventsToOrders(events) {\n    let account = this.props.drizzleState.accounts[0]\n    var orders = []\n    for(var i = 0; i < events.length; i++) {\n      var order = events[i].returnValues\n      var type = this.getType(order)\n      var pay_amt = this.props.drizzle.web3.utils.fromWei(order[\"give_amt\"].toString(), 'ether')\n      var buy_amt = this.props.drizzle.web3.utils.fromWei(order[\"take_amt\"].toString(), 'ether')\n      var true_type = type\n      if(order[\"maker\"] === account) {\n        if(type === \"BUY\") {\n          true_type = \"SELL\"\n        } else {\n          true_type = \"BUY\"\n        }\n      }\n      var offer = this.getPrice(pay_amt, buy_amt, type)\n      var timestamp = new Date(order[\"timestamp\"] * 1000)\n      timestamp = timestamp.toLocaleTimeString() + \" \" + timestamp.toLocaleDateString()\n      order = {\n        \"timestamp\": timestamp,\n        \"type\": true_type,\n        \"price\": offer[0],\n        \"curr_1\": offer[1],\n        \"curr_2\": offer[2],\n        \"taker\": order[\"taker\"],\n        \"maker\": order[\"maker\"]\n      }\n      orders.push(order)\n    }\n    orders.reverse()\n    return orders\n  }\n\n  async getPastOrders() {\n    var { currencies, drizzle, drizzleState } = this.props\n    var { Market } = drizzle.contracts\n    let account = drizzleState.accounts[0]\n    var web3 = drizzle.web3\n    var latestBlock = await web3.eth.getBlockNumber()\n\n    var curr_1_addr = drizzle.contracts[currencies[0]].address\n    var curr_2_addr = drizzle.contracts[currencies[1]].address\n    const hashKey1 = web3.utils.soliditySha3(curr_1_addr, curr_2_addr)\n    const hashKey2 = web3.utils.soliditySha3(curr_2_addr, curr_1_addr)\n\n    const market = new web3.eth.Contract(Market.abi, Market.address)\n    var taker_events = await market.getPastEvents(\"LogTake\", {\n      filter: { pair: [hashKey1, hashKey2], taker: account },\n      fromBlock: latestBlock - 25000,\n      toBlock: 'latest'\n    })\n    var maker_events = await market.getPastEvents(\"LogTake\", {\n      filter: { pair: [hashKey1, hashKey2], maker: account },\n      fromBlock: latestBlock - 25000,\n      toBlock: 'latest'\n    })\n\n    var events = maker_events.concat(taker_events)\n\n    events.sort(function(first, second) {\n      return first.returnValues.timestamp - second.returnValues.timestamp\n    })\n\n    var orders = this.eventsToOrders(events)\n    return orders\n  }\n\n  render() {\n    var { loading, orders } = this.state\n    var { currencies } = this.props\n\n    var offers_table = null\n    var background_item = null\n\n    if(loading) {\n      background_item = (<div id=\"MarketHistory-empty\">Loading...</div>)\n    } else if(orders.length === 0) {\n      background_item = (<div id=\"MarketHistory-empty\">NO ORDERS</div>)\n    } else {\n      offers_table = (<Table.Body id=\"MarketHistory-tableBody\">\n            {orders.map((item, index) => {\n              var type = item[\"type\"] === \"BUY\" ? (<span className=\"green MarketHistory-type\">BUY</span>) : (<span className=\"red MarketHistory-type\">SELL</span>)\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell>\n                    <div className='MarketHistory-table-entry'>{type}</div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MarketHistory-table-entry'>{item[\"timestamp\"]}</div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MarketHistory-table-entry'>{this.numberWithCommas(item[\"price\"])}</div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MarketHistory-table-entry'>{this.numberWithCommas(item[\"curr_1\"])}</div>\n                  </Table.Cell>\n\n                  <Table.Cell  textAlign='left'>\n                    <div className='MarketHistory-table-entry'>{this.numberWithCommas(item[\"curr_2\"])}</div>\n                  </Table.Cell>\n                </Table.Row>\n              )\n            })}\n          </Table.Body>)\n    }\n\n    return (\n      <div className=\"MarketHistory\">\n        <Table selectable striped basic celled unstackable id=\"MarketHistory-table\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell className='MarketHistory-table-header' textAlign='left'>Type</Table.HeaderCell>\n              <Table.HeaderCell className='MarketHistory-table-header' textAlign='left'>Time</Table.HeaderCell>\n              <Table.HeaderCell className='MarketHistory-table-header' textAlign='left'>Price</Table.HeaderCell>\n              <Table.HeaderCell className='MarketHistory-table-header' textAlign='left'>{currencies[0]}</Table.HeaderCell>\n              <Table.HeaderCell className='MarketHistory-table-header' textAlign='left'>{currencies[1]}</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          { offers_table }\n        </Table>\n        { background_item }\n      </div>\n    );\n  }\n}\n\nexport default MyHistory\n","import React, { Component } from 'react'\nimport { Sidebar, Segment, Icon, Input, Form, Button, Loader } from 'semantic-ui-react'\n\nimport './sidebar.css'\n\nclass SideBar extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: false,\n      visible: false,\n      amount: '0',\n      ui_amount: '',\n      currency_0_balance: \"0\",\n      currency_1_balance: \"0\",\n      id: null,\n      info: null,\n      bignumbers: {},\n      button_loading: false,\n      button_success: false,\n      button_error: false\n    }\n\n    this.updateInfo = this.updateInfo.bind(this)\n    this.stopLoading = this.stopLoading.bind(this)\n    this.flashError = this.flashError.bind(this)\n    this.flashSuccess = this.flashSuccess.bind(this)\n  }\n\n  // Get the balances for each of the currencies since we will need that throughout the component\n  componentDidMount() {\n    this.generateBigNumbers()\n    this.updateInfo()\n  }\n\n  async updateInfo() {\n    var { drizzle, drizzleState, currencies } = this.props\n    if(this.state.visible) {\n      let account = drizzleState.accounts[0]\n\n      const currency_0_balance = await drizzle.contracts[currencies[0]].methods.balanceOf(account).call()\n      const currency_1_balance = await drizzle.contracts[currencies[1]].methods.balanceOf(account).call()\n      const info = await drizzle.contracts.Market.methods.getOffer(this.state.id).call()\n      this.setState({ currency_0_balance, currency_1_balance, info })\n    }\n    setTimeout(this.updateInfo, 2500)\n  }\n\n  generateBigNumbers() {\n    var bignumbers = {}\n    for(var i = 0; i <= 10; i++) {\n      var key = i\n      bignumbers[key] = this.props.drizzle.web3.utils.toBN(key)\n    }\n\n    this.setState({ bignumbers })\n  }\n\n  stopLoading() {\n    this.setState({ loading: false })\n  }\n\n  // Need to update visible and the side_bar info key if a new order is passed in\n  async componentWillReceiveProps(nextProps) {\n    if(nextProps.visible !== this.props.visible) {\n      this.setState({ visible: nextProps.visible })\n      if(nextProps.visible === false) {\n        this.setState({ info: null, amount: '0', ui_amount: '', button_success: false, button_error: false, button_loading: false })\n      }\n    }\n    if(nextProps.sidebar_info !== this.props.sidebar_info) {\n      this.setState({ loading: true })\n      const info = await this.props.drizzle.contracts.Market.methods.getOffer(nextProps.sidebar_info[\"id\"]).call()\n      this.setState({ id: nextProps.sidebar_info[\"id\"], info, amount: '0', ui_amount: '' })\n      setTimeout(this.stopLoading, 250)\n    }\n  }\n\n  flashSuccess() {\n    var { toggleSidebar } = this.props\n    this.setState({ button_success : true, button_loading: false })\n    setTimeout(toggleSidebar, 1500)\n  }\n\n  flashError() {\n    this.setState({ button_error: true, button_loading: false })\n    setTimeout(() => this.setState({ button_error: false }), 1500)\n  }\n\n  // Most important function in the entire file since it actually interfaces\n  // and edits the blockchain.\n  executeTrade = () => {\n    var { drizzle, drizzleState, sidebar_info } = this.props\n    const account = drizzleState.accounts[0]\n    const web3 = drizzle.web3\n\n    var amount = this.state.amount\n    var will_receive = amount === \"\" ? \"0\" : amount\n    will_receive = web3.utils.fromWei(will_receive, 'ether')\n    if(sidebar_info[\"type\"] === \"SELL\") {\n      will_receive /= sidebar_info[\"price\"]\n    } else {\n      will_receive *= sidebar_info[\"price\"]\n    }\n    will_receive = web3.utils.toWei(will_receive.toString(), 'ether')\n\n    var id = sidebar_info[\"id\"]\n\n    drizzle.contracts.Market.methods.buy(id, will_receive).send({from: account, gasPrice: web3.utils.toWei('5', 'gwei') })\n      .on('receipt', this.flashSuccess)\n      .on('error', this.flashError)\n\n    this.setState({ button_loading: true })\n\n    // this.setState({ visible: false, amount: '0', ui_amount: '', info_key: null })\n  }\n\n  numberWithCommas(x) {\n    var parts = x.toString().split(\".\");\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    return parts.join(\".\");\n  }\n\n  handleUserChange(value) {\n    var internal_value = 0\n    try{\n      if(/\\S/.test(value)) {\n        internal_value = this.props.drizzle.web3.utils.toWei(value.toString(), 'ether')\n      }\n    } catch (err) {\n      console.log(err)\n      return\n    }\n    this.setState({ ui_amount: value, amount: internal_value })\n  }\n\n  handleAmountPercentageChange(value) {\n    var ui_value = this.props.drizzle.web3.utils.fromWei(value.toString(), 'ether')\n    this.setState({ amount: value, ui_amount: ui_value })\n  }\n\n  // So we were passed in the most up to date info the older component had.\n  // However this can and will change if it was stale or other people are taking the order.\n  // This keeps the info up to date and fallsback onto the old data if an error happens.\n  getUpdatedInfo() {\n    var { info } = this.state\n    var { sidebar_info } = this.props\n    const web3 = this.props.drizzle.web3\n\n    var info_obj = {}\n    if(!info) {\n      return null\n    }\n\n    var buy_amt = info[0]\n    var pay_amt = info[2]\n    if(sidebar_info[\"type\"] === \"BUY\") {\n      info_obj = {\n        \"price\": sidebar_info[\"price\"],\n        \"curr_0_amt\": web3.utils.toBN(pay_amt),\n        \"curr_1_amt\": web3.utils.toBN(buy_amt)\n      }\n    } else {\n      info_obj = {\n        \"price\": sidebar_info[\"price\"],\n        \"curr_0_amt\": web3.utils.toBN(buy_amt),\n        \"curr_1_amt\": web3.utils.toBN(pay_amt)\n      }\n    }\n\n    return info_obj\n  }\n\n  render() {\n    var { visible, amount, ui_amount, currency_0_balance, currency_1_balance, bignumbers, loading, button_loading, button_error, button_success } = this.state\n    var { currencies, toggleSidebar, sidebar_info } = this.props\n    const web3 = this.props.drizzle.web3\n\n    // Invert the type since the action do as a taker is the inverse of the action of the maker\n    var action = sidebar_info[\"type\"] === \"BUY\" ? \"SELL\" : \"BUY\"\n    var subtitle = action === \"BUY\" ? (<span className=\"green\">{action}</span>) : (<span className=\"red\">SELL</span>)\n\n    // So we were passed in the most up to date info the older component had.\n    // However this can and will change if it was stale or other people are taking the order.\n    // This keeps the info up to date and fallsback onto the old data if an error happens.\n    var updated_info = this.getUpdatedInfo()\n    if(!updated_info || loading) {\n      return (\n        <div className=\"Side_bar\">\n          <Sidebar as={Segment} animation=\"overlay\" direction=\"right\" visible={visible} id=\"Side_bar\">\n            <div id=\"Side_bar-x-container\">\n              <Icon name=\"close\" onClick={toggleSidebar} id=\"Side_bar-x\" size=\"large\" />\n            </div>\n            <div id=\"Side_bar-title\">Take Order</div>\n            <Loader active>Loading</Loader>\n          </Sidebar>\n        </div>\n      )\n    }\n\n    // Build object that swaps values for buys and sells so that rendering is simple\n    var giving = {\n      \"currency\": null,\n      \"balance\": 0,\n      \"offered\": 0,\n      \"max_take\": 0,\n      \"receive_currency\": null,\n      \"will_receive\": 0\n    }\n    var will_receive = ui_amount === \"\" ? 0 : ui_amount\n\n    if(action === \"BUY\") {\n      giving[\"currency\"] = currencies[1]\n      giving[\"receive_currency\"] = currencies[0]\n      giving[\"balance\"] = web3.utils.toBN(currency_1_balance)\n      giving[\"ui_balance\"] = Math.round(web3.utils.fromWei(currency_1_balance, 'ether') * 1000) / 1000\n      giving[\"offered\"] = updated_info[\"curr_1_amt\"]\n      giving[\"ui_offered\"] = Math.round(web3.utils.fromWei(updated_info[\"curr_1_amt\"], 'ether') * 1000) / 1000\n      giving[\"will_receive\"] = Math.round((will_receive / updated_info[\"price\"]) * 1000) / 1000\n    } else {\n      giving[\"currency\"] = currencies[0]\n      giving[\"receive_currency\"] = currencies[1]\n      giving[\"balance\"] = web3.utils.toBN(currency_0_balance)\n      giving[\"ui_balance\"] = Math.round(web3.utils.fromWei(currency_0_balance, 'ether') * 1000) / 1000\n      giving[\"offered\"] = updated_info[\"curr_0_amt\"]\n      giving[\"ui_offered\"] = Math.round(web3.utils.fromWei(updated_info[\"curr_0_amt\"], 'ether') * 1000) / 1000\n      giving[\"will_receive\"] = Math.round((will_receive * updated_info[\"price\"]) * 1000) / 1000\n    }\n    giving[\"max_take\"] = giving[\"balance\"].lt(giving[\"offered\"]) ? giving[\"balance\"] : giving[\"offered\"]\n\n    var button_text = action + \" \" + currencies[0]\n    if(button_success) {\n      button_text = \"SUCCESS\"\n    }\n    if(button_error) {\n      button_text = \"FAILED\"\n    }\n\n    return (\n      <div className=\"Side_bar\">\n        <Sidebar as={Segment} animation=\"overlay\" direction=\"right\" visible={visible} id=\"Side_bar\">\n          <div id=\"Side_bar-x-container\">\n            <Icon name=\"close\" onClick={toggleSidebar} id=\"Side_bar-x\" size=\"large\" />\n          </div>\n          <div id=\"Side_bar-title\">Take Order</div>\n          <div id=\"Side_bar-subtitle\">How much would you like to {subtitle}?</div>\n          \n          <div id=\"Side_bar-info\">\n            <div className=\"Side_bar-info-item\">\n              <div className=\"Side_bar-info-title\">Price:</div>\n              <div className=\"Side_bar-info-content\">{this.numberWithCommas(updated_info[\"price\"])} <span id=\"Side_bar-exchange\">{currencies[1]} / {currencies[0]}</span></div>\n            </div>\n\n            <div className=\"Side_bar-info-item\">\n              <div className=\"Side_bar-info-title\">Balance {giving[\"currency\"]}:</div>\n              <div className=\"Side_bar-info-content\">{this.numberWithCommas(giving[\"ui_balance\"])} <span id=\"Side_bar-exchange\">{giving[\"currency\"]}</span></div>\n            </div>\n\n            <div className=\"Side_bar-info-item\">\n              <div className=\"Side_bar-info-title\">Offered {giving[\"currency\"]}:</div>\n              <div className=\"Side_bar-info-content\">{this.numberWithCommas(giving[\"ui_offered\"])} <span id=\"Side_bar-exchange\">{giving[\"currency\"]}</span></div>\n            </div>\n          </div>\n\n          <Form size='tiny' id=\"Side_bar-form\">\n            <Form.Field>\n              <div>\n                <div className=\"Side_bar-info-title\">Spend {giving[\"currency\"]}:</div>\n                <Input\n                  label={{ basic: true, content: giving[\"currency\"] }}\n                  labelPosition='right'\n                  placeholder='Enter Amount...'\n                  value={ui_amount}\n                  onChange={(e) => { this.handleUserChange(e.target.value) }}\n                />\n              </div>\n            </Form.Field>\n            <Button.Group id=\"Side_bar-mini-buttons\" size='mini' basic>\n              <Button onClick={ () => this.handleUserChange(\"\") } >0%</Button>\n              <Button onClick={ () => this.handleAmountPercentageChange(giving[\"max_take\"].div(bignumbers[4])) } >25%</Button>\n              <Button onClick={ () => this.handleAmountPercentageChange(giving[\"max_take\"].div(bignumbers[2])) } >50%</Button>\n              <Button onClick={ () => this.handleAmountPercentageChange(giving[\"max_take\"].mul(bignumbers[3]).div(bignumbers[4])) } >75%</Button>\n              <Button onClick={ () => this.handleAmountPercentageChange(giving[\"max_take\"]) } >100%</Button>\n            </Button.Group>\n          </Form>\n          <div className=\"Side_bar-info-item\">\n            <div className=\"Side_bar-info-title\">Will Receive</div>\n            <div className=\"Side_bar-info-content\">{giving[\"will_receive\"].toString() + \" \" + giving[\"receive_currency\"]}</div>\n          </div>\n\n          <Button className=\"BuySell-button\" loading={button_loading} color={action === \"BUY\" ? \"green\" : \"red\"} disabled={button_text !== action + \" \" + currencies[0] || ui_amount === \"\" || web3.utils.toBN(amount).gt(giving[\"max_take\"])} onClick={this.executeTrade}>{button_text}</Button>\n\n        </Sidebar>\n      </div>\n    );\n  }\n}\n\nexport default SideBar\n","import React, { Component } from 'react'\nimport { Grid, Tab } from 'semantic-ui-react'\n\n// import Chart from './chart/chart'\nimport OrderList from './orderlist/orderlist'\nimport BuySell from './buysell/buysell'\nimport MyOrders from './myorders/myorders'\nimport MarketHistory from './markethistory/markethistory'\nimport MyHistory from './myhistory/myhistory'\nimport SideBar from './sidebar/sidebar'\n\nimport './market.css'\n\nclass Market extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      currencies: [],\n      visible: false,\n      sidebar_info: {\n        \"price\": 0,\n        \"curr_0_amt\": 0,\n        \"curr_1_amt\": 0,\n        \"id\": \"\",\n        \"type\": \"\"\n      },\n      keys: {\n        numBuys: null,\n        numSells: null\n      }\n    }\n  }\n\n  componentWillMount() {\n    var currencies = this.props.pair.split(\"_\")\n    this.setState({currencies})\n  }\n\n  componentDidMount() {\n    var { drizzle } = this.props\n    var { currencies } = this.state\n\n    var buy_token_addr = drizzle.contracts[currencies[0]].address\n    var sell_token_addr = drizzle.contracts[currencies[1]].address\n\n    const numBuysKey = drizzle.contracts.Market.methods.getOfferCount.cacheCall(sell_token_addr, buy_token_addr)\n    const numSellsKey = drizzle.contracts.Market.methods.getOfferCount.cacheCall(buy_token_addr, sell_token_addr)\n\n    let keys = Object.assign({}, this.state.keys)\n    keys[\"numBuys\"] = numBuysKey\n    keys[\"numSells\"] = numSellsKey\n\n    this.setState({currencies, keys})\n  }\n\n  setSidebar = (info) => {\n    this.setState({ sidebar_info: info, visible: true })\n  }\n\n  toggleSidebar = () => {\n    this.setState({ visible: !this.state.visible })\n  }\n\n  render() {\n    var { currencies, keys, visible, sidebar_info } = this.state\n    var { Market } = this.props.drizzleState.contracts\n    var { drizzle, drizzleState } = this.props\n\n    var title = \"Market: \"\n    if(currencies.length === 2) {\n      title = title + currencies[0] + \"/\" + currencies[1]\n    }\n\n    var numBuys = \"Loading...\"\n    var numSells = \"Loading...\"\n\n    if(keys[\"numBuys\"] in Market.getOfferCount) {\n      numBuys = Market.getOfferCount[keys[\"numBuys\"]].value\n    }\n    if(keys[\"numSells\"] in Market.getOfferCount) {\n      numSells = Market.getOfferCount[keys[\"numSells\"]].value\n    }\n\n    if(!numBuys) {\n      numBuys = \"Error...\"\n    }\n    if(!numSells) {\n      numSells = \"Error...\"\n    }\n\n    const panes = [\n      { menuItem: 'Open Orders', render: () => <Tab.Pane className=\"Market-tab-pane\"><MyOrders currencies={currencies} drizzle={drizzle} drizzleState={drizzleState} /></Tab.Pane> },\n      { menuItem: 'My History', render: () => <Tab.Pane className=\"Market-tab-pane\"><MyHistory currencies={currencies} drizzle={drizzle} drizzleState={drizzleState} /></Tab.Pane> },\n      { menuItem: 'Market History', render: () => <Tab.Pane className=\"Market-tab-pane\"><MarketHistory currencies={currencies} drizzle={drizzle} drizzleState={drizzleState} /></Tab.Pane> },\n    ]\n\n    return (\n      <div className=\"Market\">\n        <SideBar currencies={currencies} toggleSidebar={this.toggleSidebar} sidebar_info={sidebar_info} visible={visible} drizzle={drizzle} drizzleState={ drizzleState } />\n        <div id=\"Market-title\"><span className=\"Market-h1\">{title}</span></div>\n\n        <div className=\"Market-headers\">Make Order</div>\n        <div id=\"Market-buysell\"><BuySell currencies={currencies} drizzle={drizzle} drizzleState={ drizzleState } /></div>\n        \n        <div className=\"Market-headers\">Activity Pane</div>\n        <div id=\"Market-activity-pane\">\n          <Tab menu={{ fluid: true, tabular: true, attached: 'top' }} panes={panes} />\n        </div>\n        <Grid divided id=\"Market-orderlists\">\n          <Grid.Row>\n            <Grid.Column className=\"Market-orderlist\" computer={8} tablet={8} mobile={16}>\n              <div className=\"Market-headers\">{currencies[0]} <span className=\"green\">Buy</span> Orders ({numBuys})</div>\n              <OrderList currencies={currencies} type={\"BUY\"} drizzle={drizzle} drizzleState={ drizzleState } setSidebar={this.setSidebar} />\n            </Grid.Column>\n            <Grid.Column className=\"Market-orderlist\" computer={8} tablet={8} mobile={16}>\n              <div className=\"Market-headers\">{currencies[0]} <span className=\"red\">Sell</span> Orders ({numSells})</div>\n              <OrderList currencies={currencies} type={\"SELL\"} drizzle={drizzle} drizzleState={ drizzleState } setSidebar={this.setSidebar} />\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default Market\n","import React, { Component } from 'react'\nimport { Transition } from 'semantic-ui-react'\nimport './home.css'\n\nclass Home extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n\n  }\n\n  componentDidUpdate() {\n  }\n\n  render() {\n    return (\n      <div id=\"Home\">\n        <Transition transitionOnMount={true} animation='fade up' duration={1500}>\n          <div id=\"Home-title\">\n            OasisX\n          </div>\n        </Transition>\n        <Transition transitionOnMount={true} animation='fade up' duration={3500}>\n          <div id=\"Home-subtitle\">\n            The fastest UI for Oasis.\n          </div>\n        </Transition>\n      </div>\n    )\n  }\n}\n\nexport default Home;","import React, { Component } from 'react'\nimport { Input, Form, Button } from 'semantic-ui-react'\n\nimport './wrapstation.css'\n\nclass WrapStation extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      amount_wrap: '0',\n      ui_amount_wrap: '',\n      amount_unwrap: '0',\n      ui_amount_unwrap: '',\n      bignumbers: {}\n    }\n  }\n\n  componentDidMount() {\n    var bignumbers = {}\n    for(var i = 0; i <= 10; i++) {\n      var key = i\n      bignumbers[key] = this.props.drizzle.web3.utils.toBN(key)\n    }\n\n    this.setState({ bignumbers })\n  }\n\n  handlePercentUpdate(name, value) {\n    var ui_value = this.props.drizzle.web3.utils.fromWei(value.toString(), 'ether')\n    if(name === \"amount_wrap\") {\n      this.setState({ amount_wrap: value, ui_amount_wrap: ui_value })\n    } else if(name === \"amount_unwrap\") {\n      this.setState({ amount_unwrap: value, ui_amount_unwrap: ui_value })\n    } else {\n      return\n    }\n  }\n\n  handleUserUpdate(name, value) {\n    var internal_value = 0\n    try{\n      if(/\\S/.test(value)) {\n        internal_value = this.props.drizzle.web3.utils.toWei(value.toString(), 'ether')\n      }\n    } catch (err) {\n      console.log(err)\n      return\n    }\n\n    if(name === \"ui_amount_wrap\") {\n      this.setState({ ui_amount_wrap: value, amount_wrap: internal_value })\n    } else if(name === \"ui_amount_unwrap\") {\n      this.setState({ ui_amount_unwrap: value, amount_unwrap: internal_value })\n    } else {\n      return\n    }\n  }\n\n  onWrap = () => {\n    // Grab the wrap function from the contract instance and the account and amount we want to execute it with\n    const deposit = this.props.drizzle.contracts.WETH.methods.deposit\n    const account = this.props.drizzleState.accounts[0]\n    var amount = this.state.amount_wrap\n    var web3 = this.props.drizzle.web3\n\n    // Need to check if the amount value is an empty string/undefined/null and that it's greater than 0\n    if(amount && amount > 0) {\n      console.log(\"SENDING \" + amount + \" TO WRAPPER...\")\n      deposit.cacheSend({value: amount, from: account, gasPrice: web3.utils.toWei('5', 'gwei') })\n      this.setState({ amount_wrap: '0', ui_amount_wrap: '' })\n    } else {\n      console.log(\"Error: No amount chosen\")\n    }\n  }\n\n  onUnwrap = () => {\n    const withdraw = this.props.drizzle.contracts.WETH.methods.withdraw\n    const account = this.props.drizzleState.accounts[0]\n    var amount = this.state.amount_unwrap\n    var web3 = this.props.drizzle.web3\n\n    if(amount && amount > 0) {\n      console.log(\"SENDING \" + amount + \" TO UNWRAPPER...\")\n      withdraw.cacheSend(amount.toString(), {from: account, gasPrice: web3.utils.toWei('5', 'gwei') })\n      this.setState({ amount_unwrap: '0', ui_amount_unwrap: '' })\n    } else {\n      console.log(\"Error: No amount chosen\")\n    }\n  }\n\n  render() {\n    var { weth_balance, eth_balance } = this.props\n    var { ui_amount_wrap, ui_amount_unwrap, bignumbers } = this.state\n\n    // Convert to BigNumbers since they will have potential math done on them (risk of overflow/underflow)\n    eth_balance = this.props.drizzle.web3.utils.toBN(eth_balance)\n    weth_balance = this.props.drizzle.web3.utils.toBN(weth_balance)\n\n    return (\n      <div className=\"WrapStation\">\n        <div id=\"WrapStation-title\">Wrap / Unwrap</div>\n        <Form onSubmit={this.handleSubmit} size='tiny' id=\"WrapStation-form\">\n          <div className=\"WrapStation-headers\">Wrap <span id=\"WrapStation-warning\"><span className=\"red\">WARNING:</span> DO NOT WRAP ALL YOUR ETHER</span></div>\n          <Form.Group unstackable className=\"WrapStation-formgroup\">\n            <Form.Field width={11}>\n              <Input\n                label={{ basic: true, content: \"ETH\" }}\n                labelPosition='right'\n                placeholder='Enter Amount ETH...'\n                value={ui_amount_wrap}\n                onChange={(e) => { this.handleUserUpdate('ui_amount_wrap', e.target.value) }}\n              />\n            </Form.Field>\n            <Form.Button width={4} className=\"WrapStation-button\" color='green' size='small' disabled={ui_amount_wrap === \"\"} onClick={ () => this.onWrap() } >WRAP</Form.Button>\n          </Form.Group>\n          <Button.Group className=\"WrapStation-mini-buttons\" size='mini' basic inverted>\n            <Button onClick={ () => this.handleUserUpdate(\"ui_amount_wrap\", \"\") } >0%</Button>\n            <Button onClick={ () => this.handlePercentUpdate(\"amount_wrap\", eth_balance.div(bignumbers[4])) } >25%</Button>\n            <Button onClick={ () => this.handlePercentUpdate(\"amount_wrap\", eth_balance.div(bignumbers[2])) } >50%</Button>\n            <Button onClick={ () => this.handlePercentUpdate(\"amount_wrap\", eth_balance.mul(bignumbers[3]).div(bignumbers[4])) } >75%</Button>\n            <Button onClick={ () => this.handlePercentUpdate(\"amount_wrap\", eth_balance.mul(bignumbers[9]).div(bignumbers[10])) } >90%</Button>\n          </Button.Group>\n          <div className=\"WrapStation-headers\">Unwrap</div>\n          <Form.Group unstackable className=\"WrapStation-formgroup\">\n            <Form.Field width={10}>\n              <Input\n                label={{ basic: true, content: \"WETH\" }}\n                labelPosition='right'\n                placeholder='Enter Amount WETH...'\n                value={ui_amount_unwrap}\n                onChange={(e) => { this.handleUserUpdate('amount_unwrap', e.target.value) }}\n              />\n            </Form.Field>\n            <Form.Button width={4} className=\"WrapStation-button\" color='green' size='small' disabled={ui_amount_unwrap === \"\"} onClick={ () => this.onUnwrap() } >UNWRAP</Form.Button>\n          </Form.Group>\n          <Button.Group className=\"WrapStation-mini-buttons\" size='mini' basic inverted>\n            <Button onClick={ () => this.handleUserUpdate(\"ui_amount_unwrap\", \"\") } >0%</Button>\n            <Button onClick={ () => this.handlePercentUpdate(\"amount_unwrap\", weth_balance.div(bignumbers[4])) } >25%</Button>\n            <Button onClick={ () => this.handlePercentUpdate(\"amount_unwrap\", weth_balance.div(bignumbers[2])) } >50%</Button>\n            <Button onClick={ () => this.handlePercentUpdate(\"amount_unwrap\", weth_balance.mul(bignumbers[3]).div(bignumbers[4])) } >75%</Button>\n            <Button onClick={ () => this.handlePercentUpdate(\"amount_unwrap\", weth_balance) } >100%</Button>\n          </Button.Group>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default WrapStation\n","import React, { Component } from 'react'\nimport { Header, Table, Checkbox, Icon } from 'semantic-ui-react'\nimport './infobar.css'\n\nimport WrapStation from './wrapstation/wrapstation'\n\nclass Infobar extends Component {\n  constructor(props, context) {\n    super(props)\n    this.state = {\n      currencies: {\n        \"WETH\": {\n          balance: 0,\n          approved: 0\n        },\n        \"DAI\": {\n          balance: 0,\n          approved: 0\n        },\n        \"MKR\": {\n          balance: 0,\n          approved: 0\n        },\n        \"ETH\": {\n          balance: 0,\n          approved: 0\n        }\n      }\n    }\n\n    this.updateInfo = this.updateInfo.bind(this)\n  }\n\n  componentDidMount() {\n    this.updateInfo()\n  }\n\n  async updateInfo() {\n    const { drizzle, drizzleState } = this.props\n    let account = drizzleState.accounts[0]\n    let market_address = drizzle.contracts.Market.address\n    \n    const weth_balance = await drizzle.contracts.WETH.methods.balanceOf(account).call()\n    const dai_balance = await drizzle.contracts.DAI.methods.balanceOf(account).call()\n    const mkr_balance = await drizzle.contracts.MKR.methods.balanceOf(account).call()\n    \n    const weth_approval = await drizzle.contracts.WETH.methods.allowance(account, market_address).call()\n    const dai_approval = await drizzle.contracts.DAI.methods.allowance(account, market_address).call()\n    const mkr_approval = await drizzle.contracts.MKR.methods.allowance(account, market_address).call()\n    \n    var eth_balance = drizzleState.accountBalances[account]\n\n    var currencies = {\n      \"WETH\": {\n        balance: weth_balance,\n        approved: weth_approval\n      },\n      \"DAI\": {\n        balance: dai_balance,\n        approved: dai_approval\n      },\n      \"MKR\": {\n        balance: mkr_balance,\n        approved: mkr_approval\n      },\n      \"ETH\": {\n        balance: eth_balance,\n        approved: \"115792089237316195423570985008687907853269984665640564039457584007913129639935\"\n      }\n    }\n\n    this.setState({ currencies })\n\n    setTimeout(this.updateInfo, 2500)\n  }\n\n  approveCurrencyForAmount(currency, amount) {\n    var { drizzle, drizzleState } = this.props\n    var account = drizzleState.accounts[0]\n    let market_address = drizzle.contracts.Market.address\n    var web3 = drizzle.web3\n\n    if(currency in drizzle.contracts) {\n      var currency_contract = drizzle.contracts[currency]\n      \n      var approve = currency_contract.methods.approve\n      approve.cacheSend(market_address, amount, {from: account, gasPrice: web3.utils.toWei('5', 'gwei') })\n    }\n  }\n\n  approveCurrency(currency) {\n    this.approveCurrencyForAmount(currency, \"115792089237316195423570985008687907853269984665640564039457584007913129639935\")\n  }\n\n  unapproveCurrency(currency) {\n    this.approveCurrencyForAmount(currency, \"0\")\n  }\n\n  toggleApproval(currency, current_approval) {\n    let new_approval = !current_approval\n    if(new_approval) {\n      this.approveCurrency(currency)\n    } else {\n      this.unapproveCurrency(currency)\n    }\n  }\n\n  getUIBalance(raw_balance) {\n    let UI_balance = raw_balance\n    if(raw_balance != null) {\n      UI_balance = Math.round(this.props.drizzle.web3.utils.fromWei(raw_balance.toString(), 'ether') * 1000) / 1000\n    } else {\n      UI_balance = \"Error...\"\n    }\n    return UI_balance    \n  }\n\n  getUIAllowance(raw_balance, raw_allowance) {\n    const web3 = this.props.drizzle.web3\n    let UI_allowance = false\n    raw_allowance = web3.utils.toBN(raw_allowance)\n    let balance = web3.utils.toBN(raw_balance)\n    if(raw_allowance.gte(balance)) {\n      UI_allowance = true\n    } else {\n      UI_allowance = false\n    }\n    return UI_allowance\n  }\n\n  render() {\n    const { currencies } = this.state\n    const { padded, closeSidebar, drizzle, drizzleState } = this.props\n    let account = drizzleState.accounts[0]\n\n    const vals = Object.keys(currencies).map((key) => {\n      var obj = {}\n      obj[\"name\"] = key\n      obj[\"balance\"] = \"0\"\n      obj[\"approved\"] = false\n      var raw_balance = currencies[key][\"balance\"]\n      var raw_allowance = currencies[key][\"approved\"]\n      if(raw_balance && raw_allowance) {\n        obj[\"balance\"] = this.getUIBalance(raw_balance)\n        obj[\"approved\"] = this.getUIAllowance(raw_balance, raw_allowance)      \n      }\n      return obj\n    })\n\n    var padding = null\n    var ui_account = account\n    var x_icon = <Icon name=\"close\" id=\"Infobar-x\" size=\"large\" onClick={closeSidebar} />\n    if(padded) {\n      padding = \"very\"\n      x_icon = null\n    } else {\n      if(ui_account) {\n        ui_account = ui_account.substring(0, 10) + \" ... \" + ui_account.substring(ui_account.length - 10, ui_account.length) \n      }\n    }\n\n    return (\n      <div id='Infobar'>\n        <div className='Infobar-header'>{ui_account}{x_icon}</div>\n        <Table basic='very' padded={padding} striped unstackable id=\"Infobar-table\">\n          <Table.Header id=\"Infobar-table-header\">\n            <Table.Row>\n              <Table.HeaderCell className='Infobar-table-entry' textAlign='left'>Token</Table.HeaderCell>\n              <Table.HeaderCell className='Infobar-table-entry' textAlign='left'>Balance</Table.HeaderCell>\n              <Table.HeaderCell className='Infobar-table-entry' textAlign='left'>Approved</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n\n          <Table.Body>\n            {vals.map((item, index) => {\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell>\n                    <Header className='Infobar-table-entry' textAlign='left'>{item.name}</Header>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <Header className='Infobar-table-entry' textAlign='left'>{item.balance}</Header>\n                  </Table.Cell>\n\n                  <Table.Cell  textAlign='left'>\n                    <Checkbox toggle disabled={item.name === \"ETH\"} checked={item.approved} onClick={ () => this.toggleApproval(item.name, item.approved) } />\n                  </Table.Cell>\n                </Table.Row>\n              )\n            })}\n          </Table.Body>\n        </Table>\n\n        <WrapStation drizzle={drizzle} drizzleState={drizzleState} weth_balance={currencies[\"WETH\"][\"balance\"]} eth_balance={currencies[\"ETH\"][\"balance\"]} />\n      </div>\n    )\n  }\n}\n\nexport default Infobar;","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Menu, Responsive, Icon, Dropdown, Sidebar, Segment } from 'semantic-ui-react'\nimport './navbar.css'\nimport logo from '../../images/x.svg'\nimport Infobar from '../infobar/infobar'\n\nclass Navbar extends Component {\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name })\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      activeItem: '',\n      visible: false\n    }\n  }\n\n  componentDidUpdate() {\n  }\n\n  toggleVisible = () => {\n    this.setState({ visible: !this.state.visible })\n  }\n\n  render() {\n    const { children, drizzle, drizzleState } = this.props\n    const { activeItem, visible } = this.state\n\n    // var title = \"OasisX\"\n    var other_buttons = []\n    other_buttons.push(\n      {\n        name: 'WETH/DAI',\n        href: '/WETH_DAI' \n      },\n      {\n        name: 'MKR/WETH',\n        href: '/MKR_WETH'\n      },\n      {\n        name: 'MKR/DAI',\n        href: '/MKR_DAI'\n      }\n    )\n\n\n    return (\n      <div>\n        <Responsive {...Responsive.onlyMobile}>\n          <Menu \n            borderless\n            fixed='top'\n            id='Navbar-mobile'\n          >\n            <Menu.Item\n              name='Home'\n              active={activeItem === 'Home'}\n              href='/'\n              className='Navbar-item'\n            >\n              <div className='Navbar-button-mobile' id='Navbar-logo-container'><img src={logo} alt='logo' id='Navbar-logo-mobile' /></div>\n            </Menu.Item>\n            <Dropdown item text='Markets' className='Navbar-dropdown'>\n              <Dropdown.Menu>\n                {\n                  other_buttons.map((button, idx) => {\n                    return (\n                        <Dropdown.Item\n                          name={button.name}\n                          active={activeItem === button.name}\n                          className='Navbar-item'\n                          as={Link}\n                          to={button.href}\n                          key={idx}\n                        >\n                        {button.name}\n                      </Dropdown.Item>\n                    )\n                  })\n                }\n              </Dropdown.Menu>\n            </Dropdown>\n            <Menu.Menu position='right'>\n              <Menu.Item>\n                <Icon name='sidebar' inverted onClick={ this.toggleVisible } />\n              </Menu.Item>                \n            </Menu.Menu>\n          </Menu>\n          <Sidebar as={Segment} animation=\"overlay\" direction=\"right\" visible={visible} id=\"Navbar-Side_info_bar\">\n            <Infobar drizzle={drizzle} drizzleState={ drizzleState } padded={false} closeSidebar={this.toggleVisible} />\n          </Sidebar>\n          { children }\n        </Responsive>\n\n        <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n          <Menu \n            secondary \n            vertical\n            size='mini'\n            id='Navbar'\n          >\n            <Menu.Item\n              name='Home'\n              className='Navbar-item'\n              as={Link}\n              to={'/'}\n            >\n              <div className='Navbar-button' id='Navbar-logo-container'><img src={logo} alt='logo' className='Navbar-icon' /></div>\n            </Menu.Item>\n            {\n              other_buttons.map((button, idx) => {\n                return (\n                    <Menu.Item\n                      name={button.name}\n                      active={activeItem === button.name}\n                      className='Navbar-item'\n                      onClick={this.handleToggle}\n                      as={Link}\n                      to={button.href}\n                      key={idx}\n                    >\n                    <div className='Navbar-button'>{button.name}</div>\n                  </Menu.Item>\n                )\n              })\n            }\n          </Menu>\n          { children }\n        </Responsive>\n      </div>\n    )\n  }\n}\n\nexport default Navbar;","import React, { Component } from 'react'\nimport { HashRouter, Switch, Route } from 'react-router-dom'\nimport { Responsive } from 'semantic-ui-react'\n\nimport './App.css'\n\nimport Market from '../market/market'\nimport Home from '../home/home'\nimport Navbar from '../navbar/navbar'\nimport Infobar from '../infobar/infobar'\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: true,\n      drizzleState: null\n    }\n  }\n\n  componentDidMount() {\n    const { drizzle } = this.props\n\n    // Subscribe to changes in the store and assign to unsubscribe for later release\n    this.unsubscribe = drizzle.store.subscribe(() => {\n\n      // Every time the store updates we update the state and pass it to all the children\n      const drizzleState = drizzle.store.getState()\n\n      // If the entire setup is initialized then we update local component states\n      if(drizzleState.drizzleStatus.initialized) {\n        this.setState({ loading: false, drizzleState })\n      }\n    })\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe()\n  }\n\n  render() {\n    var { loading, drizzleState } = this.state\n    var { drizzle } = this.props\n\n    if(loading) {\n      return <div id=\"App-loading-screen\">Connecting to Ethereum...</div>\n    }\n    else {\n      return (\n        <div className=\"App\">\n          <HashRouter>\n            <div>\n              <Navbar drizzle={drizzle} drizzleState={ drizzleState } />\n              <div id=\"App_market_container\">\n                  <Switch>\n                    <Route exact path='/' render={() => <Home drizzle={drizzle} drizzleState={ drizzleState } />} />\n                    <Route exact path='/WETH_DAI' render={() => <Market key={'WETH_DAI'} drizzle={drizzle} drizzleState={ drizzleState } pair={'WETH_DAI'} />} />\n                    <Route exact path='/MKR_WETH' render={() => <Market key={'MKR_WETH'} drizzle={drizzle} drizzleState={ drizzleState } pair={'MKR_WETH'} />} />\n                    <Route exact path='/MKR_DAI' render={() => <Market  key={'MKR_DAI'} drizzle={drizzle} drizzleState={ drizzleState } pair={'MKR_DAI'} />} />\n                  </Switch>\n              </div>\n            </div>\n          </HashRouter>\n          <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n            <Infobar drizzle={drizzle} drizzleState={ drizzleState } padded={true} />\n          </Responsive>\n        </div>\n      );\n    }\n  }\n}\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css';\n\nimport './index.css';\nimport App from './containers/App/App';\nimport registerServiceWorker from './registerServiceWorker';\n\nimport { Drizzle, generateStore } from 'drizzle'\n\nimport Web3 from 'web3';\nconst web3 = new Web3(Web3.givenProvider || \"http://localhost:9545\")\n// web3.currentProvider.enable()\n\nconst config = require(\"./config\")\nconst erc20Abi = require(\"./abi/standard-token/erc20\")\nconst WEthAbi = require(\"./abi/standard-token/ds-eth-token\")\nconst MatchingMarketAbi = require(\"./abi/maker-otc/matching-market\");\nconst SupportMethodsAbi = require(\"./abi/otc-support-methods/otc-support-methods\")\n\nconst WETH = new web3.eth.Contract(WEthAbi.interface, config[\"tokens\"][\"main\"][\"W-ETH\"])\nconst DAI = new web3.eth.Contract(erc20Abi.interface, config[\"tokens\"][\"main\"][\"DAI\"])\nconst MKR = new web3.eth.Contract(erc20Abi.interface, config[\"tokens\"][\"main\"][\"MKR\"])\nconst market = new web3.eth.Contract(MatchingMarketAbi.interface, config[\"market\"][\"main\"][\"address\"])\nconst supportMethods = new web3.eth.Contract(SupportMethodsAbi.interface, config[\"otcSupportMethods\"][\"main\"][\"address\"])\n\nconst options = {\n\tcontracts: [\n\t\t{\n\t\t\tcontractName: 'WETH',\n\t\t\tweb3Contract: WETH\n\t\t},\n\t\t{\n\t\t\tcontractName: 'DAI',\n\t\t\tweb3Contract: DAI\n\t\t},\n\t\t{\n\t\t\tcontractName: 'MKR',\n\t\t\tweb3Contract: MKR\n\t\t},\n\t\t{\n\t\t\tcontractName: 'Market',\n\t\t\tweb3Contract: market\n\t\t},\n\t\t{\n\t\t\tcontractName: 'SupportMethods',\n\t\t\tweb3Contract: supportMethods\n\t\t}\n\t],\n\tevents: {\n\t\tMarket: ['LogTake']\n\t},\n\tpolls: {\n\t\taccounts: 3000,\n\t\tblocks: 3000\n\t},\n\tsyncAlways: false\n}\n\nconst drizzleStore = generateStore(options)\nconst drizzle = new Drizzle(options, drizzleStore)\n\nReactDOM.render(<App drizzle={drizzle} />, document.getElementById('root'));\nregisterServiceWorker();"],"sourceRoot":""}