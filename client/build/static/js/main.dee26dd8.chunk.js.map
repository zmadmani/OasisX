{"version":3,"sources":["images/x.svg","workers/orders.worker.js","registerServiceWorker.js","components/utils/general.js","components/utils/humanname/humanname.js","components/market/orderlistV2/orderlistV2.js","components/market/limitorder/limitorder.js","components/market/marketorder/marketorder.js","components/market/stoporder/stoporder.js","components/market/myorders/myorders.js","components/market/stats/chart/chart.js","components/market/stats/stats.js","components/utils/orders.js","components/market/accountstats/accountstats.js","components/market/markethistory/markethistory.js","components/market/leaderboard/leaderboard.js","components/market/myhistory/myhistory.js","components/market/sidebar/sidebar.js","components/market/mystoporders/mystoporders.js","components/utils/openorders.js","components/market/market.js","components/home/home.js","components/login/login.js","components/infobar/wrapstation/wrapstation.js","components/infobar/settings/settings.js","components/infobar/infobar.js","components/navbar/navbar.js","components/App/App.js","index.js"],"names":["module","exports","__webpack_require__","p","Worker","__webpack_public_path__","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","numberWithCommas","x","parts","toString","split","replace","join","first_names","last_names","colors","fontColors","HumanName","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loading","balances","getBalances","prevProps","prevState","address","setState","options","currencies","contracts","balanceOf","Math","round","ethers","utils","formatUnits","nextProps","nextState","length","num_names","bigNumberify","first_name_idx","substr","last_name_idx","mod","initials","num_colors","long_num","color_idx","_this$props2","icon_only","inactive_link","react_default","a","createElement","className","_this$getName","getName","_this$getName2","slicedToArray","name","_this$getColor","getColor","_this$getColor2","backgroundColor","fontColor","color","onClick","open","icon","style","final","title","Popup","trigger","Header","Content","Component","OrderListV2","max_order","orders","buy_orders","sell_orders","last_order","top10","concat","sort","b","curr_1_amt","slice","floor","_this2","index","_ref","key","item","maker","price","id","Grid","padded","Column","computer","tablet","mobile","content","account","type","ratio","color_0","color_1","custom_style","backgroundImage","backgroundSize","backgroundRepeat","assign","setSidebar","verticalAlign","humanname_humanname","_this3","_this$props","sell_orders_reverse","reverse","push","curr_0_amt","getMax","Icon","size","es","outline","_ref2","height","width","rowHeight","rowCount","rowRenderer","scrollToIndex","LimitOrder","sidetext","init","success","amount_0","ui_amount_0","amount_1","ui_amount_1","bignumbers","last_price","handleSubmit","bind","assertThisInitialized","flashSuccess","flashError","generateBigNumbers","i","curr_gem_0","curr_gem_1","data","pay_amt","pay_gem","buy_amt","buy_gem","Market","offer","gasLimit","gasPrice","tx","wait","_context","t0","setTimeout","value","test","amount_1_bn","parseUnits","amount_0_bn","price_bn","one_bn","mul","div","err","_this4","_this$state","can_buy","can_sell","curr_0_balance","curr_1_balance","gte","gt","side_text","Loader","active","inline","Form","Field","Input","label","basic","labelPosition","placeholder","onChange","e","handlePriceChange","target","disabled","readOnly","handleAmountChange","Button","Group","inverted","handleAmountPercentageChange","MarketOrder","amounts","ui_amounts","expected_price","expected_amount","slippage","handleMarketBuy","handleMarketSell","numerator","sub","min_expected_amount","min_fill_amount","sellAllAmount","_this$state5","reset","_this$state6","_this3$state","_this$state7","will_receive","giving","getBuyAmount","one","_this$state9","new_amounts","new_ui_amounts","ui_amount","amount_bn","setExpectedAmount","_this5","_this$state10","_this$state11","slip_ratio","parseFloat","_this6","_this$state12","_this$props4","side_texts","handleSlippageChange","calcMinExpectedAmount","widths","StopOrder","condOrderType","conditional","targetPrice","tradeOrderType","tradeAmount","tradeAmountUI","approved","handlePlaceOrder","updateInfo","toggleApproval","signer","getAddress","getApprovals","curr0_approval","curr1_approval","zeroBN","orderType","payAmt","priceBN","payAmtBN","getPayReceiveCryptos","condPayCrypto","condReceiveCrypto","tradePayCrypto","tradeReceiveCrypto","condPayAmt","condReceiveLimit","getReceiveLimit","tradePayAmt","updown","getUpDown","OasisX","createOrder","defineProperty","newTradeAmount","newTradeAmountUI","_this$state2","amount_label","tradeOrderType_corrected","tradeAmountUI_corrected","amount","oasisx_address","promises","currency","contract","approve","Promise","all","approveCurrencyForAmount","newApproved","approveCurrency","unapproveCurrency","allowance","_this$state3","can_place_order","conditionOrderTypes","text","curr_balance","explanation","buildExplanation","Checkbox","fitted","toggle","checked","Dropdown","selection","handleFieldChange","handleTargetPriceChange","MyOrders","myOrders","cancel","orders_table","background_item","getMyOrders","Table","Body","map","Row","Cell","textAlign","cancelOrder","selectable","striped","celled","unstackable","columns","HeaderCell","candlesAppearance","wickStroke","fill","d","close","widthRatio","opacity","CandleChart","first_timestamp","curr_candle","date","Date","high","low","volume","end_timestamp","order","max","min","chart","initialData","buildChartPoints","ema10","ema","windowSize","sourcePath","skipUndefined","merge","c","accessor","stroke","ema50","calculatedData","margin","left","right","top","bottom","yGrid","innerTickSize","tickStrokeDasharray","tickStrokeOpacity","tickStrokeWidth","xGrid","_xScaleProvider","discontinuousTimeScaleProvider","inputDateAccessor","xScaleProvider","xScale","xAccessor","displayXAccessor","xExtents","last","react_stockcharts_es","seriesName","clamp","yExtents","axes","axisAt","orient","ticks","tickStroke","series","yAccessor","coordinates","tooltip","origin","xDisplayFormat","timeFormat","textFill","echo","w","h","tickFormat","format","fitWidth","Stats","buildStat","users","num_users","num_buys","num_sells","buy_volume","sell_volume","last_type","new_stats","curr_1","raw_stats","keys","statistics","updateStats","stats_chart_chart","List","Item","Description","getPrice","lte","getType","curr_0_addr","curr_1_addr","buy_addr","toUpperCase","pay_addr","eventsToOrders","events","timestamp","toLocaleTimeString","undefined","hour","minute","toLocaleDateString","day","month","year","raw_timestamp","curr_0","taker","buildHashKey","first_addr","second_addr","solidityKeccak256","_callee","hashKey01","hashKey10","filter01_maker","filter01_taker","filter10_maker","filter10_taker","regenerator_default","wrap","prev","next","filters","LogTake","removeAllListeners","stop","_callee2","hashKey1","hashKey2","filter1","filter2","_context2","subscribeToMyNewOrders","_x6","_x7","_x8","_x9","_subscribeToMyNewOrders","apply","arguments","_callee3","addOrders","_context3","on","pair","take_amt","give_amt","event","subscribeToNewOrders","_x10","_x11","_x12","_subscribeToNewOrders","_callee4","_context4","AccountStats","amount_0_bought","avg_buy_price","amount_0_sold","avg_sell_price","profit","eventsToData","profiles","buyer","seller","newUserProfile","profile_data","add","avg_buy_order","avg_sell_order","getProfit","data_point","amount_0_given","amount_1_received","amount_1_given","amount_0_received","amount_sell","amount_buy","sell_price","buy_price","min_amount","lt","profit_suffix","bought_suffix","sold_suffix","profit_prefix","MarketHistory","o","participants","only","Leaderboard","direction","column","new_data","max_profit","abs","user","first","second","profit_color","clicked_column","symbol","headers","handleSort","MyHistory","my_orders","new_order","SideBar","visible","currency_0_balance","currency_1_balance","info","owner","button_loading","button_success","button_error","stopLoading","getOffer","getOwner","sidebar_info","toggleSidebar","inputs","will_receive_wholenums","buy","internal_value","ui_value","balance","_this$props3","action","subtitle","updated_info","getUpdatedInfo","Sidebar","as","Segment","animation","receive_currency","offered","max_take","getMaxTake","calcWillReceive","button_text","handleUserChange","executeTrade","MyStopOrders","uid","condExplanation","tradeType","tradeSuffix","processOpenOrders","rawOrders","n","pay_amount","buy_amount","trimNulls","mainField","fieldList","trimLength","filter","toNumber","obj","getOpenOrders","_x","_x2","_x3","_getOpenOrders","token_addr_0","token_addr_1","pay_token","buy_token","allRawOrders","newOrders","offerId","SupportMethods","getOffers","sent","getWorseOffer","abrupt","getStopInfo","payCrypto","receiveCrypto","receiveAmt","condUpDown","condType","processStopOpenOrders","getOpenStopOrders","_x4","_x5","_getOpenStopOrders","allRawOrdersInverse","getOpenOrdersOfTrader","config","require","setDocTitle","past_orders","addMyOrders","my_past_orders","open_buy_orders","open_sell_orders","my_open_stop_orders","timers","num_order_calls","num_my_order_calls","logged_latest_block","done_loading","done_loading_my_orders","updateBalances","updateOpenOrders","updateOpenStopOrders","pastOrderWorker","myWorker","provider","getBlockNumber","addEventListener","payload","processNewBatchPastOrders","processNewBatchMyPastOrders","postMessage","toBlock","numBlocks","ceil","parseInt","clearTimeout","_unSubscribeToNewOrders","unSubscribeToNewOrders","_unSubscribeToMyNewOrders","unSubscribeToMyNewOrders","timer","document","_unused","_this$props6","buildTitle","all_open_orders","activity_panes","menuItem","render","Tab","Pane","markethistory_markethistory","leaderboard_leaderboard","myorders_myorders","mystoporders_mystoporders","myhistory_myhistory","buy_panes","limitorder_limitorder","marketorder_marketorder","stoporder_stoporder","sidebar_sidebar","stats_stats","divided","menu","fluid","tabular","attached","panes","orderlistV2_orderlistV2","Responsive","minWidth","onlyTablet","maxWidth","accountstats_accountstats","Home","Transition","transitionOnMount","duration","Login","selected","phrase","password","redirect","saved_wallets","handleRedirect","getSavedAccounts","localStorage","getItem","JSON","parse","handleLogin","handleReLogin","Redirect","to","wallet_list","classes","field_change","WrapStation","onWrap","asyncToGenerator","mark","deposit","WETH","amount_wrap","onUnwrap","withdraw","amount_unwrap","ui_amount_wrap","ui_amount_unwrap","weth_balance","eth_balance","_this$state4","onSubmit","handleUserUpdate","handlePercentUpdate","Settings","changeGasPrice","gasPriceGwei","submit","setGasPrice","buttonStatus","buttonColor","href","rel","MAX_VAL","Infobar","context","DAI","MKR","ETH","market_address","dai_balance","mkr_balance","weth_approval","dai_approval","mkr_approval","getBalance","current_approval","weth_promise","dai_promise","mkr_promise","raw_balance","raw_allowance","getUIBalance","getUIAllowance","closeSidebar","currenciesInformation","buildRenderList","x_icon","username","primary","Link","wrapstation_wrapstation","settings_settings","other_buttons","Navbar","toggleVisible","children","onlyMobile","Menu","borderless","fixed","src","logo","alt","button","idx","position","infobar_infobar","secondary","vertical","handleToggle","erc20Abi","WEthAbi","MatchingMarketAbi","SupportMethodsAbi","App","objectSpread","setItem","defaultGasPrice","getOptions","ethereum","getEthereum","errors","setLogLevel","providers","Web3Provider","getSigner","getContracts","getDefaultProvider","Wallet","createRandom","buildOptions","fromMnemonic","connect","encrypt","encrypted_wallet","saveEncryptedWallet","json_string","fromEncryptedJson","wallet","stringify","stored_wallets","web3","currentProvider","contract_initializer","Contract","interface","HashRouter","navbar_navbar","Switch","Route","exact","path","home_home","login_login","market_market","React","ReactDOM","components_App_App","getElementById","URL","process","fetch","response","status","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.dee26dd8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/x.23ec4264.svg\";","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"f68e87ad70158c391eff.worker.js\");\n};","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export function numberWithCommas(x) {\n  var parts = x.toString().split(\".\");\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  return parts.join(\".\");\n}\n","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { ethers } from 'ethers';\nimport { Popup } from 'semantic-ui-react';\nimport { numberWithCommas } from '../general';\n\n// Import CSS Files\nimport './humanname.css';\n\n// Set up constants\nconst first_names = [\"JAMES\", \"JOHN\", \"ROBERT\", \"MICHAEL\", \"WILLIAM\", \"DAVID\", \"RICHARD\", \"CHARLES\", \"JOSEPH\", \"THOMAS\", \"CHRISTOPHER\", \"DANIEL\", \"PAUL\", \"MARK\", \"DONALD\", \"GEORGE\", \"KENNETH\", \"STEVEN\", \"EDWARD\", \"BRIAN\", \"RONALD\", \"ANTHONY\", \"KEVIN\", \"JASON\", \"MATTHEW\", \"GARY\", \"TIMOTHY\", \"JOSE\", \"LARRY\", \"JEFFREY\", \"FRANK\", \"SCOTT\", \"ERIC\", \"STEPHEN\", \"ANDREW\", \"RAYMOND\", \"GREGORY\", \"JOSHUA\", \"JERRY\", \"DENNIS\", \"WALTER\", \"PATRICK\", \"PETER\", \"HAROLD\", \"DOUGLAS\", \"HENRY\", \"CARL\", \"ARTHUR\", \"RYAN\", \"ROGER\", \"JOE\", \"JUAN\", \"JACK\", \"ALBERT\", \"JONATHAN\", \"JUSTIN\", \"TERRY\", \"GERALD\", \"KEITH\", \"SAMUEL\", \"WILLIE\", \"RALPH\", \"LAWRENCE\", \"NICHOLAS\", \"ROY\", \"BENJAMIN\", \"BRUCE\", \"BRANDON\", \"ADAM\", \"HARRY\", \"FRED\", \"WAYNE\", \"BILLY\", \"STEVE\", \"LOUIS\", \"JEREMY\", \"AARON\", \"RANDY\", \"HOWARD\", \"EUGENE\", \"CARLOS\", \"RUSSELL\", \"BOBBY\", \"VICTOR\", \"MARTIN\", \"ERNEST\", \"PHILLIP\", \"TODD\", \"JESSE\", \"CRAIG\", \"ALAN\", \"SHAWN\", \"CLARENCE\", \"SEAN\", \"PHILIP\", \"CHRIS\", \"JOHNNY\", \"EARL\", \"JIMMY\", \"ANTONIO\", \"DANNY\", \"BRYAN\", \"TONY\", \"LUIS\", \"MIKE\", \"STANLEY\", \"LEONARD\", \"NATHAN\", \"DALE\", \"MANUEL\", \"RODNEY\", \"CURTIS\", \"NORMAN\", \"ALLEN\", \"MARVIN\", \"VINCENT\", \"GLENN\", \"JEFFERY\", \"TRAVIS\", \"JEFF\", \"CHAD\", \"JACOB\", \"LEE\", \"MELVIN\", \"ALFRED\", \"KYLE\", \"FRANCIS\", \"BRADLEY\", \"JESUS\", \"HERBERT\", \"FREDERICK\", \"RAY\", \"JOEL\", \"EDWIN\", \"DON\", \"EDDIE\", \"RICKY\", \"TROY\", \"RANDALL\", \"BARRY\", \"ALEXANDER\", \"BERNARD\", \"MARIO\", \"LEROY\", \"FRANCISCO\", \"MARCUS\", \"MICHEAL\", \"THEODORE\", \"CLIFFORD\", \"MIGUEL\", \"OSCAR\", \"JAY\", \"JIM\", \"TOM\", \"CALVIN\", \"ALEX\", \"JON\", \"RONNIE\", \"BILL\", \"LLOYD\", \"TOMMY\", \"LEON\", \"DEREK\", \"WARREN\", \"DARRELL\", \"JEROME\", \"FLOYD\", \"LEO\", \"ALVIN\", \"TIM\", \"WESLEY\", \"GORDON\", \"DEAN\", \"GREG\", \"JORGE\", \"DUSTIN\", \"PEDRO\", \"DERRICK\", \"DAN\", \"LEWIS\", \"ZACHARY\", \"COREY\", \"HERMAN\", \"MAURICE\", \"VERNON\", \"ROBERTO\", \"CLYDE\", \"GLEN\", \"HECTOR\", \"SHANE\", \"RICARDO\", \"SAM\", \"RICK\", \"LESTER\", \"BRENT\", \"RAMON\", \"CHARLIE\", \"TYLER\", \"GILBERT\", \"GENE\"];\nconst last_names = [\"SMITH\", \"JOHNSON\", \"WILLIAMS\", \"JONES\", \"BROWN\", \"DAVIS\", \"MILLER\", \"WILSON\", \"MOORE\", \"TAYLOR\", \"ANDERSON\", \"THOMAS\", \"JACKSON\", \"WHITE\", \"HARRIS\", \"MARTIN\", \"THOMPSON\", \"GARCIA\", \"MARTINEZ\", \"ROBINSON\", \"CLARK\", \"RODRIGUEZ\", \"LEWIS\", \"LEE\", \"WALKER\", \"HALL\", \"ALLEN\", \"YOUNG\", \"HERNANDEZ\", \"KING\", \"WRIGHT\", \"LOPEZ\", \"HILL\", \"SCOTT\", \"GREEN\", \"ADAMS\", \"BAKER\", \"GONZALEZ\", \"NELSON\", \"CARTER\", \"MITCHELL\", \"PEREZ\", \"ROBERTS\", \"TURNER\", \"PHILLIPS\", \"CAMPBELL\", \"PARKER\", \"EVANS\", \"EDWARDS\", \"COLLINS\", \"STEWART\", \"SANCHEZ\", \"MORRIS\", \"ROGERS\", \"REED\", \"COOK\", \"MORGAN\", \"BELL\", \"MURPHY\", \"BAILEY\", \"RIVERA\", \"COOPER\", \"RICHARDSON\", \"COX\", \"HOWARD\", \"WARD\", \"TORRES\", \"PETERSON\", \"GRAY\", \"RAMIREZ\", \"JAMES\", \"WATSON\", \"BROOKS\", \"KELLY\", \"SANDERS\", \"PRICE\", \"BENNETT\", \"WOOD\", \"BARNES\", \"ROSS\", \"HENDERSON\", \"COLEMAN\", \"JENKINS\", \"PERRY\", \"POWELL\", \"LONG\", \"PATTERSON\", \"HUGHES\", \"FLORES\", \"WASHINGTON\", \"BUTLER\", \"SIMMONS\", \"FOSTER\", \"GONZALES\", \"BRYANT\", \"ALEXANDER\", \"RUSSELL\", \"GRIFFIN\", \"DIAZ\", \"HAYES\", \"MYERS\", \"FORD\", \"HAMILTON\", \"GRAHAM\", \"SULLIVAN\", \"WALLACE\", \"WOODS\", \"COLE\", \"WEST\", \"JORDAN\", \"OWENS\", \"REYNOLDS\", \"FISHER\", \"ELLIS\", \"HARRISON\", \"GIBSON\", \"MCDONALD\", \"CRUZ\", \"MARSHALL\", \"ORTIZ\", \"GOMEZ\", \"MURRAY\", \"FREEMAN\", \"WELLS\", \"WEBB\", \"SIMPSON\", \"STEVENS\", \"TUCKER\", \"PORTER\", \"HUNTER\", \"HICKS\", \"CRAWFORD\", \"HENRY\", \"BOYD\", \"MASON\", \"MORALES\", \"KENNEDY\", \"WARREN\", \"DIXON\", \"RAMOS\", \"REYES\", \"BURNS\", \"GORDON\", \"SHAW\", \"HOLMES\", \"RICE\", \"ROBERTSON\", \"HUNT\", \"BLACK\", \"DANIELS\", \"PALMER\", \"MILLS\", \"NICHOLS\", \"GRANT\", \"KNIGHT\", \"FERGUSON\", \"ROSE\", \"STONE\", \"HAWKINS\", \"DUNN\", \"PERKINS\", \"HUDSON\", \"SPENCER\", \"GARDNER\", \"STEPHENS\", \"PAYNE\", \"PIERCE\", \"BERRY\", \"MATTHEWS\", \"ARNOLD\", \"WAGNER\", \"WILLIS\", \"RAY\", \"WATKINS\", \"OLSON\", \"CARROLL\", \"DUNCAN\", \"SNYDER\", \"HART\", \"CUNNINGHAM\", \"BRADLEY\", \"LANE\", \"ANDREWS\", \"RUIZ\", \"HARPER\", \"FOX\", \"RILEY\", \"ARMSTRONG\", \"CARPENTER\", \"WEAVER\", \"GREENE\", \"LAWRENCE\", \"ELLIOTT\", \"CHAVEZ\", \"SIMS\", \"AUSTIN\", \"PETERS\", \"KELLEY\", \"FRANKLIN\", \"LAWSON\"];\nconst colors = [\"#001f3f\", \"#0074D9\", \"#7FDBFF\", \"#39CCCC\", \"#2ECC40\", \"#01FF70\", \"#FFDC00\", \"#FF851B\", \"#3D9970\", \"#F15152\", \"#111111\", \"#AAAAAA\", \"#DDDDDD\"];\nconst fontColors = [\"#FFFFFF\", \"#FFFFFF\", \"#111111\", \"#111111\", \"#111111\", \"#111111\", \"#111111\", \"#111111\", \"#111111\", \"#111111\", \"#FFFFFF\", \"#111111\", \"#111111\"];\n\nclass HumanName extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      balances: [\"...\", \"...\"]\n    };\n\n    this.getBalances();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if(this.props.address !== prevProps.address) {\n      this.setState({ balances: [\"...\", \"...\"], loading: true });\n      this.getBalances();\n    }\n  }\n\n  async getBalances() {\n    // Convert raw orders into the proper format and store max profit someone has made over the data range\n    const { address, options, currencies } = this.props;\n    if (currencies) {\n      let balances = this.state.balances\n      balances[0] = await options.contracts[currencies[0]].balanceOf(address)\n      balances[1] = await options.contracts[currencies[1]].balanceOf(address)\n      balances[0] = numberWithCommas(Math.round(ethers.utils.formatUnits(balances[0].toString(), 'ether') * 1000) / 1000)\n      balances[1] = numberWithCommas(Math.round(ethers.utils.formatUnits(balances[1].toString(), 'ether') * 1000) / 1000)\n      this.setState({ loading: false, balances })\n    }\n  }\n\n  // Only update the component if the address has changed since no other change will effect output.\n  shouldComponentUpdate(nextProps, nextState) {\n    if(this.props.address !== nextProps.address || this.state.loading !== nextState.loading) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Convert the address to a name using the mapping scheme\n  getName(address) {\n    // If the address is an empty string then return the appropriate response\n    if(address.length === 0) {\n      return [address, \"0x\"];\n    }\n\n    const num_names = ethers.utils.bigNumberify(\"200\");\n    \n    // Split the address into 2 equal lengths to create the first and last names\n    let first_name_idx = ethers.utils.bigNumberify(address.substr(0, 22)).toString();\n    let last_name_idx = ethers.utils.bigNumberify(\"0x\" + address.substr(22, 40)).toString();\n    \n    // Mod the numbers by 200 to get a response that is within the max index of 200 to be used to retrieve a first and last name\n    first_name_idx = ethers.utils.bigNumberify(first_name_idx).mod(num_names).toString();\n    last_name_idx = ethers.utils.bigNumberify(last_name_idx).mod(num_names).toString();\n\n    const initials = first_names[first_name_idx][0] + last_names[last_name_idx][0];\n    return [first_names[first_name_idx] + \" \" + last_names[last_name_idx], initials];\n  }\n\n  // Convert the address to a color using the mapping scheme\n  getColor(address) {\n    // If the address is an empty string then return the appropriate response\n    if(address.length === 0) {\n      return [colors[0], fontColors[0]];\n    }\n\n    const num_colors = ethers.utils.bigNumberify(\"13\");\n    const long_num = ethers.utils.bigNumberify(address).toString();\n\n    // Mode the number by 13 to get a response within the max index of 13 to be used to retrieve the colors\n    const color_idx = ethers.utils.bigNumberify(long_num).mod(num_colors).toString()\n    return [colors[color_idx], fontColors[color_idx]]\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { address, icon_only, inactive_link, currencies } = this.props;\n    const { balances } = this.state;\n\n    // If the address is null then render an empty circle\n    if(!address) {\n      return (<div className=\"HumanName-circle\"></div>);\n    }\n\n    // Get the computed name and colors\n    let [ name, initials ] = this.getName(address);\n    const [ backgroundColor, fontColor ] = this.getColor(address);\n    \n    name = (<div className=\"HumanName-name\">{name}</div>);\n    const color = { \"backgroundColor\": backgroundColor, \"color\": fontColor };\n\n    // OnClick function will open up a tab with the account information in etherscan\n    let onClick = () => window.open('https://etherscan.io/address/' + address, '_blank');\n    if(inactive_link) {\n      onClick = null;\n    }\n\n    const icon = (<div className=\"HumanName-circle\" style={color}>{initials}</div>)\n    let final = (<span className=\"HumanName\" title={address} onClick={onClick}>{icon} {name}</span>)\n    if( icon_only ) {\n      final = (<span className=\"HumanName\" title={address} onClick={onClick}>{icon}</span>)\n    }\n\n    if(currencies) {\n      final = (<Popup trigger={final}>\n                <Popup.Header>Balances</Popup.Header>\n                <Popup.Content>\n                  <p>{balances[0]} {currencies[0]}</p>                \n                  <p>{balances[1]} {currencies[1]}</p>                \n                </Popup.Content>\n              </Popup>)\n    }\n    return final\n\n  }\n}\n\nexport default HumanName\n","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { Grid, Icon, Popup } from 'semantic-ui-react';\nimport { AutoSizer, List } from 'react-virtualized';\n\n// Import CSS FIle\nimport './orderlistV2.css';\n\n// Import src code\nimport HumanName from '../../utils/humanname/humanname';\nimport { numberWithCommas } from '../../utils/general';\n\nclass OrderListV2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n\n    this.max_order = 1;\n    this.orders = [];\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Only update if buy/sell orders has changed or the last order is different\n    if(nextProps.buy_orders !== this.props.buy_orders || nextProps.sell_orders !== this.props.sell_orders || nextProps.last_order !== this.props.last_order) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Retreives the maximum value in the orderbook\n  getMax(orders) {\n    const top10 = orders.concat().sort((a,b) => b.curr_1_amt - a.curr_1_amt).slice(0,10);\n    if(top10.length === 10) {\n      return top10[top10.length-1].curr_1_amt;\n    } else if(top10.length > 0) {\n      return top10[Math.floor(top10.length/2)].curr_1_amt;\n    } else {\n      return null;\n    }\n  }\n\n  // Renders the HTML for each row in the virtualized table\n  // Includes the color bands based on ratio to max\n  rowRenderer({index, key, style}) {\n    const item = this.orders[index];\n    // If this condition is true then this means it is the middle dividing row and the last price should be shown\n    if(item.maker === \"0\") {\n      const { last_order } = this.props;\n      let price = \"...\";\n      if(last_order[\"price\"]) {\n        price = last_order[\"type\"] === \"BUY\" ? (<span className=\"green\">{numberWithCommas(Math.round(last_order[\"price\"] * 100)/100) + \"\"}</span>) : (<span className=\"red\">{numberWithCommas(Math.round(last_order[\"price\"] * 100)/100)  + \"\" }</span>);\n      }\n      return (\n        <div id=\"OrderListV2-table-middle\" key={key} style={style} >\n          <Grid padded={'horizontally'}>\n            <Grid.Column computer={2} tablet={2} mobile={3}>\n            </Grid.Column>\n            <Grid.Column computer={4} tablet={4} mobile={4}>\n              <Popup trigger={<span>{price}</span>} content='Last Price' />\n            </Grid.Column>\n            <Grid.Column computer={5} tablet={5} mobile={4}>\n            </Grid.Column>\n            <Grid.Column computer={5} tablet={5} mobile={5}>\n            </Grid.Column>\n          </Grid>\n        </div>\n      )      \n    }\n\n    // Calculate ratio to the max\n    const { account } = this.props;\n    const type = item[\"type\"];\n    const ratio = item[\"curr_1_amt\"]/this.max_order * 100;\n    const direction = \"right\";\n\n    // Calculate the colors for the color bands\n    let color_0 = \"rgba(255, 0, 0, 0.2)\";\n    let color_1 = \"rgba(0,0,0,0)\";\n    if(type === \"BUY\") {\n      color_0 = \"rgba(0, 255, 0, 0.1)\";\n      color_1 = \"rgba(0, 0, 0, 0)\";\n    }\n\n    // Get the color to make the rows striped\n    let color = index % 2 === 0 ? `#182026` : `#1c262c`;\n    if(account === item[\"maker\"]) {\n      color = `#3f4a50`;\n    }\n\n    const custom_style = { \n      backgroundColor: color,\n      backgroundImage: `linear-gradient(to ${direction}, ${color_0} , ${color_0}), linear-gradient(to ${direction}, ${color_1}, ${color_1})` ,\n      backgroundSize: `calc(${ratio}%) 100%`,\n      backgroundRepeat: `no-repeat`\n    };\n\n    style = Object.assign(custom_style, style);\n    let price = item[\"type\"] === \"BUY\" ? (<span className=\"green\">{numberWithCommas(Math.round(item[\"price\"] * 100)/100)}</span>) : (<span className=\"red\">{numberWithCommas(Math.round(item[\"price\"] * 100)/100)}</span>);\n    return (\n      <div className=\"OrderListV2-table-entry\" key={key} style={style} onClick={() => this.props.setSidebar(item) }>\n        <Grid padded={'horizontally'} verticalAlign={'middle'} className=\"OrderListV2-table-entry-grid\">\n          <Grid.Column computer={2} tablet={2} mobile={3} className=\"OrderListV2-table-entry-grid-img\">\n            <HumanName inactive_link icon_only address={item[\"maker\"]} />\n          </Grid.Column>\n          <Grid.Column computer={4} tablet={4} mobile={4} className=\"OrderListV2-table-entry-grid-col\">\n            {price}\n          </Grid.Column>\n          <Grid.Column computer={5} tablet={5} mobile={4} className=\"OrderListV2-table-entry-grid-col\">\n            {numberWithCommas(item[\"curr_0_amt\"])}\n          </Grid.Column>\n          <Grid.Column computer={5} tablet={5} mobile={5} className=\"OrderListV2-table-entry-grid-col\">\n            {numberWithCommas(item[\"curr_1_amt\"])}\n          </Grid.Column>\n        </Grid>\n      </div>\n    )\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { currencies, buy_orders, sell_orders } = this.props;\n\n    // Copy and reverse the sell order list\n    const sell_orders_reverse = sell_orders.slice(0);\n    sell_orders_reverse.reverse();\n\n    // Push the \"MIDDLE\" row with the price summary onto the list\n    sell_orders_reverse.push({\n      \"maker\": \"0\",\n      \"price\": \"0\",\n      \"curr_0_amt\": \"0\",\n      \"curr_1_amt\": \"0\"\n    });\n\n    // Concatenate with the list of buy orders to get the mirroed orderbook\n    this.orders = sell_orders_reverse.concat(buy_orders);\n\n    // Recalculate the max order on the books\n    this.max_order = this.getMax(this.orders);\n\n    // If the buy or sell book is length 0 then just show loading screen since this mostly indicates an error and bad UX\n    if(sell_orders.length === 0 && buy_orders.length === 0) {\n      return (\n        <div className=\"OrderListV2\">\n          <div className=\"OrderListV2-loading\">Loading...</div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"OrderListV2\">\n        <Grid id=\"OrderListV2-table-header\">\n          <Grid.Column computer={2} tablet={2} mobile={3}>\n            <Icon name=\"user circle\" size=\"large\" />\n          </Grid.Column>\n          <Grid.Column computer={4} tablet={4} mobile={4}>\n            Price\n          </Grid.Column>\n          <Grid.Column computer={5} tablet={5} mobile={4}>\n            {currencies[0]}\n          </Grid.Column>\n          <Grid.Column computer={5} tablet={5} mobile={5}>\n            {currencies[1]}\n          </Grid.Column>\n        </Grid>\n        <AutoSizer style={{outline: 'none'}}>\n          {({ height, width }) => (\n            <List\n              width={width}\n              height={height - 50}\n              rowHeight={40}\n              rowCount={this.orders.length}\n              rowRenderer={(props) => this.rowRenderer(props)}\n              scrollToIndex={sell_orders_reverse.length + 6}\n              className=\"OrderListV2-infinite-list\"\n            >\n            </List>\n          )}\n        </AutoSizer>\n      </div>\n    );\n  }\n}\n\nexport default OrderListV2","// Import Major Dependencies\nimport React, { Component } from 'react'\nimport { ethers } from 'ethers';\nimport { Input, Form, Button, Loader } from 'semantic-ui-react'\n\n// Import CSS Files\nimport './limitorder.css'\n\nclass LimitOrder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      sidetext: \"LOADING...\",\n      init: false,\n      error: false,\n      success: false,\n      price: '',\n      amount_0: '',\n      ui_amount_0: '',\n      amount_1: '',\n      ui_amount_1: '',\n      bignumbers: [],\n      last_price: ''\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.flashSuccess = this.flashSuccess.bind(this);\n    this.flashError = this.flashError.bind(this);\n  }\n\n  componentDidMount() {\n    this.generateBigNumbers();\n  }\n\n  // Generates and stores BigNumber integers for easy math later\n  generateBigNumbers() {\n    let bignumbers = {};\n    for(let i = 0; i <= 10; i++) {\n      const key = i;\n      bignumbers[key] = ethers.utils.bigNumberify(key);\n    }\n    this.setState({ bignumbers });\n  }\n\n  // Main function that interfaces and writes to the blockchain.\n  // This is the most important function here.\n  async handleSubmit(type) {\n    // Set loading to true to update UI\n    let sidetext;\n    if(type === \"BUY\") {\n      sidetext = \"BUYING...\"\n    } else if(type === \"SELL\") {\n      sidetext = \"SELLING...\"\n    } else {\n      sidetext = \"LOADING...\"\n    }\n    this.setState({loading: true, sidetext, error: false, success: false});\n\n    const { currencies, options } = this.props;\n\n    // Get the important info for the transaction\n    const amount_0 = this.state.amount_0;\n    const amount_1 = this.state.amount_1;\n    const curr_gem_0 = options.contracts[currencies[0]].address;\n    const curr_gem_1 = options.contracts[currencies[1]].address;\n    let data = {};\n\n    // Set data to the correct value depending on if the order is a BUY or SELL\n    // Basically you just flip the currency 0 and currency 1\n    if(type === \"BUY\") {\n      data = {\n        pay_amt: amount_1,\n        pay_gem: curr_gem_1,\n        buy_amt: amount_0,\n        buy_gem: curr_gem_0\n      };\n    } else if(type === \"SELL\") {\n      data = {\n        pay_amt: amount_0,\n        pay_gem: curr_gem_0,\n        buy_amt: amount_1,\n        buy_gem: curr_gem_1\n      };\n    } else {\n      return;\n    }\n\n    console.log(data);\n\n    try {\n      const tx = await options.contracts.Market.offer(data.pay_amt, data.pay_gem, data.buy_amt, data.buy_gem, 1, { gasLimit: 500000, gasPrice: options.gasPrice });\n      await tx.wait();\n      this.flashSuccess();\n    } catch (error) {\n      console.log(error);\n      this.flashError();\n    }\n  }\n\n  // Function to flash Success on the button when a order has gone thru\n  flashSuccess() {\n    this.setState({ success : true, loading: false });\n    setTimeout(() => this.setState({ success: false, price: '', amount_0: '0', ui_amount_0: '', amount_1: '0', ui_amount_1: '' }), 1500);\n  }\n\n  // Function to flash Error on the button when a order has failed\n  flashError() {\n    this.setState({ error: true, loading: false });\n    setTimeout(() => this.setState({ error: false }), 1500);\n  }\n\n  // Handler for changes in price in the UI\n  handlePriceChange(value) {\n    if(/\\S/.test(value) && this.state.ui_amount_0 !== \"\") {\n      const price = value;\n      const ui_amount_1 = this.state.ui_amount_0 * price;\n      const amount_1_bn = ethers.utils.parseUnits(ui_amount_1.toString(), 'ether');\n      this.setState({ price: price, amount_1: amount_1_bn.toString(), ui_amount_1: ui_amount_1.toString() });\n    } else {\n      this.setState({ price: value, amount_1: '0', ui_amount_1: '' });\n    }\n  }\n\n  // Handler for changes in amount to be traded in the UI\n  handleAmountChange(index, value) {\n    if(/\\S/.test(value) && this.state.price !== \"\") {\n      const price = this.state.price;\n      let ui_amount_0 = null;\n      let ui_amount_1 = null;\n      let amount_0_bn = null;\n      let amount_1_bn = null;\n\n      // All math is done in BigNumber arithmetic using wei\n      if(index === 0) {\n        ui_amount_0 = value;\n        amount_0_bn = ethers.utils.bigNumberify(ethers.utils.parseUnits(ui_amount_0.toString(), 'ether'));\n        ui_amount_1 = ui_amount_0 * price;\n        amount_1_bn = ethers.utils.bigNumberify(ethers.utils.parseUnits(ui_amount_1.toString(), 'ether'));\n      } else if(index === 1) {\n        ui_amount_1 = value;\n        amount_1_bn = ethers.utils.bigNumberify(ethers.utils.parseUnits(ui_amount_1.toString(), 'ether'));\n        ui_amount_0 = ui_amount_1 / price;\n        amount_0_bn = ethers.utils.bigNumberify(ethers.utils.parseUnits(ui_amount_0.toString(), 'ether'));\n      } else {\n        return;\n      }\n\n      this.setState({ \n        amount_0: amount_0_bn.toString(), \n        ui_amount_0: ui_amount_0, \n        amount_1: amount_1_bn.toString(),\n        ui_amount_1: ui_amount_1,\n      });\n    } else {\n      this.setState({\n        amount_0: '0',\n        ui_amount_0: '',\n        amount_1: '0',\n        ui_amount_1: ''\n      });\n    }\n  }\n\n  // Handler for changes in amount using the percentage tools\n  handleAmountPercentageChange(index, value) {\n    const price = this.state.price;\n\n    // All arithmetic is done using BigNumber and wei\n    let ui_amount_0 = null;\n    let ui_amount_1 = null;\n    let amount_0_bn = null;\n    let amount_1_bn = null;\n    const price_bn = ethers.utils.bigNumberify(ethers.utils.parseUnits(price.toString(), 'ether'));\n    const one_bn = ethers.utils.bigNumberify(ethers.utils.parseUnits('1'), 'ether');\n\n    if(index === 0) {\n      amount_0_bn = value;\n      amount_1_bn = amount_0_bn.mul(price_bn).div(one_bn);\n    } else if(index === 1) {\n      amount_1_bn = value;\n      amount_0_bn = amount_1_bn.mul(one_bn).div(price_bn);\n    } else {\n      return;\n    }\n\n    // Try catch to stop any type of input that is invalid with a valid response\n    try {\n      ui_amount_0 = ethers.utils.formatUnits(amount_0_bn.toString(), 'ether');\n    } catch(err) {\n      console.log(err);\n      ui_amount_0 = ethers.utils.formatUnits(\"0\", 'ether');\n    }\n\n    try {\n      ui_amount_1 = ethers.utils.formatUnits(amount_1_bn.toString(), 'ether');\n    } catch(err) {\n      console.log(err);\n      ui_amount_1 = ethers.utils.formatUnits(\"0\", 'ether');\n    }\n\n    this.setState({\n      amount_0: amount_0_bn.toString(),\n      ui_amount_0: ui_amount_0,\n      amount_1: amount_1_bn.toString(),\n      ui_amount_1: ui_amount_1\n    });\n  }\n\n  render() {\n    const { price, amount_0, amount_1, ui_amount_0, ui_amount_1, bignumbers, loading, success, error, sidetext } = this.state;\n    const { currencies, last_price, balances, options } = this.props;\n    \n    // Set flags that set whether a buy/sell is logically possible\n    let can_buy = false;\n    let can_sell = false;\n    \n    const curr_0_balance = ethers.utils.bigNumberify(balances[0]);\n    const curr_1_balance = ethers.utils.bigNumberify(balances[1]);\n    \n    const amount_0_bn = ethers.utils.bigNumberify(amount_0);\n    const amount_1_bn = ethers.utils.bigNumberify(amount_1);\n\n    if(price !== \"\" && curr_0_balance.gte(amount_0_bn) && amount_0_bn.gt(ethers.utils.bigNumberify(\"1000\"))) {\n      can_sell = true;\n    }\n    \n    if(price !== \"\" && curr_1_balance.gte(amount_1_bn) && amount_1_bn.gt(ethers.utils.bigNumberify(\"1000\"))) {\n      can_buy = true;\n    }\n\n    // Set the sidetext (text next to the button) depending on the situation context\n    let side_text = \"\";\n    if(loading) {\n      side_text = (<span className=\"LimitOrder-color\"><Loader active inline size=\"small\"/> {sidetext} </span>);\n    }\n    if(error) {\n      side_text = (<span className=\"red LimitOrder-color\">FAILED</span>);\n    }\n    if(success) {\n      side_text = (<span className=\"green LimitOrder-color\">SUCCESS</span>);\n    }\n\n    return (\n      <div className=\"LimitOrder\">\n        <Form size='tiny'>\n          <div className=\"LimitOrder-headers\">Price</div>\n          <Form.Field id=\"LimitOrder-price\">\n            <Input\n              label={{ basic: true, content: currencies[1] + \" / \" + currencies[0]  }}\n              labelPosition='right'\n              placeholder='Enter Price...'\n              value={price}\n              onChange={(e) => { this.handlePriceChange(e.target.value) }}\n              disabled={options.readOnly}\n            />\n            <span className=\"LimitOrder-currentPrice\" onClick={() => this.handlePriceChange(last_price) } >Current Market Price</span>\n          </Form.Field>\n          <hr />\n          <div className=\"LimitOrder-headers\" id=\"LimitOrder-amount-header\">Amounts</div>\n            <Form.Field>\n              <Input\n                label={{ basic: true, content: currencies[0] }}\n                labelPosition='right'\n                placeholder='Enter Amount...'\n                disabled={price === '' || options.readOnly}\n                value={ui_amount_0}\n                onChange={(e) => { this.handleAmountChange(0, e.target.value) }}\n                className=\"LimitOrder-amount-input\"\n              />\n              <Button.Group className=\"LimitOrder-mini-buttons\" size='mini' basic inverted>\n                <Button disabled={price === \"\" || options.readOnly} onClick={() => this.handleAmountChange(1, '') } >0%</Button>\n                <Button disabled={price === \"\" || options.readOnly} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance.div(bignumbers[4]))} >25%</Button>\n                <Button disabled={price === \"\" || options.readOnly} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance.div(bignumbers[2]))} >50%</Button>\n                <Button disabled={price === \"\" || options.readOnly} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance.mul(bignumbers[3]).div(bignumbers[4]))} >75%</Button>\n                <Button disabled={price === \"\" || options.readOnly} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance) } >100%</Button>\n              </Button.Group>\n            </Form.Field>\n            <Form.Field>\n              <Input\n                label={{ basic: true, content: currencies[1] }}\n                labelPosition='right'\n                placeholder='Enter Amount...'\n                disabled={price === '' || options.readOnly}\n                value={ui_amount_1}\n                onChange={(e) => { this.handleAmountChange(1, e.target.value) }}\n                className=\"LimitOrder-amount-input\"\n              />\n              <Button.Group className=\"LimitOrder-mini-buttons\" size='mini' basic inverted>\n                <Button disabled={price === \"\" || options.readOnly} onClick={() => this.handleAmountChange(1, '') } >0%</Button>\n                <Button disabled={price === \"\" || options.readOnly} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance.div(bignumbers[4]))} >25%</Button>\n                <Button disabled={price === \"\" || options.readOnly} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance.div(bignumbers[2]))} >50%</Button>\n                <Button disabled={price === \"\" || options.readOnly} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance.mul(bignumbers[3]).div(bignumbers[4]))} >75%</Button>\n                <Button disabled={price === \"\" || options.readOnly} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance) } >100%</Button>\n              </Button.Group>\n            </Form.Field>\n          <Button className=\"LimitOrder-button\" color='green' disabled={!can_buy || loading || options.readOnly} onClick={() => this.handleSubmit(\"BUY\")} >BUY {currencies[0]}</Button>\n          <Button className=\"LimitOrder-button\" color='red' disabled={!can_sell || loading || options.readOnly} onClick={() => this.handleSubmit(\"SELL\")} >SELL {currencies[0]}</Button>\n          {side_text}\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default LimitOrder","// Import Major Dependencies\nimport React, { Component } from 'react'\nimport { ethers } from 'ethers';\nimport { Input, Form, Button, Loader } from 'semantic-ui-react'\n\n// Import CSS Files\nimport './marketorder.css'\n\nclass MarketOrder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: [false, false],\n      error: [false, false],\n      success: [false, false],\n      amounts: ['0', '0'],\n      ui_amounts: ['', ''],\n      expected_price: ['', ''],\n      expected_amount: ['0', '0'],\n      slippage: \"2\",\n      bignumbers: []\n    };\n\n    this.handleMarketBuy = this.handleMarketBuy.bind(this);\n    this.handleMarketSell = this.handleMarketSell.bind(this);\n    this.flashSuccess = this.flashSuccess.bind(this);\n    this.flashError = this.flashError.bind(this);\n  }\n\n  componentDidMount() {\n    this.generateBigNumbers();\n  }\n\n  // Generates and stores a list of BigNumber integers for arithmetic later\n  generateBigNumbers() {\n    let bignumbers = {};\n    for(let i = 0; i <= 10; i++) {\n      const key = i;\n      bignumbers[key] = ethers.utils.bigNumberify(key);\n    }\n\n    this.setState({ bignumbers });\n  }\n\n  // Handler for Market Buy\n  async handleMarketBuy() {\n    // Set loading to true to update UI\n    let { loading, error, success } = this.state;\n    loading[1] = true;\n    error[1] = false;\n    success[1] = false;\n    this.setState({ loading , error, success });\n    \n    // Retrieve important variables\n    const { amounts, expected_amount, slippage } = this.state;\n    const { currencies, options } = this.props;\n    \n    const curr_gem_0 = options.contracts[currencies[0]].address;\n    const curr_gem_1 = options.contracts[currencies[1]].address;\n\n    // Calculate the minimum expected amount of currency you will receive\n    const numerator = ethers.utils.bigNumberify(\"100\").sub(ethers.utils.bigNumberify(slippage))\n    const min_expected_amount = numerator.mul(expected_amount[1]).div(ethers.utils.bigNumberify(\"100\"));\n\n    // Assemble the data information into an object\n    const data = {\n      pay_gem: curr_gem_1,\n      pay_amt: amounts[1],\n      buy_gem: curr_gem_0,\n      min_fill_amount: min_expected_amount.toString()\n    };\n\n    // Log the data object to console for clarity\n    console.log(data);\n\n    // Try catch to handle successful and failed tx\n    try {\n      var tx = await options.contracts.Market.sellAllAmount(data[\"pay_gem\"], data[\"pay_amt\"], data[\"buy_gem\"], data[\"min_fill_amount\"], { gasLimit: 500000, gasPrice: options.gasPrice });\n      // Wait for transaction to finish\n      await tx.wait();\n      this.flashSuccess(1);\n    } catch (error) {\n      this.flashError(1);\n    }\n  }\n\n  // Handler for Market Sell\n  async handleMarketSell() {\n    // Set loading to true to update UI\n    let { loading, error, success } = this.state;\n    loading[0] = true;\n    error[0] = false;\n    success[0] = false;\n    this.setState({ loading , error, success });\n\n    // Retrieve important variables\n    const { amounts, expected_amount, slippage } = this.state;\n    const { currencies, options } = this.props;\n\n    const curr_gem_0 = options.contracts[currencies[0]].address;\n    const curr_gem_1 = options.contracts[currencies[1]].address;\n\n    // Calculate the minimum expected amount of currency you will receive\n    const numerator = ethers.utils.bigNumberify(\"100\").sub(ethers.utils.bigNumberify(slippage))\n    const min_expected_amount = numerator.mul(expected_amount[0]).div(ethers.utils.bigNumberify(\"100\"));\n\n    // Assemble the data information into an object\n    const data = {\n      pay_gem: curr_gem_0,\n      pay_amt: amounts[0],\n      buy_gem: curr_gem_1,\n      min_fill_amount: min_expected_amount.toString()\n    };\n\n    // Log the dta object to console for clarity\n    console.log(data);\n\n    // Try catch to handle successful and failed tx\n    try {\n      const tx = await options.contracts.Market.sellAllAmount(data[\"pay_gem\"], data[\"pay_amt\"], data[\"buy_gem\"], data[\"min_fill_amount\"], { gasLimit: 500000, gasPrice: options.gasPrice });\n      // Wait for tx to finish\n      await tx.wait();\n      this.flashSuccess(0);\n    } catch (error) {\n      this.flashError(0);\n    }\n  }\n\n  // Handler for when a tx is successful\n  flashSuccess(index) {\n    let { loading, success, error } = this.state;\n    loading[index] = false;\n    success[index] = true;\n    error[index] = false;\n    this.setState({ loading, success, error });\n    setTimeout(() => this.reset(index), 1500);\n  }\n\n  // Handler for whne a tx is failed\n  flashError(index) {\n    let { loading, success, error } = this.state;\n    loading[index] = false;\n    success[index] = false;\n    error[index] = true;\n    this.setState({ loading, success, error });\n    setTimeout(() => {\n      let { loading, success, error } = this.state;\n      loading[index] = false;\n      success[index] = false;\n      error[index] = false;\n      this.setState({ error });\n    }, 1500);\n  }\n\n  // State reset function that completely nullifies the component state\n  reset(index) {\n    let { loading, success, error, amounts, ui_amounts } = this.state;\n    loading[index] = false;\n    success[index] = false;\n    error[index] = false;\n    amounts[index] = \"0\";\n    ui_amounts[index] = \"\";\n    this.setState({ loading, success, error, amounts, ui_amounts });\n  }\n\n  // Calculate the amount of currency that we expect to receive from the trade\n  // Index is wether currency 0 or 1 is being bought\n  async setExpectedAmount(index) {\n    // Assemble variables\n    const { amounts, expected_amount, expected_price } = this.state;\n    const { currencies, options } = this.props;\n\n    const curr_gem_0 = options.contracts[currencies[0]].address;\n    const curr_gem_1 = options.contracts[currencies[1]].address;\n\n    let will_receive = \"0\";\n    let giving = amounts[index];\n\n    // Depending on which currency is being received\n    if(index === 0) {\n      will_receive = await options.contracts.Market.getBuyAmount(curr_gem_1, curr_gem_0, giving);\n    } else if(index === 1) {\n      will_receive = await options.contracts.Market.getBuyAmount(curr_gem_0, curr_gem_1, giving);\n    }\n\n    // If the amount received/given is greater than 0 then calculate expected info using BigNumber\n    if(will_receive !== \"0\" && giving !== \"0\") {\n      will_receive = ethers.utils.bigNumberify(will_receive);\n      giving = ethers.utils.bigNumberify(giving);\n      var one = ethers.utils.bigNumberify(ethers.utils.parseUnits('1', 'ether'));\n\n      var price = one.mul(will_receive).div(giving);\n      if(index === 1) {\n        price = one.mul(giving).div(will_receive);\n      }\n      price = Math.round(ethers.utils.formatUnits(price.toString(), 'ether') * 1000) / 1000;\n\n      expected_amount[index] = will_receive;\n      expected_price[index] = price;\n    } else {\n      expected_amount[index] = \"0\";\n      expected_price[index] = \"\";\n    }\n    this.setState({ expected_amount, expected_price });\n  }\n\n  // Handler for a change in the amount of currency to be traded\n  handleAmountChange(index, value) {\n    const { amounts, ui_amounts } = this.state;\n\n    // Gather currency balance\n    let new_amounts = amounts.slice(0);\n    let new_ui_amounts = ui_amounts.slice(0);\n\n    // If there is an error then replace values with empty values\n    try {\n      // Test the new amount value to see if it is whitespace and if so replace with empty values\n      if(/\\S/.test(value)) {\n        const ui_amount = value;\n\n        // Get BigNumber representation of the amount in wei\n        const amount_bn = ethers.utils.bigNumberify(ethers.utils.parseUnits(ui_amount.toString(), 'ether'));\n\n        // Reassign the new amounts\n        new_amounts[index] = amount_bn.toString();\n        new_ui_amounts[index] = ui_amount.toString();\n\n        // Save the amounts\n        this.setState({ \n          amounts: new_amounts,\n          ui_amounts: new_ui_amounts\n        });\n      } else {\n        new_amounts[index] = '0';\n        new_ui_amounts[index] = '';\n      }\n    } catch(err) {\n      console.log(err);\n      new_amounts[index] = '0';\n      new_ui_amounts[index] = '';\n    }\n\n    this.setState({\n      amounts: new_amounts,\n      ui_amounts: new_ui_amounts\n    }, () => {\n      this.setExpectedAmount(index);\n    });\n  }\n\n  // Handler for changes in amount using percentage tool\n  handleAmountPercentageChange(index, value) {\n    const { amounts, ui_amounts } = this.state;\n\n    // Gather the amount variables\n    // Initialize ui_amount to 0 to be replaced by real value in try/catch\n    const amount_bn = value;\n    let ui_amount = ethers.utils.formatUnits(\"0\", 'ether');\n    try {\n      ui_amount = ethers.utils.formatUnits(amount_bn.toString(), 'ether');\n    } catch(err) {\n      console.log(err);\n    }\n\n    // clone amounts into new objects\n    let new_amounts = amounts.slice(0);\n    let new_ui_amounts = ui_amounts.slice(0);\n\n    new_amounts[index] = amount_bn.toString();\n    new_ui_amounts[index] = ui_amount.toString();\n\n    // Store new objects\n    this.setState({ \n      amounts: new_amounts,\n      ui_amounts: new_ui_amounts\n    }, () => {\n      this.setExpectedAmount(index);\n    });\n  }\n\n  handleSlippageChange(value) {\n    if (!/\\S/.test(value) || (/^\\d+$/.test(value) && value.length <= 2 && value >= 0 && value <= 99)) {\n      this.setState({slippage: value})\n    }\n  }\n\n  calcMinExpectedAmount(type, expected_amount) {\n    const { slippage, expected_price } = this.state\n    if (slippage === \"\") {\n      return \"\"\n    } else {\n      if (type === \"buy\") {\n        if (expected_price[1] === \"\") return \"\"\n        const slip_ratio = 100.0/(100 - parseFloat(slippage))\n        return Math.round(slip_ratio * expected_price[1] * 1000) / 1000\n      } else {\n        if (expected_price[0] === \"\") return \"\"\n        const slip_ratio = (100 - parseFloat(slippage))/100.0\n        return Math.round(slip_ratio * expected_price[0] * 1000) / 1000\n      }\n    }\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { amounts, ui_amounts, expected_price, bignumbers, slippage, loading, success, error } = this.state;\n    const { currencies, balances, options } = this.props;\n    \n    // Set flags if buying/selling is logically valid\n    let can_buy = false;\n    let can_sell = false;\n    \n    // Get the balances for each currency\n    const curr_0_balance = ethers.utils.bigNumberify(balances[0]);\n    const curr_1_balance = ethers.utils.bigNumberify(balances[1]);\n    \n    // Get the amounts for each currency input box\n    const amount_0_bn = ethers.utils.bigNumberify(amounts[0]);\n    const amount_1_bn = ethers.utils.bigNumberify(amounts[1]);\n\n    // If the balance is greater than the amount then set the proper flags\n    if(curr_0_balance.gte(amount_0_bn) && amount_0_bn.gt(ethers.utils.bigNumberify(\"1000\")) && slippage !== \"\") {\n      can_sell = true;\n    }\n    if(curr_1_balance.gte(amount_1_bn) && amount_1_bn.gt(ethers.utils.bigNumberify(\"1000\")) && slippage !== \"\") {\n      can_buy = true;\n    }\n\n    // Generate the side text next to the buttons\n    let side_texts = [\"\", \"\"];\n    for(let i = 0; i < 2; i++) {\n      if(loading[i]) {\n        side_texts[i] = (<span className=\"MarketOrder-color\"><Loader active inline size=\"small\"/> LOADING...</span>);\n      }\n      if(error[i]) {\n        side_texts[i] = (<span className=\"red MarketOrder-color\">FAILED</span>);\n      }\n      if(success[i]) {\n        side_texts[i] = (<span className=\"green MarketOrder-color\">SUCCESS</span>);\n      }\n    }\n\n    return (\n      <div className=\"MarketOrder\">\n          <div className=\"MarketOrder-small-note\">Slippage \n            <Input\n              value={slippage}\n              onChange={(e) => { this.handleSlippageChange(e.target.value) }}\n              className=\"MarketOrder-slippage-input\"\n              size=\"mini\"\n            />%\n          </div>\n        <div className=\"MarketOrder-pane\">\n          <div className=\"MarketOrder-main-header\">Market <span className=\"green\">BUY</span></div>\n          <div className=\"MarketOrder-sub-header\">Est. Price: {expected_price[1]} <span className=\"MarketOrder-tiny-note\">{currencies[1]}/{currencies[0]}</span></div>\n          <div className=\"MarketOrder-sub-header\">Max. Price: {this.calcMinExpectedAmount(\"buy\", expected_price[1])} <span className=\"MarketOrder-tiny-note\">{currencies[1]}/{currencies[0]}</span></div>\n          <Form size='tiny'>\n            <div className=\"MarketOrder-headers\"><span className=\"green\">Buy</span> Allowance</div>\n            <Form.Group widths='equal'>\n              <Form.Field>\n                <Input\n                  label={{ basic: true, content: currencies[1] }}\n                  labelPosition='right'\n                  placeholder='Enter Amount...'\n                  value={ui_amounts[1]}\n                  onChange={(e) => { this.handleAmountChange(1, e.target.value) }}\n                  className=\"MarketOrder-amount-input\"\n                  disabled={options.readOnly}\n                />\n                <Button.Group className=\"MarketOrder-mini-buttons\" size='mini' basic inverted>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountChange(1, '') } >0%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance.div(bignumbers[4]))} >25%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance.div(bignumbers[2]))} >50%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance.mul(bignumbers[3]).div(bignumbers[4]))} >75%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(1, curr_1_balance) } >100%</Button>\n                </Button.Group>\n              </Form.Field>\n            </Form.Group>\n            <Button className=\"MarketOrder-button\" color='green' disabled={!can_buy || loading[1] || error[1] || options.readOnly} onClick={this.handleMarketBuy} >BUY {currencies[0]}</Button>\n            {side_texts[1]}\n          </Form>\n        </div>\n        <hr />\n        <div className=\"MarketOrder-pane\">\n          <div className=\"MarketOrder-main-header\">Market <span className=\"red\">SELL</span></div>\n          <div className=\"MarketOrder-sub-header\">Est. Price: {expected_price[0]} <span className=\"MarketOrder-tiny-note\">{currencies[1]}/{currencies[0]}</span></div>\n          <div className=\"MarketOrder-sub-header\">Min. Price: {this.calcMinExpectedAmount(\"sell\", expected_price[0])} <span className=\"MarketOrder-tiny-note\">{currencies[1]}/{currencies[0]}</span></div>\n          <Form size='tiny'>\n            <div className=\"MarketOrder-headers\"><span className=\"red\">Sell</span> Allowance</div>\n            <Form.Group widths='equal'>\n              <Form.Field>\n                <Input\n                  label={{ basic: true, content: currencies[0] }}\n                  labelPosition='right'\n                  placeholder='Enter Amount...'\n                  value={ui_amounts[0]}\n                  onChange={(e) => { this.handleAmountChange(0, e.target.value) }}\n                  className=\"MarketOrder-amount-input\"\n                  disabled={options.readOnly}\n                />\n                <Button.Group className=\"MarketOrder-mini-buttons\" size='mini' basic inverted>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountChange(0, '') } >0%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance.div(bignumbers[4]))} >25%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance.div(bignumbers[2]))} >50%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance.mul(bignumbers[3]).div(bignumbers[4]))} >75%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(0, curr_0_balance) } >100%</Button>\n                </Button.Group>\n              </Form.Field>\n            </Form.Group>\n            <Button className=\"MarketOrder-button\" color='red' disabled={!can_sell || loading[0] || error[0] || options.readOnly} onClick={this.handleMarketSell} >SELL {currencies[0]}</Button>\n            {side_texts[0]}\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MarketOrder\n","// Import Major Dependencies\nimport React, { Component } from 'react'\nimport { ethers } from 'ethers';\nimport { Input, Form, Button, Loader, Dropdown, Checkbox } from 'semantic-ui-react'\n\n// Import CSS Files\nimport './stoporder.css'\n\nconst MAX_VAL = \"115792089237316195423570985008687907853269984665640564039457584007913129639935\";\n\nclass StopOrder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      error: false,\n      success: false,\n      condOrderType: '',\n      conditional: '',\n      targetPrice: '',\n      tradeOrderType: '',\n      tradeAmount: '0',\n      tradeAmountUI: '',\n      approved: false,\n      bignumbers: []\n    };\n\n    this.handlePlaceOrder = this.handlePlaceOrder.bind(this);\n    this.flashSuccess = this.flashSuccess.bind(this);\n    this.flashError = this.flashError.bind(this);\n    this.updateInfo = this.updateInfo.bind(this);\n    this.toggleApproval = this.toggleApproval.bind(this);\n  }\n\n  componentDidMount() {\n    this.generateBigNumbers();\n    this.updateInfo();\n  }\n\n  // Timed recursive function that periodically updates the information from the blockchain.\n  async updateInfo() {\n    const { options } = this.props;\n\n    try {\n      // If the page is not readOnly then get balances for the active account.\n      if(!options.readOnly) {\n        console.log(\"Updating Stoploss Allowances...\");\n        const account = await options.signer.getAddress();\n        const [curr0_approval, curr1_approval] = await this.getApprovals(account);\n        console.log(\"APPROVAL 0: \" + curr0_approval)\n        console.log(\"APPROVAL 1: \" + curr1_approval)\n        const zeroBN = ethers.utils.bigNumberify(\"0\");\n        let approved = false;\n        if (ethers.utils.bigNumberify(curr0_approval).gt(zeroBN) && ethers.utils.bigNumberify(curr0_approval).gt(zeroBN)) {\n          approved = true;\n        }\n\n        this.setState({ approved });\n      }\n    } catch (err) {\n      console.log(\"Error getting Stoploss Allowances!: \" + err);\n    } finally {\n      // Call the same function after timeout of 3 seconds\n      setTimeout(this.updateInfo, 3000);\n    }\n  }\n\n  // Generates and stores a list of BigNumber integers for arithmetic later\n  generateBigNumbers() {\n    let bignumbers = {};\n    for(let i = 0; i <= 10; i++) {\n      const key = i;\n      bignumbers[key] = ethers.utils.bigNumberify(key);\n    }\n\n    this.setState({ bignumbers });\n  }\n\n  getPayReceiveCryptos(orderType) {\n    const { options, currencies } = this.props;\n    if (orderType === \"BUY\") {\n      return [ options.contracts[currencies[1]].address, options.contracts[currencies[0]].address ]\n    } else {\n      return [ options.contracts[currencies[0]].address, options.contracts[currencies[1]].address ]\n    }\n  }\n\n  getReceiveLimit(orderType, price, payAmt) {\n    const priceBN = ethers.utils.bigNumberify(price.toString());\n    const payAmtBN = ethers.utils.bigNumberify(payAmt.toString());\n    if (orderType === \"BUY\") {\n      return payAmtBN.div(priceBN).toString();\n    } else {\n      return payAmtBN.mul(priceBN).toString();\n    }\n  }\n\n  getUpDown(orderType, conditional) {\n    if (orderType === \"BUY\") {\n      return conditional === \">\" ? 1 : 0;\n    } else {\n      return conditional === \">\" ? 0 : 1;\n    }\n  }\n\n  // Handler for Market Buy\n  async handlePlaceOrder() {\n    // Set loading to true to update UI\n    const loading = true;\n    const error = false;\n    const success = false;\n    this.setState({ loading , error, success });\n    \n    // Retrieve important variables\n    const { condOrderType, conditional, targetPrice, tradeOrderType, tradeAmount } = this.state;\n    const { options } = this.props;\n    \n    const [ condPayCrypto, condReceiveCrypto ] = this.getPayReceiveCryptos(condOrderType);\n    const [ tradePayCrypto, tradeReceiveCrypto ] = this.getPayReceiveCryptos(tradeOrderType);\n    const condPayAmt = tradeAmount;\n    const condReceiveLimit = this.getReceiveLimit(condOrderType, targetPrice, condPayAmt);\n    const tradePayAmt = tradeAmount;\n\n    const updown = this.getUpDown(condOrderType, conditional);\n\n    // Assemble the data information into an object\n    const data = {\n      updown,\n      condPayCrypto,\n      condPayAmt,\n      condReceiveCrypto,\n      condReceiveLimit,\n      tradePayCrypto,\n      tradeReceiveCrypto,\n      tradePayAmt\n    };\n\n    // Log the data object to console for clarity\n    console.log(data);\n\n    // Try catch to handle successful and failed tx\n    try {\n      var tx = await options.contracts.OasisX.createOrder(data[\"updown\"], data[\"condPayCrypto\"], data[\"condPayAmt\"], data[\"condReceiveCrypto\"], data[\"condReceiveLimit\"], data[\"tradePayCrypto\"], data[\"tradeReceiveCrypto\"], data[\"tradePayAmt\"], { gasLimit: 500000, gasPrice: options.gasPrice });\n      // Wait for transaction to finish\n      await tx.wait();\n      this.flashSuccess();\n    } catch (error) {\n      this.flashError();\n    }\n  }\n\n  // Handler for when a tx is successful\n  flashSuccess() {\n    const loading = false;\n    const success = true;\n    const error = false;\n    this.setState({ loading, success, error });\n    setTimeout(() => this.reset(), 1500);\n  }\n\n  // Handler for whne a tx is failed\n  flashError() {\n    const loading = false;\n    const success = false;\n    const error = true;\n    this.setState({ loading, success, error });\n    setTimeout(() => {\n      const error = false;\n      this.setState({ error });\n    }, 1500);\n  }\n\n  // State reset function that completely nullifies the component state\n  reset() {\n    const loading = false;\n    const success = false;\n    const error = false;\n    this.setState({ loading, success, error });\n  }\n\n  // Handler for changes in price in the UI\n  handleTargetPriceChange(value) {\n    if(/\\S/.test(value)) {\n      const targetPrice = value;\n      this.setState({ targetPrice });\n    }\n  }\n\n  handleFieldChange(name, value) {\n    console.log(value);\n    this.setState({ [name]: value })\n  }\n\n  // Handler for a change in the amount of currency to be traded\n  handleAmountChange(value) {\n    let newTradeAmount, newTradeAmountUI;\n\n    // If there is an error then replace values with empty values\n    try {\n      // Test the new amount value to see if it is whitespace and if so replace with empty values\n      if(/\\S/.test(value)) {\n        const ui_amount = value;\n\n        // Get BigNumber representation of the amount in wei\n        const amount_bn = ethers.utils.bigNumberify(ethers.utils.parseUnits(ui_amount.toString(), 'ether'));\n\n        // Reassign the new amounts\n        newTradeAmount = amount_bn.toString();\n        newTradeAmountUI = ui_amount.toString();\n\n      } else {\n        newTradeAmount = '0';\n        newTradeAmountUI = '';\n      }\n    } catch(err) {\n      console.log(err);\n      newTradeAmount = '0';\n      newTradeAmountUI = '';\n    }\n\n    this.setState({ tradeAmount: newTradeAmount, tradeAmountUI: newTradeAmountUI });\n  }\n\n  // Handler for changes in amount using percentage tool\n  handleAmountPercentageChange(value) {\n    // Initialize ui_amount to 0 to be replaced by real value in try/catch\n    const amount_bn = value;\n    let ui_amount = ethers.utils.formatUnits(\"0\", 'ether');\n    try {\n      ui_amount = ethers.utils.formatUnits(amount_bn.toString(), 'ether');\n    } catch(err) {\n      console.log(err);\n    }\n\n    let newTradeAmount = amount_bn.toString();\n    let newTradeAmountUI = ui_amount.toString();\n\n    // Store new objects\n    this.setState({tradeAmount: newTradeAmount, tradeAmountUI: newTradeAmountUI});\n  }\n\n  buildExplanation() {\n    const { condOrderType, conditional, targetPrice, tradeOrderType, tradeAmountUI } = this.state;\n    const { currencies } = this.props;\n    let amount_label = \"____\";\n    if (tradeOrderType !== \"\") {\n      amount_label = tradeOrderType === \"BUY\" ? currencies[1] : currencies[0];\n    }\n    const condOrderType_corrected = condOrderType === \"\" ? \"____\" : condOrderType;\n    const conditional_corrected = conditional === \"\" ? \"__\" : conditional;\n    const targetPrice_corrected = targetPrice === \"\" ? \"____\" : targetPrice;\n    const tradeOrderType_corrected = tradeOrderType === \"\" ? \"____\" : tradeOrderType;\n    const tradeAmountUI_corrected = tradeAmountUI === \"0\" || tradeAmountUI === \"\" ? \"____\" : tradeAmountUI;\n    const explanation = \"If Market \" + condOrderType_corrected + \" Price \" + conditional_corrected + \" \" + targetPrice_corrected + \" \" + currencies[1] + \"/\" + currencies[0] + \" then Market \" + tradeOrderType_corrected + \" using \" + tradeAmountUI_corrected + \" \" + amount_label;\n    return explanation;\n  }\n\n  // Approves the market contract to use a given amount of a given currency.\n  async approveCurrencyForAmount(amount) {\n    var { currencies, options } = this.props\n    \n    let oasisx_address = options.contracts.OasisX.address\n\n    let promises = [];\n    for (var i in currencies) {\n      const currency = currencies[i];\n      var contract = options.contracts[currency]\n      promises.push(contract.approve(oasisx_address, amount))\n    }\n\n    return Promise.all(promises);\n  }\n\n  // Approves a MAX_VAL amount of active currencies for the oasisX contract.\n  approveCurrency() {\n    this.approveCurrencyForAmount(MAX_VAL)\n  }\n\n  // Approves a 0 amount of active currencies for the oasisX contract.\n  unapproveCurrency() {\n    this.approveCurrencyForAmount(\"0\")\n  }\n\n  toggleApproval() {\n    const newApproved = !this.state.approved;\n    if (newApproved) {\n      this.approveCurrency();\n    } else {\n      this.unapproveCurrency();\n    }\n    this.setState({ approved: newApproved });\n  }\n\n// Helper function to get approvals for all the currencies in this market for the given account.\n  async getApprovals(account) {\n    const { options, currencies } = this.props;\n    const { OasisX } = options.contracts;\n    const oasisx_address = OasisX.address;\n    let promises = [];\n    for (let i in currencies) {\n      promises.push(options.contracts[currencies[i]].allowance(account, oasisx_address));\n    }\n    return Promise.all(promises);\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { bignumbers, loading, success, error, condOrderType, conditional, targetPrice, tradeOrderType, tradeAmount, tradeAmountUI, approved } = this.state;\n    const { currencies, balances, options } = this.props;\n    \n\n    // Get the balances for each currency\n    const curr_0_balance = ethers.utils.bigNumberify(balances[0]);\n    const curr_1_balance = ethers.utils.bigNumberify(balances[1]);\n    \n    // Set flags if buying/selling is logically valid\n    let can_place_order = true;\n    if (!approved || targetPrice === \"\" || tradeAmountUI === \"\" || tradeAmount === \"0\" || conditional === \"\" || condOrderType === \"\" || tradeOrderType === \"\") {\n      can_place_order = false;\n    }\n    \n    // If the balance is greater than the amount then set the proper flags\n    // if(curr_0_balance.gte(amount_0_bn) && amount_0_bn.gt(ethers.utils.bigNumberify(\"1000\")) && slippage !== \"\") {\n    //   can_place_order = true;\n    // }\n\n    // Generate the side text next to the buttons\n    let side_text = \"\";\n    if(loading) {\n        side_text = (<span className=\"StopOrder-color\"><Loader active inline size=\"small\"/> LOADING...</span>);\n    }\n    if(error) {\n      side_text = (<span className=\"red StopOrder-color\">FAILED</span>);\n    }\n    if(success) {\n      side_text = (<span className=\"green StopOrder-color\">SUCCESS</span>);\n    }\n\n    const conditionOrderTypes = [\n      {\n        key: \"BUY\",\n        text: \"Buy\",\n        value: \"BUY\"\n      },\n      {\n        key: \"SELL\",\n        text: \"Sell\",\n        value: \"SELL\"\n      }\n    ];\n    const conditionalTypes = [\n      {\n        key: \">\",\n        text: \">\",\n        value: \">\"\n      },\n      {\n        key: \"<\",\n        text: \"<\",\n        value: \"<\"\n      }\n    ];\n\n    const curr_balance = tradeOrderType === \"BUY\" ? curr_1_balance : curr_0_balance;\n    const amount_label = tradeOrderType === \"BUY\" ? currencies[1] : currencies[0];\n    const explanation = this.buildExplanation();\n\n    return (\n      <div className=\"StopOrder\">\n        <div className=\"StopOrder-pane\">\n          <div className=\"StopOrder-main-header\">Stop Order (Activated: <Checkbox fitted toggle disabled={options.readOnly} checked={approved} onClick={this.toggleApproval} /> )</div>\n          <Form size='tiny'>\n            <Form.Field>\n              <div className=\"StopOrder-headers\">Condition Order Type</div>\n              <Dropdown placeholder='Order Type' selection options={conditionOrderTypes} value={condOrderType} onChange={(e, data) => { this.handleFieldChange(\"condOrderType\", data.value) }}/>\n            </Form.Field>\n            <Form.Field>\n              <div className=\"StopOrder-headers\">Conditional</div>\n              <Dropdown placeholder='Conditional' selection options={conditionalTypes} value={conditional} onChange={(e, data) => { this.handleFieldChange(\"conditional\", data.value) }}/>\n            </Form.Field>\n            <Form.Field>\n              <div className=\"StopOrder-headers\">Target Price</div>\n              <Input\n                label={{ basic: true, content: currencies[1] + \"/\" + currencies[0] }}\n                labelPosition='right'\n                placeholder='Enter Amount...'\n                value={targetPrice}\n                onChange={(e) => { this.handleTargetPriceChange(e.target.value) }}\n                className=\"StopOrder-amount-input\"\n                disabled={options.readOnly}\n              />\n            </Form.Field>\n            <hr />\n            <Form.Field>\n              <div className=\"StopOrder-headers\">Trade Order Type</div>\n              <Dropdown placeholder='Order Type' selection options={conditionOrderTypes} value={tradeOrderType} onChange={(e, data) => { this.handleFieldChange(\"tradeOrderType\", data.value) }}/>\n            </Form.Field>\n            <Form.Group widths='equal'>\n              <Form.Field>\n                <div className=\"StopOrder-headers\">Trade Amount</div>\n                <Input\n                  label={{ basic: true, content: amount_label }}\n                  labelPosition='right'\n                  placeholder='Enter Amount...'\n                  value={tradeAmountUI}\n                  onChange={(e) => { this.handleAmountChange(e.target.value) }}\n                  className=\"StopOrder-amount-input\"\n                  disabled={options.readOnly}\n                />\n                <Button.Group className=\"StopOrder-mini-buttons\" size='mini' basic inverted disabled={tradeOrderType === ''}>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountChange('') } >0%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(curr_balance.div(bignumbers[4]))} >25%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(curr_balance.div(bignumbers[2]))} >50%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(curr_balance.mul(bignumbers[3]).div(bignumbers[4]))} >75%</Button>\n                  <Button disabled={options.readOnly} onClick={() => this.handleAmountPercentageChange(curr_balance) } >100%</Button>\n                </Button.Group>\n              </Form.Field>\n            </Form.Group>\n            <div id=\"StopOrder-explanation\"><span className=\"bold\">Explanation:</span> {explanation}</div>\n            <Button className=\"StopOrder-button\" color='blue' disabled={!can_place_order || loading || error || options.readOnly} onClick={this.handlePlaceOrder}>Place Order</Button>\n            {side_text}\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default StopOrder\n","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { Table, Button } from 'semantic-ui-react';\n\n// Import CSS Files\nimport './myorders.css';\n\n// Import src code\nimport { numberWithCommas } from '../../utils/general';\n\nclass MyOrders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  // Filter to the open orders that match the current account address\n  getMyOrders() {\n    const { orders, account } = this.props;\n    let myOrders = [];\n    for(let i = 0; i < orders.length; i++) {\n      if(orders[i][\"maker\"] === account) {\n        myOrders.push(orders[i]);\n      }\n    }\n    return myOrders;\n  }\n\n  // Handler to cancel an order\n  async cancelOrder(id) {\n    const { Market } = this.props.options.contracts;\n    const { options } = this.props;\n    console.log(\"CANCEL ORDER \" + id);\n    try {\n      const tx = await Market.cancel(id, { gasLimit: 500000, gasPrice: options.gasPrice });\n      await tx.wait();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { currencies } = this.props;\n\n    let orders_table = null;\n    let background_item = null;\n    const orders = this.getMyOrders();\n\n    // If there are no orders then render an emtpy list\n    if(orders.length === 0) {\n      background_item = (<div id=\"MyOrders-empty\">NO ORDERS</div>);\n    } else {\n      orders_table = (<Table.Body id=\"MyOrders-tableBody\">\n            {orders.map((item, index) => {\n              var price = item[\"type\"] === \"BUY\" ? (<span className=\"green MyOrders-color\">{numberWithCommas(item[\"price\"])}</span>) : (<span className=\"red MyOrders-color\">{numberWithCommas(item[\"price\"])}</span>)\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell  textAlign='left'>\n                    <div className='MyOrders-table-entry'><Button className=\"MyOrders-button\" color='red' size='mini' inverted onClick={() => {this.cancelOrder(item[\"id\"])}}>CANCEL</Button></div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MyOrders-table-entry'>{price}</div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MyOrders-table-entry'>{numberWithCommas(item[\"curr_0_amt\"])}</div>\n                  </Table.Cell>\n\n                  <Table.Cell  textAlign='left'>\n                    <div className='MyOrders-table-entry'>{numberWithCommas(item[\"curr_1_amt\"])}</div>\n                  </Table.Cell>\n                </Table.Row>\n              )\n            })}\n          </Table.Body>);\n    }\n\n    return (\n      <div className=\"MyOrders\">\n        <Table selectable striped basic celled unstackable columns={5} textAlign='left' id=\"MyOrders-table\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell className='MyOrders-table-header' textAlign='left'>Action</Table.HeaderCell>\n              <Table.HeaderCell className='MyOrders-table-header' textAlign='left'>Price</Table.HeaderCell>\n              <Table.HeaderCell className='MyOrders-table-header' textAlign='left'>{currencies[0]}</Table.HeaderCell>\n              <Table.HeaderCell className='MyOrders-table-header' textAlign='left'>{currencies[1]}</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          { orders_table }\n        </Table>\n        { background_item }\n      </div>\n    );\n  }\n}\n\nexport default MyOrders\n","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { ethers } from 'ethers';\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\nimport { BarSeries, CandlestickSeries, LineSeries } from \"react-stockcharts/lib/series\";\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\nimport { CrossHairCursor, CurrentCoordinate } from \"react-stockcharts/lib/coordinates\";\nimport { OHLCTooltip, MovingAverageTooltip } from \"react-stockcharts/lib/tooltip\";\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\" \nimport { fitWidth } from \"react-stockcharts/lib/helper\";\nimport { last } from \"react-stockcharts/lib/utils\";\nimport { ema } from \"react-stockcharts/lib/indicator\";\n\n// Import CSS Files\nimport './chart.css';\n\n// Set the appearance of the candle chart\nconst candlesAppearance = {\n  wickStroke: \"#7a8692\",\n  fill: function fill(d) {\n    return d.close > d.open ? \"rgba(0, 255, 0, 0.5)\" : \"rgba(255, 0, 0, 0.5)\";\n  },\n  widthRatio: 0.8,\n  opacity: 1,\n};\n\nclass CandleChart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n  \n  shouldComponentUpdate(nextProps, nextState) {\n    // Only update if there are a different number of orders being piped in\n    if(this.props.orders.length !== nextProps.orders.length) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Convert raw order data into the processed chart points\n  buildChartPoints(orders) {\n    let data = [];\n\n    let first_timestamp = orders[orders.length - 1]['raw_timestamp'];\n    first_timestamp = first_timestamp - (first_timestamp % (3600000/4));\n\n    let curr_candle = {\n      date: new Date(first_timestamp),\n      open: orders[orders.length-1]['price'],\n      high: orders[orders.length-1]['price'],\n      low: orders[orders.length-1]['price'],\n      close: orders[orders.length-1]['price'],\n      volume: parseFloat(ethers.utils.formatUnits(orders[orders.length-1]['curr_1'], 'ether'))\n    };\n    let end_timestamp = first_timestamp + (3600000/4);\n    for(let i = orders.length-2; i >= 0; i--) {\n      const order = orders[i];\n      if(order[\"raw_timestamp\"] < end_timestamp) {\n        curr_candle['volume'] += parseFloat(ethers.utils.formatUnits(order['curr_1'], 'ether'));\n        curr_candle['close'] = order['price'];\n        if(order['price'] > curr_candle['high']) {\n          curr_candle['high'] = order['price'];\n        } else if(order['price'] < curr_candle['low']) {\n          curr_candle['low'] = order['price'];\n        }\n      } else {\n        data.push(curr_candle);\n        curr_candle = {\n          date: new Date(end_timestamp),\n          open: curr_candle['close'],\n          high: Math.max(order['price'], curr_candle['close']),\n          low: Math.min(order['price'], curr_candle['close']),\n          close: order['price'],\n          volume: parseFloat(ethers.utils.formatUnits(order['curr_1'], 'ether'))\n        };\n        end_timestamp = end_timestamp + (3600000/4);\n      }\n    }\n    return data;\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    var { width, ratio, orders } = this.props\n\n    var chart = <div id=\"CandleChart-loading\">Loading...</div>\n    if(orders.length > 0) {\n      var initialData = this.buildChartPoints(orders)\n      const ema10 = ema()\n        .options({\n          windowSize: 10, // optional will default to 10\n          sourcePath: \"close\", // optional will default to close as the source\n        })\n        .skipUndefined(true) // defaults to true\n        .merge((d, c) => {d.ema10 = c;}) // Required, if not provided, log a error\n        .accessor(d => d.ema10) // Required, if not provided, log an error during calculation\n        .stroke(\"#ce4200\"); // Optional\n      const ema50 = ema()\n        .options({\n          windowSize: 50, // optional will default to 10\n          sourcePath: \"close\", // optional will default to close as the source\n        })\n        .skipUndefined(true) // defaults to true\n        .merge((d, c) => {d.ema50 = c;}) // Required, if not provided, log a error\n        .accessor(d => d.ema50) // Required, if not provided, log an error during calculation\n        .stroke(\"blue\"); // Optional\n      const calculatedData = ema50(ema10(initialData))\n\n      const margin = { left: 50, right: 60, top: 30, bottom: 50 }\n      const height = 500\n      var gridHeight = height - margin.top - margin.bottom;\n      var gridWidth = width - margin.left - margin.right;\n      var showGrid = true;\n      var yGrid = showGrid ? { \n          innerTickSize: -1 * gridWidth,\n          tickStrokeDasharray: 'Solid',\n          tickStrokeOpacity: 0.2,\n          tickStrokeWidth: 1\n      } : {};\n      var xGrid = showGrid ? { \n          innerTickSize: -1 * gridHeight,\n          tickStrokeDasharray: 'Solid',\n          tickStrokeOpacity: 0.2,\n          tickStrokeWidth: 1\n      } : {};\n      const xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor( d => d.date )\n      const { data, xScale, xAccessor, displayXAccessor } = xScaleProvider( calculatedData )\n      const start = xAccessor(last(data))\n      const end = xAccessor(data[Math.max(0, data.length - 100)])\n      const xExtents = [start, end]\n\n      chart = (\n        <ChartCanvas\n          height={height}\n          ratio={ratio}\n          width={width}\n          margin={margin}\n          type=\"hybrid\"\n          seriesName=\"Data\"\n          data={data}\n          xScale={xScale}\n          xAccessor={xAccessor}\n          displayXAccessor={displayXAccessor}\n          xExtents={xExtents}\n          clamp={true}\n        >\n          <Chart id={1} height={400} yExtents={[d => [d.high+3, d.low-3], ema10.accessor(), ema50.accessor()]}>\n            <YAxis axisAt=\"right\" orient=\"right\" ticks={10} stroke=\"#9aa3ad\" tickStroke=\"#9aa3ad\" {...yGrid} />\n            <CandlestickSeries {...candlesAppearance} />\n            <LineSeries yAccessor={ema10.accessor()} stroke={ema10.stroke()}/>\n            <LineSeries yAccessor={ema50.accessor()} stroke={ema50.stroke()}/>\n            <CurrentCoordinate yAccessor={ema10.accessor()} fill={ema10.stroke()} />\n            <CurrentCoordinate yAccessor={ema50.accessor()} fill={ema50.stroke()} />\n            <OHLCTooltip origin={[10, 10]} xDisplayFormat={timeFormat(\"%m-%d-%y %I:%M %p\")} textFill=\"#9aa3ad\" />\n            <MovingAverageTooltip\n              origin={[10, 25]}\n              textFill=\"#9aa3ad\"\n              options={[\n                {\n                  yAccessor: ema10.accessor(),\n                  type: \"EMA\",\n                  stroke: ema10.stroke(),\n                  windowSize: ema10.options().windowSize,\n                  echo: \"some echo here\",\n                },\n                {\n                  yAccessor: ema50.accessor(),\n                  type: \"EMA\",\n                  stroke: ema50.stroke(),\n                  windowSize: ema50.options().windowSize,\n                  echo: \"some echo here\",\n                },\n              ]}\n            />\n          </Chart>\n          <Chart id={2} origin={(w, h) => [0, h - 100]} height={100} yExtents={d => d.volume}>\n            <XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"#9aa3ad\" tickStroke=\"#9aa3ad\" {...xGrid} />\n            <YAxis axisAt=\"left\" orient=\"left\" ticks={5} stroke=\"#9aa3ad\" tickStroke=\"#9aa3ad\" tickFormat={format(\".2s\")} />\n            <BarSeries\n              yAccessor={d => d.volume}\n              fill={d => (d.close > d.open ? \"rgba(0, 255, 0, 0.2)\" : \"rgba(255, 0, 0, 0.3)\")}\n            />\n          </Chart>\n          <CrossHairCursor stroke=\"#9aa3ad\" opacity={1} />\n        </ChartCanvas>\n      )\n    }\n    return (\n      <div className=\"CandleChart\">\n        {chart}\n      </div>\n    );\n  }\n}\n\nCandleChart = fitWidth(CandleChart);\nexport default CandleChart","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { ethers } from 'ethers';\nimport { Grid, List } from 'semantic-ui-react';\nimport CandleChart from './chart/chart';\n\n// Import CSS Files\nimport './stats.css';\n\n// Import src code\nimport { numberWithCommas } from '../../utils/general';\n\nclass Stats extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n\n    this.buildStat = this.buildStat.bind(this);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Only update if the orders has increased in length\n    if(this.props.orders.length !== nextProps.orders.length) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Update the stats and the document title\n  updateStats() {\n    let users = {};\n    const { orders } = this.props;\n\n    if(orders.length === 0) {\n      return {\n        num_users: '...',\n        num_buys: '...',\n        num_sells: '...',\n        buy_volume: '...',\n        sell_volume: '...',\n        last_price: '...',\n        last_type: '...'\n      };\n    }\n\n    let new_stats = {\n      num_users: 0,\n      num_buys: 0,\n      num_sells: 0,\n      buy_volume: 0.0,\n      sell_volume: 0.0,\n      last_price: 0,\n      last_type: \"BUY\"\n    };\n\n    for(let i = 0; i < orders.length; i++) {\n      const order = orders[i];\n\n      // Check if maker is in user list\n      if(!(order[\"maker\"] in users)) {\n        users[order[\"maker\"]] = 1;\n        new_stats[\"num_users\"] += 1;\n      }\n\n      // Check if taker is in user list\n      if(!(order[\"taker\"] in users)) {\n        users[order[\"taker\"]] = 1;\n        new_stats[\"num_users\"] += 1;\n      }\n\n      // Check if order is buy or sell and add the necessary info\n      const curr_1 = parseFloat(ethers.utils.formatUnits(order[\"curr_1\"].toString(), \"ether\"));\n      if(order[\"type\"] === \"BUY\") {\n        new_stats[\"num_buys\"] += 1;\n        new_stats[\"buy_volume\"] += curr_1;\n      } else if(order[\"type\"] === \"SELL\") {\n        new_stats[\"num_sells\"] += 1;\n        new_stats[\"sell_volume\"] += curr_1;\n      }\n    }\n\n    if(orders.length > 0) {\n      new_stats[\"last_price\"] = Math.round(orders[0][\"price\"] * 1000) / 1000;\n      new_stats[\"last_type\"] = orders[0][\"type\"];\n      new_stats[\"buy_volume\"] = Math.round(new_stats[\"buy_volume\"] * 100) / 100;\n      new_stats[\"sell_volume\"] = Math.round(new_stats[\"sell_volume\"] * 100) / 100;\n    }\n\n    return new_stats;\n  }\n\n  // Build each of the statistics given the raw stats and keys\n  buildStat(key, raw_stats) {\n    // If loading then print the loading dots\n    if(raw_stats[key] === \"...\") {\n      return <span className=\"loading_value\">{raw_stats[key]}</span>;\n    }\n\n    var color = null;\n    var value = numberWithCommas(raw_stats[key]);\n    if(key === \"buy_volume\" || key === \"sell_volume\") {\n      color = key === \"buy_volume\" ? \"important-green\" : \"important-red\";\n      value = <span className={color + \" value\"}>{value.toString()} <span className=\"sub_value\">{this.props.currencies[1]}</span></span>;\n    }\n\n    if(key === \"num_buys\" || key === \"num_sells\") {\n      color = key === \"num_buys\" ? \"important-green\" : \"important-red\";\n      value = <span className={color + \" value\"}>{value.toString()}</span>;\n    }\n\n    if(key === \"last_price\") {\n      color = raw_stats[\"last_type\"] === \"BUY\" ? \"important-green\" : \"important-red\";\n      value = <span className={color + \" value\"}>{value.toString()} <span className=\"sub_value\">{this.props.currencies[1]} / {this.props.currencies[0]}</span></span>;\n    }\n\n    return value;\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { currencies, orders } = this.props;;\n\n    const keys = [\"num_users\", \"num_buys\", \"num_sells\", \"buy_volume\", \"sell_volume\", \"last_price\"];\n    let statistics = {};\n    const raw_stats = this.updateStats();\n    for(let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      statistics[key] = this.buildStat(key, raw_stats);\n    }\n\n    const chart = <div id=\"Stats-chart\"><CandleChart orders={orders} currencies={currencies} /></div>;\n\n    return (\n      <div className=\"Stats\">\n        {chart}\n        <div id=\"Stats-statistics\">\n          <Grid id=\"Stats-grid\">\n            <Grid.Row>\n              <Grid.Column mobile={8} tablet={4} computer={4} textAlign=\"center\">\n                <List.Item className=\"Stats-statistic\">\n                  <List.Content>\n                    <List.Header className=\"Stats-header\"># Buys</List.Header>\n                    <List.Description className=\"Stats-content\">{statistics[\"num_buys\"]}</List.Description>\n                  </List.Content>\n                </List.Item>\n              </Grid.Column>\n              <Grid.Column mobile={8} tablet={4} computer={4} textAlign=\"center\">\n                <List.Item className=\"Stats-statistic\">\n                  <List.Content>\n                    <List.Header className=\"Stats-header\">Buy Vol.</List.Header>\n                    <List.Description className=\"Stats-content\">{statistics[\"buy_volume\"]}</List.Description>\n                  </List.Content>\n                </List.Item>\n              </Grid.Column>\n              <Grid.Column mobile={8} tablet={4} computer={4} textAlign=\"center\">\n                <List.Item className=\"Stats-statistic\">\n                  <List.Content>\n                    <List.Header className=\"Stats-header\"># Sells</List.Header>\n                    <List.Description className=\"Stats-content\">{statistics[\"num_sells\"]}</List.Description>\n                  </List.Content>\n                </List.Item>\n              </Grid.Column>\n              <Grid.Column mobile={8} tablet={4} computer={4} textAlign=\"center\">\n                <List.Item className=\"Stats-statistic\">\n                  <List.Content>\n                    <List.Header className=\"Stats-header\">Sell Vol.</List.Header>\n                    <List.Description className=\"Stats-content\">{statistics[\"sell_volume\"]}</List.Description>\n                  </List.Content>\n                </List.Item>\n              </Grid.Column>\n              <Grid.Column mobile={8} tablet={8} computer={8} textAlign=\"center\">\n                <List.Item className=\"Stats-statistic\">\n                  <List.Content>\n                    <List.Header className=\"Stats-header\">Last Price</List.Header>\n                    <List.Description className=\"Stats-content\">{statistics[\"last_price\"]}</List.Description>\n                  </List.Content>\n                </List.Item>\n              </Grid.Column>\n              <Grid.Column mobile={8} tablet={8} computer={8} textAlign=\"center\">\n                <List.Item className=\"Stats-statistic\">\n                  <List.Content>\n                    <List.Header className=\"Stats-header\"># Users</List.Header>\n                    <List.Description className=\"Stats-content\">{statistics[\"num_users\"]}</List.Description>\n                  </List.Content>\n                </List.Item>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Stats","import { ethers } from 'ethers';\n\n/** ################# HELPER FUNCTIONS ################# **/\n\n// Helper function to calculate the price of an order using BigNumber for all operations\nexport function getPrice(pay_amt, buy_amt, type) {\n\t// Convert amounts to BigNumbers\n\tpay_amt = ethers.utils.bigNumberify(pay_amt);\n\tbuy_amt = ethers.utils.bigNumberify(buy_amt);\n\n\t// If amounts are sufficiently small, just ignore and return false\n\tif(pay_amt.lte(ethers.utils.bigNumberify(\"1000\")) || buy_amt.lte(ethers.utils.bigNumberify(\"1000\"))) {\n\t\treturn false;\n\t}\n\n\tvar one = ethers.utils.bigNumberify(ethers.utils.parseUnits(\"1\", \"ether\"));\n\tvar price = 0;\n\n\t// Use the order type to decide operation for calculation and return values\n\tif(type === \"BUY\") {\n\t\tprice = parseFloat(ethers.utils.formatUnits(one.mul(pay_amt).div(buy_amt).toString(), 'ether'));\n\t\treturn [price, buy_amt, pay_amt];\n\t} else {\n\t\tprice = parseFloat(ethers.utils.formatUnits(one.mul(buy_amt).div(pay_amt).toString(), 'ether'));\n\t\treturn [price, pay_amt, buy_amt];\n\t}\n}\n\n// Helper function to determine the type of an order (BUY or SELL)\nfunction getType(order, currencies, curr_0_addr, curr_1_addr) {\n\t// Extract what is being bought and what is being sold\n\tvar buy_addr = order[\"buy_gem\"].toUpperCase();\n\tvar pay_addr = order[\"pay_gem\"].toUpperCase();\n\n\t// Compare to curr_0 and curr_1 to decide if this is a BUY or a SELL\n\tif(buy_addr === curr_0_addr.toUpperCase() && pay_addr === curr_1_addr.toUpperCase()) {\n\t\treturn \"SELL\";\n\t} else if(buy_addr === curr_1_addr.toUpperCase() && pay_addr === curr_0_addr.toUpperCase()) {\n\t\treturn \"BUY\";\n\t} else {\n\t\treturn null;\n\t}\n}\n\n// Helper function to convert raw orders into processed orders\nexport function eventsToOrders(events, currencies, curr_0_addr, curr_1_addr) {\n\tvar orders = [];\n\tfor(var i = 0; i < events.length; i++) {\n\t\tvar order = events[i];\n\t\tvar type = getType(order, currencies, curr_0_addr, curr_1_addr);\n\t\tvar pay_amt = order[\"give_amt\"].toString();\n\t\tvar buy_amt = order[\"take_amt\"].toString();\n\t\tvar offer = getPrice(pay_amt, buy_amt, type);\n\t\tif(offer) {\n\t\t\tvar timestamp = new Date(order[\"timestamp\"] * 1000);\n\t\t\ttimestamp = timestamp.toLocaleTimeString(undefined, {hour: 'numeric', minute: '2-digit'}) + \" \" + timestamp.toLocaleDateString(undefined, {day: 'numeric', month: 'numeric', year: '2-digit'});\n\t\t\torder = {\n\t\t\t\t\"raw_timestamp\": order[\"timestamp\"] * 1000,\n\t\t\t\t\"timestamp\": timestamp,\n\t\t\t\t\"type\": type,\n\t\t\t\t\"price\": offer[0],\n\t\t\t\t\"curr_0\": offer[1],\n\t\t\t\t\"curr_1\": offer[2],\n\t\t\t\t\"taker\": order[\"taker\"],\n\t\t\t\t\"maker\": order[\"maker\"]\n\t\t\t};\n\t\t\torders.push(order);\n\t\t}\n\t}\n\torders.reverse();\n\treturn orders;\n}\n\n// Helper function to build the hash keys for the log queries\nfunction buildHashKey(first_addr, second_addr) {\n\treturn ethers.utils.solidityKeccak256(['bytes', 'bytes'], [first_addr, second_addr]);\n}\n\n/** ################# Functions for retrieving executed orders ################# **/\n\n// Function to unsubscribe from subscription from subscribeToNewOrders(). Should run for cleanup.\nexport async function unSubscribeToMyNewOrders(account, currencies, contracts) {\n    var { Market } = contracts;\n    \n    var curr_0_addr = contracts[currencies[0]].address;\n    var curr_1_addr = contracts[currencies[1]].address;\n    \n    const hashKey01 = buildHashKey(curr_0_addr, curr_1_addr);\n    const hashKey10 = buildHashKey(curr_1_addr, curr_0_addr);\n    \n    var filter01_maker = Market.filters.LogTake(null, hashKey01, account, null, null, null);\n    var filter01_taker = Market.filters.LogTake(null, hashKey01, null, null, null, account);\n    var filter10_maker = Market.filters.LogTake(null, hashKey10, account, null, null, null);\n    var filter10_taker = Market.filters.LogTake(null, hashKey10, null, null, null, account);\n    Market.removeAllListeners(filter01_maker).removeAllListeners(filter01_taker).removeAllListeners(filter10_maker).removeAllListeners(filter10_taker);\n}\n\n// Function to unsubscribe from subscription from subscribeToNewOrders(). Should run for cleanup.\nexport async function unSubscribeToNewOrders(currencies, contracts) {\n    var { Market } = contracts;\n    \n    var curr_0_addr = contracts[currencies[0]].address;\n    var curr_1_addr = contracts[currencies[1]].address;\n    \n    const hashKey1 = buildHashKey(curr_0_addr, curr_1_addr);\n    const hashKey2 = buildHashKey(curr_1_addr, curr_0_addr);\n    \n    var filter1 = Market.filters.LogTake(null, hashKey1, null, null, null, null);\n    var filter2 = Market.filters.LogTake(null, hashKey2, null, null, null, null);\n    Market.removeAllListeners(filter1).removeAllListeners(filter2);\n}\n\nexport async function subscribeToMyNewOrders(account, currencies, contracts, addOrders) {\n\tvar { Market } = contracts;\n\n\tvar curr_0_addr = contracts[currencies[0]].address;\n\tvar curr_1_addr = contracts[currencies[1]].address;\n\n\tconst hashKey01 = buildHashKey(curr_0_addr, curr_1_addr);\n\tconst hashKey10 = buildHashKey(curr_1_addr, curr_0_addr);\n\n\tvar filter01_maker = Market.filters.LogTake(null, hashKey01, account, null, null, null);\n\tvar filter01_taker = Market.filters.LogTake(null, hashKey01, null, null, null, account);\n\tvar filter10_maker = Market.filters.LogTake(null, hashKey10, account, null, null, null);\n\tvar filter10_taker = Market.filters.LogTake(null, hashKey10, null, null, null, account);\n\tMarket.on(filter01_maker, (id, pair, maker, pay_gem, buy_gem, taker, take_amt, give_amt, timestamp, event) => {\n\t    var order = {\n\t\t\t\"id\": id,\n\t\t\t\"pair\": pair,\n\t\t\t\"maker\": maker,\n\t\t\t\"pay_gem\": pay_gem,\n\t\t\t\"buy_gem\": buy_gem,\n\t\t\t\"taker\": taker,\n\t\t\t\"take_amt\": take_amt,\n\t\t\t\"give_amt\": give_amt,\n\t\t\t\"timestamp\": timestamp\n\t    };\n\t    var orders = eventsToOrders([order], currencies, curr_0_addr, curr_1_addr);\n\t    addOrders(orders);\n\t});\n\tMarket.on(filter01_taker, (id, pair, maker, pay_gem, buy_gem, taker, take_amt, give_amt, timestamp, event) => {\n\t    var order = {\n\t\t\t\"id\": id,\n\t\t\t\"pair\": pair,\n\t\t\t\"maker\": maker,\n\t\t\t\"pay_gem\": pay_gem,\n\t\t\t\"buy_gem\": buy_gem,\n\t\t\t\"taker\": taker,\n\t\t\t\"take_amt\": take_amt,\n\t\t\t\"give_amt\": give_amt,\n\t\t\t\"timestamp\": timestamp\n\t    };\n\t    var orders = eventsToOrders([order], currencies, curr_0_addr, curr_1_addr);\n\t    addOrders(orders);\n\t});\n\tMarket.on(filter10_maker, (id, pair, maker, pay_gem, buy_gem, taker, take_amt, give_amt, timestamp, event) => {\n\t    var order = {\n\t\t\t\"id\": id,\n\t\t\t\"pair\": pair,\n\t\t\t\"maker\": maker,\n\t\t\t\"pay_gem\": pay_gem,\n\t\t\t\"buy_gem\": buy_gem,\n\t\t\t\"taker\": taker,\n\t\t\t\"take_amt\": take_amt,\n\t\t\t\"give_amt\": give_amt,\n\t\t\t\"timestamp\": timestamp\n\t    };\n\t    var orders = eventsToOrders([order], currencies, curr_0_addr, curr_1_addr);\n\t    addOrders(orders);\n\t});\n\tMarket.on(filter10_taker, (id, pair, maker, pay_gem, buy_gem, taker, take_amt, give_amt, timestamp, event) => {\n\t    var order = {\n\t\t\t\"id\": id,\n\t\t\t\"pair\": pair,\n\t\t\t\"maker\": maker,\n\t\t\t\"pay_gem\": pay_gem,\n\t\t\t\"buy_gem\": buy_gem,\n\t\t\t\"taker\": taker,\n\t\t\t\"take_amt\": take_amt,\n\t\t\t\"give_amt\": give_amt,\n\t\t\t\"timestamp\": timestamp\n\t    };\n\t    var orders = eventsToOrders([order], currencies, curr_0_addr, curr_1_addr);\n\t    addOrders(orders);\n\t});\n}\n\n// Function to subscribe to receive callbacks for new orders that were executed on the given currency pair\n// addOrders is a callback function that is given an order object (outuput from eventsToOrders)\nexport async function subscribeToNewOrders(currencies, contracts, addOrders) {\n\tvar { Market } = contracts;\n\n\tvar curr_0_addr = contracts[currencies[0]].address;\n\tvar curr_1_addr = contracts[currencies[1]].address;\n\n\tconst hashKey1 = buildHashKey(curr_0_addr, curr_1_addr);\n\tconst hashKey2 = buildHashKey(curr_1_addr, curr_0_addr);\n\n\tvar filter1 = Market.filters.LogTake(null, hashKey1, null, null, null, null);\n\tvar filter2 = Market.filters.LogTake(null, hashKey2, null, null, null, null);\n\tMarket.on(filter1, (id, pair, maker, pay_gem, buy_gem, taker, take_amt, give_amt, timestamp, event) => {\n\t    var order = {\n\t\t\t\"id\": id,\n\t\t\t\"pair\": pair,\n\t\t\t\"maker\": maker,\n\t\t\t\"pay_gem\": pay_gem,\n\t\t\t\"buy_gem\": buy_gem,\n\t\t\t\"taker\": taker,\n\t\t\t\"take_amt\": take_amt,\n\t\t\t\"give_amt\": give_amt,\n\t\t\t\"timestamp\": timestamp\n\t    };\n\t    var orders = eventsToOrders([order], currencies, curr_0_addr, curr_1_addr);\n\t    addOrders(orders);\n\t});\n\tMarket.on(filter2, (id, pair, maker, pay_gem, buy_gem, taker, take_amt, give_amt, timestamp, event) => {\n\t    var order = {\n\t\t\t\"id\": id,\n\t\t\t\"pair\": pair,\n\t\t\t\"maker\": maker,\n\t\t\t\"pay_gem\": pay_gem,\n\t\t\t\"buy_gem\": buy_gem,\n\t\t\t\"taker\": taker,\n\t\t\t\"take_amt\": take_amt,\n\t\t\t\"give_amt\": give_amt,\n\t\t\t\"timestamp\": timestamp\n\t    };\n\t    var orders = eventsToOrders([order], currencies, curr_0_addr, curr_1_addr);\n\t    addOrders(orders);\n\t});\n}","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { ethers } from 'ethers';\nimport { Grid } from 'semantic-ui-react';\n\n// Import CSS Files\nimport './accountstats.css';\n\n// Import src code\nimport { getPrice } from '../../utils/orders';\nimport { numberWithCommas } from '../../utils/general';\n\n// Component that calculates and displays the account statistics for a currency market\nclass AccountStats extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      data: {\n          \"amount_0_bought\": '...',\n          \"avg_buy_price\": '...',\n          \"amount_0_sold\": '...',\n          \"avg_sell_price\": '...',\n          \"profit\": '...'\n        }\n    };\n  }\n\n  componentDidMount() {\n    const data = this.eventsToData(this.props.orders);\n    this.setState({ data });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Only update if more orders are added or if the sorting has changed\n    if(this.props.orders.length !== nextProps.orders.length || this.state.data !== nextState.data) {\n      if(this.props.orders.length !== nextProps.orders.length) {\n        const data = this.eventsToData(nextProps.orders);\n        this.setState({ data });\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Function to turn raw events into processed data for the leaderboard\n  eventsToData(events) {\n    let profiles = {};\n    for(let i = 0; i < events.length; i++) {\n      const order = events[i];\n\n      // Assemble all necessary vars\n      const maker = order[\"maker\"];\n      const taker = order[\"taker\"];\n      let buyer = null;\n      let seller = null;\n\n      // Add maker and taker into the dict if they are not present\n      if(!(maker in profiles)) {\n        profiles[maker] = this.newUserProfile(maker);\n      }\n      if(!(taker in profiles)) {\n        profiles[taker] = this.newUserProfile(taker);\n      }\n\n      // Set who the buyer and who the seller is\n      if(order[\"type\"] === \"BUY\") {\n        buyer = taker;\n        seller = maker;\n      } else {\n        buyer = maker;\n        seller = taker;\n      }\n\n      // Add to buyer and seller data dict\n      let profile_data = profiles[buyer];\n      profile_data[\"amount_1_given\"] = profile_data[\"amount_1_given\"].add(order[\"curr_1\"]);\n      profile_data[\"amount_0_received\"] = profile_data[\"amount_0_received\"].add(order[\"curr_0\"]);\n      profiles[buyer] = profile_data;\n\n      profile_data = profiles[seller];\n      profile_data[\"amount_0_given\"] = profile_data[\"amount_0_given\"].add(order[\"curr_0\"]);\n      profile_data[\"amount_1_received\"] = profile_data[\"amount_1_received\"].add(order[\"curr_1\"]);\n      profiles[seller] = profile_data;\n    }\n\n    let data = {};\n    for (const key in profiles) {\n      const avg_buy_order = getPrice(profiles[key][\"amount_1_given\"], profiles[key][\"amount_0_received\"], \"BUY\");\n      const avg_buy_price = avg_buy_order ? Math.round(avg_buy_order[0].toString() * 10) / 10 : \"N/A\";\n      const avg_sell_order = getPrice(profiles[key][\"amount_0_given\"], profiles[key][\"amount_1_received\"], \"SELL\");\n      const avg_sell_price = avg_sell_order ? Math.round(avg_sell_order[0].toString() * 10) / 10 : \"N/A\";\n      const profit = this.getProfit(avg_buy_order, avg_sell_order);\n      const data_point = {\n        \"amount_0_bought\": Math.round(ethers.utils.formatUnits(profiles[key][\"amount_0_received\"].toString(), 'ether') * 10) / 10,\n        \"avg_buy_price\": avg_buy_price,\n        \"amount_0_sold\": Math.round(ethers.utils.formatUnits(profiles[key][\"amount_0_given\"].toString(), 'ether') * 10) / 10,\n        \"avg_sell_price\": avg_sell_price,\n        \"profit\": profit\n      };\n      data[key] = data_point;\n    }\n\n    if (this.props.account in data) {\n      data = data[this.props.account];\n    } else {\n      data = {\n          \"amount_0_bought\": '...',\n          \"avg_buy_price\": '...',\n          \"amount_0_sold\": '...',\n          \"avg_sell_price\": '...',\n          \"profit\": '...'\n        };\n    }\n\n    return data;\n  }\n\n  /** ################# HANDLERS ################# **/\n\n  /** ################# HELPER FUNCTIONS ################# **/\n\n  // Helper function that creates an empty user profile object\n  newUserProfile(address) {\n    return {\n          \"address\": address,\n          \"amount_0_given\": ethers.utils.bigNumberify(\"0\"), // Amount weth sold\n          \"amount_1_received\": ethers.utils.bigNumberify(\"0\"), // Amount dai received for sells\n          \"amount_1_given\": ethers.utils.bigNumberify(\"0\"), // Amount dai given for buys\n          \"amount_0_received\": ethers.utils.bigNumberify(\"0\"), // Amount weth bought\n        };\n  }\n\n  // Helper function to calculate profit given average buy and sell orders\n  getProfit(avg_buy_order, avg_sell_order) {\n    if(!avg_buy_order || !avg_sell_order) {\n      return 0;\n    } else {\n      var amount_sell = avg_sell_order[1];\n      var amount_buy = avg_buy_order[1];\n      var sell_price = avg_sell_order[0];\n      var buy_price = avg_buy_order[0];\n      var min_amount = amount_buy.lt(amount_sell) ? ethers.utils.formatUnits(amount_buy.toString(), 'ether') : ethers.utils.formatUnits(amount_sell.toString(), 'ether');\n      var profit = Math.round(min_amount * (sell_price - buy_price) * 100) / 100;\n      return profit;\n    }\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { currencies } = this.props;\n    const { loading, data } = this.state;\n\n    // Background Item is in case data is loading or empty\n    let background_item = null;\n\n    if(loading) {\n      background_item = (<div id=\"AccountStats-empty\">Loading...</div>);\n    } else if(data.length === 0) {\n      background_item = (<div id=\"AccountStats-empty\">NO DATA</div>);\n    }\n    let profit_suffix = data['profit'] === '...' ? '' : <span className=\"sub_value\">{currencies[1]}</span>;\n    let bought_suffix = data['amount_0_bought'] === '...' ? '' : <span className=\"sub_value\">{currencies[0]}</span>;\n    let sold_suffix = data['amount_0_sold'] === '...' ? '' : <span className=\"sub_value\">{currencies[0]}</span>;\n    let profit_prefix = \"Profit:\";\n\n    let profit = data['profit'];\n    if (profit !== '...') {\n      if (profit > 0) {\n        profit = <span className=\"green\">{numberWithCommas(profit)} {profit_suffix}</span>;\n      } else {\n        profit_prefix = \"Loss:\";\n        profit = <span className=\"red\">{numberWithCommas(profit)} {profit_suffix}</span>;\n      }\n    }\n    return (\n      <div className=\"AccountStats\">\n        <div id=\"AccountStats-grid\">\n          <Grid>\n            <Grid.Row>\n              <Grid.Column mobile={16} tablet={4} computer={4} textAlign=\"center\" className=\"AccountStats-grid-col\">\n                <span className=\"AccountStats-fieldName\">{profit_prefix}</span> {profit}\n              </Grid.Column>\n              <Grid.Column mobile={16} tablet={3} computer={3} textAlign=\"center\" className=\"AccountStats-grid-col\">\n                <span className=\"AccountStats-fieldName\"># Bought:</span> {numberWithCommas(data['amount_0_bought'])} {bought_suffix}\n              </Grid.Column>\n              <Grid.Column mobile={16} tablet={3} computer={3} textAlign=\"center\" className=\"AccountStats-grid-col\">\n                <span className=\"AccountStats-fieldName\">Avg. Buy:</span> {numberWithCommas(data['avg_buy_price'])}\n              </Grid.Column>\n              <Grid.Column mobile={16} tablet={3} computer={3} textAlign=\"center\" className=\"AccountStats-grid-col\">\n                <span className=\"AccountStats-fieldName\"># Sold:</span> {numberWithCommas(data['amount_0_sold'])} {sold_suffix}\n              </Grid.Column>\n              <Grid.Column mobile={16} tablet={3} computer={3} textAlign=\"center\" className=\"AccountStats-grid-col\">\n                <span className=\"AccountStats-fieldName\">Avg. Sell:</span> {numberWithCommas(data['avg_sell_price'])}\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </div>\n        {background_item}\n      </div>\n    );\n  }\n}\n\nexport default AccountStats","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { ethers } from 'ethers';\nimport { Grid, Icon } from 'semantic-ui-react';\nimport { AutoSizer, List } from 'react-virtualized';\n\n// Import CSS Files\nimport './markethistory.css';\n\n// Import src code\nimport HumanName from '../../utils/humanname/humanname';\nimport { numberWithCommas } from '../../utils/general';\n\nclass MarketHistory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n\n    this.max_order = 1;\n  }\n\n  // Only rerender if the number of orders increases\n  shouldComponentUpdate(nextProps, nextState) {\n    if(this.props.orders.length !== nextProps.orders.length) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Retrive the maximum number in the order history for the color bands\n  getMax(orders) {\n    return Math.max.apply(Math, orders.slice(0, 250).map(function(o) { return o.curr_1 }));\n  }\n\n  // Function to render each row in the virtualized table\n  rowRenderer({index, key, style}) {\n    var item = this.props.orders[index];\n    \n    // Calculate the ratio of the order size vs the max order to get the color band size\n    var type = item[\"type\"];\n    var ratio = item[\"curr_1\"]/this.max_order * 100;\n    var direction = \"right\";\n    var color_0 = \"rgba(255, 0, 0, 0.2)\";\n    var color_1 = \"rgba(0,0,0,0)\";\n    if(type === \"BUY\") {\n      color_0 = \"rgba(0, 255, 0, 0.1)\";\n      color_1 = \"rgba(0, 0, 0, 0)\";\n    }\n\n    // Get the color of the color band using the order type\n    var color = index % 2 === 0 ? `#182026` : `#1c262c`;\n\n    var custom_style = { \n      backgroundColor: color,\n      backgroundImage: `linear-gradient(to ${direction}, ${color_0} , ${color_0}), linear-gradient(to ${direction}, ${color_1}, ${color_1})` ,\n      backgroundSize: `calc(${ratio}%) 100%`,\n      backgroundRepeat: `no-repeat`\n    };\n    style = Object.assign(custom_style, style);\n\n    var price = item[\"type\"] === \"BUY\" ? (<span className=\"green MarketHistory-type\">{numberWithCommas(Math.round(item[\"price\"] * 100)/100)}</span>) : (<span className=\"red MarketHistory-type\">{numberWithCommas(Math.round(item[\"price\"] * 100)/100)}</span>);\n    var participants = (<div className=\"MarketHistory-participants\">\n                          <div className=\"MarketHistory-taker\"><HumanName icon_only address={item[\"taker\"]} /></div>\n                          <div className=\"MarketHistory-arrow\"><Icon size=\"large\" name=\"long arrow alternate right\" /></div>\n                          <div className=\"MarketHistory-maker\"><HumanName icon_only address={item[\"maker\"]} /></div>\n                        </div>);\n    return (\n      <div className=\"MarketHistory-table-entry\" key={key} style={style}>\n        <Grid padded={true}>\n          <Grid.Column computer={3} tablet={3} mobile={3}>\n            {price}\n          </Grid.Column>\n          <Grid.Column computer={4} tablet={4} mobile={6}>\n            {item[\"timestamp\"]}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} mobile={3}>\n            {numberWithCommas(Math.round(ethers.utils.formatUnits(item[\"curr_0\"], 'ether') * 100) / 100 )}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} mobile={4}>\n            {numberWithCommas(Math.round(ethers.utils.formatUnits(item[\"curr_1\"], 'ether') * 100) / 100 )}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} only={'computer tablet'} textAlign='center'>\n            {participants}\n          </Grid.Column>\n        </Grid>\n      </div>\n    );\n  }\n\n  render() {\n    var { currencies, orders } = this.props;\n\n    // Update max order class variable (class var to not cause a rerender)\n    this.max_order = this.getMax(orders);\n    var background_item = null;\n\n    // Set the screen to loading if the orders are not available yet\n    if(orders.length === 0) {\n      background_item = (<div id=\"Leaderboard-empty\">Loading...</div>);\n    }\n\n    return (\n      <div className=\"MarketHistory\">\n        <Grid id=\"MarketHistory-table-header\">\n          <Grid.Column computer={3} tablet={3} mobile={3}>\n            Price\n          </Grid.Column>\n          <Grid.Column computer={4} tablet={4} mobile={6}>\n            Time\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} mobile={3}>\n            {currencies[0]}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} mobile={4}>\n            {currencies[1]}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} only={'computer tablet'}>\n            Participants\n          </Grid.Column>\n        </Grid>\n        <AutoSizer style={{outline: 'none'}}>\n          {({ height, width }) => (\n            <List\n              width={width}\n              height={height - 50}\n              rowHeight={50}\n              rowCount={orders.length}\n              rowRenderer={(props) => this.rowRenderer(props)}\n              className=\"MarketHistory-infinite-list\"\n            >\n            </List>\n          )}\n        </AutoSizer>\n        {background_item}\n      </div>\n    );\n  }\n}\n\nexport default MarketHistory","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { ethers } from 'ethers';\nimport { Grid } from 'semantic-ui-react';\nimport { AutoSizer, List } from 'react-virtualized';\n\n// Import CSS Files\nimport './leaderboard.css';\n\n// Import src code\nimport HumanName from '../../utils/humanname/humanname';\nimport { getPrice } from '../../utils/orders';\nimport { numberWithCommas } from '../../utils/general';\n\n// Component that calculates and displays rankings for traders on the leaderboard\nclass Leaderboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      data: [],\n      direction: 'ascending',\n      column: 'profit'\n    };\n  }\n\n  componentDidMount() {\n    // Convert raw orders into the proper format and store max profit someone has made over the data range\n    const new_data = this.eventsToData(this.props.orders);\n    let max_profit = 1;\n    if(new_data.length > 0) {\n      max_profit = Math.max(Math.abs(new_data[0]['profit']), Math.abs(new_data[new_data.length-1]['profit']));\n    }\n    this.setState({ max_profit, data: new_data });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Only update if more orders are added or if the sorting has changed\n    if(this.props.orders.length !== nextProps.orders.length || this.state.data !== nextState.data || this.state.direction !== nextState.direction || this.state.column !== nextState.column) {\n      if(this.props.orders.length !== nextProps.orders.length) {\n        const new_data = this.eventsToData(nextProps.orders);\n        // Need to update the max profit to calibrate the coloring bands\n        let max_profit = 1;\n        if(new_data.length > 0) {\n          max_profit = Math.max(Math.abs(new_data[0]['profit']), Math.abs(new_data[new_data.length-1]['profit']));\n        }\n        this.setState({ max_profit, data: new_data});\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Function to turn raw events into processed data for the leaderboard\n  eventsToData(events) {\n    let profiles = {};\n    for(let i = 0; i < events.length; i++) {\n      const order = events[i];\n\n      // Assemble all necessary vars\n      const maker = order[\"maker\"];\n      const taker = order[\"taker\"];\n      let buyer = null;\n      let seller = null;\n\n      // Add maker and taker into the dict if they are not present\n      if(!(maker in profiles)) {\n        profiles[maker] = this.newUserProfile(maker);\n      }\n      if(!(taker in profiles)) {\n        profiles[taker] = this.newUserProfile(taker);\n      }\n\n      // Set who the buyer and who the seller is\n      if(order[\"type\"] === \"BUY\") {\n        buyer = taker;\n        seller = maker;\n      } else {\n        buyer = maker;\n        seller = taker;\n      }\n\n      // Add to buyer and seller data dict\n      let profile_data = profiles[buyer];\n      profile_data[\"amount_1_given\"] = profile_data[\"amount_1_given\"].add(order[\"curr_1\"]);\n      profile_data[\"amount_0_received\"] = profile_data[\"amount_0_received\"].add(order[\"curr_0\"]);\n      profiles[buyer] = profile_data;\n\n      profile_data = profiles[seller];\n      profile_data[\"amount_0_given\"] = profile_data[\"amount_0_given\"].add(order[\"curr_0\"]);\n      profile_data[\"amount_1_received\"] = profile_data[\"amount_1_received\"].add(order[\"curr_1\"]);\n      profiles[seller] = profile_data;\n    }\n\n    let data = [];\n    for (const key in profiles) {\n      const avg_buy_order = getPrice(profiles[key][\"amount_1_given\"], profiles[key][\"amount_0_received\"], \"BUY\");\n      const avg_buy_price = avg_buy_order ? Math.round(avg_buy_order[0].toString() * 10) / 10 : \"N/A\";\n      const avg_sell_order = getPrice(profiles[key][\"amount_0_given\"], profiles[key][\"amount_1_received\"], \"SELL\");\n      const avg_sell_price = avg_sell_order ? Math.round(avg_sell_order[0].toString() * 10) / 10 : \"N/A\";\n      const profit = this.getProfit(avg_buy_order, avg_sell_order);\n      const data_point = {\n        \"user\": key,\n        \"amount_0_bought\": Math.round(ethers.utils.formatUnits(profiles[key][\"amount_0_received\"].toString(), 'ether') * 10) / 10,\n        \"avg_buy_price\": avg_buy_price,\n        \"amount_0_sold\": Math.round(ethers.utils.formatUnits(profiles[key][\"amount_0_given\"].toString(), 'ether') * 10) / 10,\n        \"avg_sell_price\": avg_sell_price,\n        \"profit\": profit\n      };\n      data.push(data_point);\n    }\n\n    data.sort(function(first, second) {\n      return second.profit - first.profit;\n    })\n\n    return data;\n  }\n\n  // Function that returns a row to be rendered in the virtualized table\n  rowRenderer({index, key, style}) {\n    const { max_profit } = this.state;\n    const { currencies, account, options } = this.props;\n    const item = this.state.data[index];\n\n    const ratio = Math.abs(item[\"profit\"])/max_profit * 100;\n    const direction = \"right\";\n    let color_0 = \"rgba(255, 0, 0, 0.2)\";\n    let color_1 = \"rgba(0,0,0,0)\";\n    if(item[\"profit\"] > 0) {\n      color_0 = \"rgba(0, 255, 0, 0.1)\";\n      color_1 = \"rgba(0, 0, 0, 0)\";\n    }\n\n    let color = index % 2 === 0 ? `#182026` : `#1c262c`;\n\n    if(account === item[\"user\"]) {\n      color =  `#3f4a50`;\n    }\n\n    const custom_style = { \n      backgroundColor: color,\n      backgroundImage: `linear-gradient(to ${direction}, ${color_0} , ${color_0}), linear-gradient(to ${direction}, ${color_1}, ${color_1})` ,\n      backgroundSize: `calc(${ratio}%) 100%`,\n      backgroundRepeat: `no-repeat`\n    };\n    style = Object.assign(custom_style, style);\n\n    let profit_color = 'grey';\n    if(item[\"profit\"] > 0) {\n      profit_color = 'green';\n    } else if(item[\"profit\"] < 0) {\n      profit_color = 'red';\n    }\n\n    return (\n      <div className=\"Leaderboard-table-entry\" key={key} style={style}>\n        <Grid padded={true}>\n          <Grid.Column computer={4} tablet={6} mobile={10}>\n            <HumanName address={item[\"user\"]} currencies={currencies} options={options} />\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={2} only={'computer tablet'}>\n            <span>{numberWithCommas(item[\"amount_0_bought\"]) + \" \"}<span className=\"Leaderboard-subtext\">{currencies[0]}</span></span>\n          </Grid.Column>\n          <Grid.Column computer={2} tablet={2} only={'computer tablet'}>\n            {numberWithCommas(item[\"avg_buy_price\"])}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={2} only={'computer tablet'}>\n            <span>{numberWithCommas(item[\"amount_0_sold\"]) + \" \"}<span className=\"Leaderboard-subtext\">{currencies[0]}</span></span>\n          </Grid.Column>\n          <Grid.Column computer={2} tablet={2} only={'computer tablet'}>\n            {numberWithCommas(item[\"avg_sell_price\"])}\n          </Grid.Column>\n          <Grid.Column computer={2} tablet={2} mobile={6}>\n            <span className={profit_color}>{numberWithCommas(item[\"profit\"]) + \" \"}<span className=\"Leaderboard-subtext\">{currencies[1]}</span></span>\n          </Grid.Column>\n        </Grid>\n      </div>\n    )\n  }\n\n  /** ################# HANDLERS ################# **/\n\n  // Function used to handle changes in sorting by the user for the table\n  handleSort(clicked_column) {\n    const { column, data, direction } = this.state;\n\n    if(column !== clicked_column) {\n      var new_data = data.concat().sort(function(first, second) {\n                      if(first[clicked_column] === \"N/A\") {\n                        return 1;\n                      } else if(second[clicked_column] === \"N/A\") {\n                        return -1;\n                      } else {\n                        return second[clicked_column] - first[clicked_column];\n                      }\n                    })\n      this.setState({\n        column: clicked_column,\n        data: new_data,\n        direction: 'ascending'\n      });\n    } else {\n      this.setState({ \n        data: data.reverse(),\n        direction: direction === 'ascending' ? 'descending' : 'ascending'\n      });\n    }\n  }\n\n  /** ################# HELPER FUNCTIONS ################# **/\n\n  // Helper function that creates an empty user profile object\n  newUserProfile(address) {\n    return {\n          \"address\": address,\n          \"amount_0_given\": ethers.utils.bigNumberify(\"0\"), // Amount weth sold\n          \"amount_1_received\": ethers.utils.bigNumberify(\"0\"), // Amount dai received for sells\n          \"amount_1_given\": ethers.utils.bigNumberify(\"0\"), // Amount dai given for buys\n          \"amount_0_received\": ethers.utils.bigNumberify(\"0\"), // Amount weth bought\n        };\n  }\n\n  // Helper function to calculate profit given average buy and sell orders\n  getProfit(avg_buy_order, avg_sell_order) {\n    if(!avg_buy_order || !avg_sell_order) {\n      return 0;\n    } else {\n      var amount_sell = avg_sell_order[1];\n      var amount_buy = avg_buy_order[1];\n      var sell_price = avg_sell_order[0];\n      var buy_price = avg_buy_order[0];\n      var min_amount = amount_buy.lt(amount_sell) ? ethers.utils.formatUnits(amount_buy.toString(), 'ether') : ethers.utils.formatUnits(amount_sell.toString(), 'ether');\n      var profit = Math.round(min_amount * (sell_price - buy_price) * 100) / 100;\n      return profit;\n    }\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { loading, data, column, direction } = this.state;\n\n    // Background Item is in case data is loading or empty\n    let background_item = null;\n\n    if(loading) {\n      background_item = (<div id=\"Leaderboard-empty\">Loading...</div>);\n    } else if(data.length === 0) {\n      background_item = (<div id=\"Leaderboard-empty\">NO DATA</div>);\n    }\n\n    // Grab sorting symbols\n    let symbol = \"\";\n    if(direction === 'descending') {\n      symbol = \"\";\n    }\n\n    // Build header list\n    const headers = {\n      \"name\": \"Name\",\n      \"amount_0_bought\": \"# Bought\",\n      \"avg_buy_price\": \"Avg. Buy\",\n      \"amount_0_sold\": \"# Sold\",\n      \"avg_sell_price\": \"Avg. Sell\",\n      \"profit\": \"Profit\"\n    };\n    headers[column] = headers[column] + symbol;\n\n    return (\n      <div className=\"Leaderboard\">\n        <Grid id=\"Leaderboard-table-header\">\n          <Grid.Column computer={4} tablet={6} mobile={10}>\n            {headers[\"name\"]}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={2} onClick={() => this.handleSort('amount_0_bought')} only={'computer tablet'}>\n            {headers[\"amount_0_bought\"]}\n          </Grid.Column>\n          <Grid.Column computer={2} tablet={2} onClick={() => this.handleSort('avg_buy_price')} only={'computer tablet'}>\n            {headers[\"avg_buy_price\"]}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={2} onClick={() => this.handleSort('amount_0_sold')} only={'computer tablet'}>\n            {headers[\"amount_0_sold\"]}\n          </Grid.Column>\n          <Grid.Column computer={2} tablet={2} onClick={() => this.handleSort('avg_sell_price')} only={'computer tablet'}>\n            {headers[\"avg_sell_price\"]}\n          </Grid.Column>\n          <Grid.Column computer={2} tablet={2} mobile={6} onClick={() => this.handleSort('profit')}>\n            {headers[\"profit\"]}\n          </Grid.Column>\n        </Grid>\n        <AutoSizer style={{outline: 'none'}}>\n          {({ height, width }) => (\n            <List\n              width={width}\n              height={height - 50}\n              rowHeight={50}\n              rowCount={data.length}\n              rowRenderer={(props) => this.rowRenderer(props)}\n              className=\"Leaderboard-infinite-list\"\n            >\n            </List>\n          )}\n        </AutoSizer>\n        {background_item}\n      </div>\n    );\n  }\n}\n\nexport default Leaderboard","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { ethers } from 'ethers';\nimport { Grid } from 'semantic-ui-react';\nimport { AutoSizer, List } from 'react-virtualized';\n\n// Import CSS Files\nimport './myhistory.css';\n\n// Import src Code\nimport HumanName from '../../utils/humanname/humanname';\nimport { numberWithCommas } from '../../utils/general';\n\nclass MyHistory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true\n    };\n\n    this.my_orders = [];\n    this.max_order = 1;\n  }\n\n  componentDidMount() {\n    // If the orders prop is longer than 0 then set loading to false\n    if(this.props.orders.length > 0) {\n      this.setState({ loading: false });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Only update if the new state isn't loading or if the props orders has changed\n    if(this.state.loading && !nextState.loading) {\n      return true;\n    } else if(this.props.orders.length !== nextProps.orders.length) {\n      this.setState({ loading: false });\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Gets the max value from the order history\n  getMax() {\n    return Math.max.apply(Math, this.my_orders.map(function(o) { return o.curr_1 }));\n  }\n\n  // Extract orders that match the current account address and return the filtered list\n  getMyOrders() {\n    const { orders, account } = this.props;\n    let myOrders = [];\n\n    for(let i = 0; i < orders.length; i++) {\n      let order = orders[i];\n      if(order[\"maker\"] === account) {\n        let new_order = Object.assign({}, order);\n        new_order[\"participant\"] = new_order[\"taker\"];\n        new_order[\"type\"] = new_order[\"type\"] === \"BUY\" ? \"SELL\" : \"BUY\";\n        myOrders.push(new_order);\n      } else if(order[\"taker\"] === account) {\n        let new_order = Object.assign({}, order);\n        new_order[\"participant\"] = new_order[\"maker\"];\n        myOrders.push(new_order);\n      }\n    }\n    return myOrders;\n  }\n\n  // Build the HTML for each row to be rendered in the virtualized table\n  // Includes getting the color bar for each row\n  rowRenderer({index, key, style}) {\n    const item = this.my_orders[index];\n    \n    // Getting the information for the coloring ratio by dividng by the max order\n    const type = item[\"type\"];\n    const ratio = item[\"curr_1\"]/this.max_order * 100;\n    const direction = \"right\";\n    let color_0 = \"rgba(255, 0, 0, 0.2)\";\n    let color_1 = \"rgba(0,0,0,0)\";\n    if(type === \"BUY\") {\n      color_0 = \"rgba(0, 255, 0, 0.1)\";\n      color_1 = \"rgba(0, 0, 0, 0)\";\n    }\n\n    // Getting the color for the color band\n    const color = index % 2 === 0 ? `#182026` : `#1c262c`;\n\n    const custom_style = { \n      backgroundColor: color,\n      backgroundImage: `linear-gradient(to ${direction}, ${color_0} , ${color_0}), linear-gradient(to ${direction}, ${color_1}, ${color_1})` ,\n      backgroundSize: `calc(${ratio}%) 100%`,\n      backgroundRepeat: `no-repeat`\n    };\n    style = Object.assign(custom_style, style);\n\n    // Construct the HTML row\n    const price = item[\"type\"] === \"BUY\" ? (<span className=\"green MarketHistory-type\">{numberWithCommas(Math.round(item[\"price\"] * 100)/100)}</span>) : (<span className=\"red MarketHistory-type\">{numberWithCommas(Math.round(item[\"price\"] * 100)/100)}</span>);\n    return (\n      <div className=\"MarketHistory-table-entry\" key={key} style={style}>\n        <Grid padded={true}>\n          <Grid.Column computer={3} tablet={3} mobile={3}>\n            {price}\n          </Grid.Column>\n          <Grid.Column computer={4} tablet={4} mobile={6}>\n            {item[\"timestamp\"]}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} mobile={3}>\n            {numberWithCommas(Math.round(ethers.utils.formatUnits(item[\"curr_0\"], 'ether') * 100) / 100 )}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} mobile={4}>\n            {numberWithCommas(Math.round(ethers.utils.formatUnits(item[\"curr_1\"], 'ether') * 100) / 100 )}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} only={'computer tablet'} textAlign='center'>\n            <HumanName address={item[\"participant\"]} icon_only />\n          </Grid.Column>\n        </Grid>\n      </div>\n    )\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { loading } = this.state;\n    const { currencies } = this.props;\n\n    let background_item = null;\n    this.my_orders = this.getMyOrders();\n\n    if(loading) {\n      background_item = (<div id=\"MarketHistory-empty\">Loading...</div>);\n    } else if(this.my_orders.length === 0) {\n      background_item = (<div id=\"MarketHistory-empty\">NO ORDERS</div>);\n    } else {\n      this.max_order = this.getMax();\n    }\n\n    return (\n      <div className=\"MarketHistory\">\n        <Grid id=\"MarketHistory-table-header\">\n          <Grid.Column computer={3} tablet={3} mobile={3}>\n            Price\n          </Grid.Column>\n          <Grid.Column computer={4} tablet={4} mobile={6}>\n            Time\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} mobile={3}>\n            {currencies[0]}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} mobile={4}>\n            {currencies[1]}\n          </Grid.Column>\n          <Grid.Column computer={3} tablet={3} only={'computer tablet'}>\n            Participants\n          </Grid.Column>\n        </Grid>\n        <AutoSizer style={{outline: 'none'}}>\n          {({ height, width }) => (\n            <List\n              width={width}\n              height={height - 50}\n              rowHeight={50}\n              rowCount={this.my_orders.length}\n              rowRenderer={(props) => this.rowRenderer(props)}\n              className=\"MarketHistory-infinite-list\"\n            >\n            </List>\n          )}\n        </AutoSizer>\n        { background_item }\n      </div>\n    );\n  }\n}\n\nexport default MyHistory","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { ethers } from 'ethers';\nimport { Sidebar, Segment, Icon, Input, Form, Button, Loader } from 'semantic-ui-react';\n\n// Import CSS Files\nimport './sidebar.css';\n\n// Import src code\nimport HumanName from '../../utils/humanname/humanname';\nimport { numberWithCommas } from '../../utils/general';\n\nclass SideBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      visible: false,\n      amount: '0',\n      ui_amount: '',\n      currency_0_balance: \"0\",\n      currency_1_balance: \"0\",\n      id: null,\n      info: null,\n      owner: null,\n      bignumbers: {},\n      button_loading: false,\n      button_success: false,\n      button_error: false\n    };\n\n    this.updateInfo = this.updateInfo.bind(this);\n    this.stopLoading = this.stopLoading.bind(this);\n    this.flashError = this.flashError.bind(this);\n    this.flashSuccess = this.flashSuccess.bind(this);\n  }\n\n  // Get the balances for each of the currencies since we will need that throughout the component\n  componentDidMount() {\n    this.generateBigNumbers();\n    this.updateInfo();\n  }\n\n  // Update the information in the sidebar and recursively call itself every 3 seconds\n  async updateInfo() {\n    const { account, currencies, options } = this.props;\n    if(this.state.visible && this.state.id) {\n      const currency_0_balance = await options.contracts[currencies[0]].balanceOf(account);\n      const currency_1_balance = await options.contracts[currencies[1]].balanceOf(account);\n      const info = await options.contracts.Market.getOffer(this.state.id);\n      const owner = await options.contracts.Market.getOwner(this.state.id);\n      this.setState({ currency_0_balance, currency_1_balance, info, owner });\n    }\n    setTimeout(this.updateInfo, 3000);\n  }\n\n  // Generate BigNumber represenatation of integers for easy arithmetic later\n  generateBigNumbers() {\n    let bignumbers = {};\n    for(let i = 0; i <= 10; i++) {\n      const key = i;\n      bignumbers[key] = ethers.utils.bigNumberify(key);\n    }\n    this.setState({ bignumbers });\n  }\n\n  // Helper function to set loading to false\n  stopLoading() {\n    this.setState({ loading: false });\n  }\n\n  // Need to update visible and the side_bar info key if a new order is passed in\n  async componentWillReceiveProps(nextProps) {\n    // Update if the new props for visibility are changed\n    if(nextProps.visible !== this.props.visible) {\n      this.setState({ visible: nextProps.visible });\n      if(nextProps.visible === false) {\n        this.setState({ info: null, owner: null, amount: '0', ui_amount: '', button_success: false, button_error: false, button_loading: false });\n      }\n    }\n    // Update if the information for the sidebar has changed\n    if(nextProps.sidebar_info !== this.props.sidebar_info) {\n      this.setState({ loading: true });\n      const info = await this.props.options.contracts.Market.getOffer(nextProps.sidebar_info[\"id\"]);\n      const owner = await this.props.options.contracts.Market.getOwner(nextProps.sidebar_info[\"id\"]);\n      this.setState({ id: nextProps.sidebar_info[\"id\"], info, owner, amount: '0', ui_amount: '' });\n      // Add artificial delay to show the new results are really updated\n      setTimeout(this.stopLoading, 50);\n    }\n  }\n\n  // Helper function to flash success on tx success\n  flashSuccess() {\n    const { toggleSidebar } = this.props;\n    this.setState({ button_success : true, button_loading: false });\n    setTimeout(toggleSidebar, 1500);\n  }\n\n  // Helper function to flash error on tx failure\n  flashError() {\n    this.setState({ button_error: true, button_loading: false });\n    setTimeout(() => this.setState({ button_error: false }), 1500);\n  }\n\n  // Most important function in the entire file since it actually interfaces\n  // and edits the blockchain.\n  async executeTrade(will_receive) {\n    const { sidebar_info, options } = this.props;\n\n    const id = sidebar_info[\"id\"];\n\n    // Log the inputs for the transaction so that you can always be 100% positive what is being sent\n    const inputs = {\n      \"id\": id,\n      \"will_receive\": will_receive.toString(),\n      \"will_receive_wholenums\": ethers.utils.formatUnits(will_receive.toString(), 'ether')\n    };\n    console.log(inputs);\n\n    try {\n      const tx = await this.props.options.contracts.Market.buy(id, will_receive.toString(), { gasLimit: 500000, gasPrice: options.gasPrice });\n      this.setState({ button_loading: true });\n      await tx.wait();\n      this.flashSuccess();\n    } catch(error) {\n      this.flashError();\n    }\n  }\n\n  // Handler for when user changes the amount to be bought\n  handleUserChange(value) {\n    let internal_value = 0;\n    try{\n      // Check to see if the value is not just white space\n      if(/\\S/.test(value)) {\n        internal_value = ethers.utils.parseUnits(value.toString(), 'ether').toString();\n      }\n    } catch (err) {\n      console.log(err);\n      return;\n    }\n    this.setState({ ui_amount: value, amount: internal_value });\n  }\n\n  // Handler for when user uses percentage tool to update amount\n  handleAmountPercentageChange(value) {\n    const ui_value = ethers.utils.formatUnits(value.toString(), 'ether');\n    this.setState({ amount: value.toString(), ui_amount: ui_value });\n  }\n\n  // So we were passed in the most up to date info the older component had.\n  // However this can and will change if it was stale or other people are taking the order.\n  // This keeps the info up to date and fallsback onto the old data if an error happens.\n  getUpdatedInfo() {\n    const { info } = this.state;\n    const { sidebar_info } = this.props;\n\n    let info_obj = {};\n    // If info is empty then return null\n    if(!info) {\n      return null;\n    }\n\n    const buy_amt = info[0];\n    const pay_amt = info[2];\n\n    // Build information object depending on the types\n    if(sidebar_info[\"type\"] === \"BUY\") {\n      info_obj = {\n        \"price\": sidebar_info[\"price\"],\n        \"curr_0_amt\": pay_amt.toString(),\n        \"curr_1_amt\": buy_amt.toString()\n      };\n    } else {\n      info_obj = {\n        \"price\": sidebar_info[\"price\"],\n        \"curr_0_amt\": buy_amt.toString(),\n        \"curr_1_amt\": pay_amt.toString()\n      };\n    }\n\n    return info_obj;\n  }\n\n  // Calculate how much currency the user will receive\n  calcWillReceive() {\n    const { amount } = this.state;\n\n    // Don't forget that these are flipped from the actual smart contract docs since\n    // WE are the counterparties so buy_amt/pay_amt is flipped from expected\n    const buy_amt = ethers.utils.bigNumberify(this.state.info[0]);\n    const pay_amt = ethers.utils.bigNumberify(this.state.info[2]);\n\n    let amount_bn = ethers.utils.bigNumberify(amount);\n    try {\n      let will_receive = amount_bn.mul(buy_amt).div(pay_amt);\n      return will_receive;\n    } catch(err) {\n      return ethers.utils.bigNumberify(\"0\");\n    }\n  }\n\n  // Get the max amount possible to take from this order given the balances and offer\n  getMaxTake() {\n    const { sidebar_info } = this.props;\n    const { info, currency_0_balance, currency_1_balance } = this.state;\n\n    const pay_amt = ethers.utils.bigNumberify(info[2]);\n    const balance = sidebar_info[\"type\"] === \"BUY\" ? ethers.utils.bigNumberify(currency_0_balance) : ethers.utils.bigNumberify(currency_1_balance);\n    if(balance.lt(pay_amt)) {\n      return balance;\n    } else {\n      return pay_amt;\n    }\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { visible, amount, ui_amount, currency_0_balance, currency_1_balance, bignumbers, loading, button_loading, button_error, button_success, owner } = this.state;\n    const { currencies, toggleSidebar, sidebar_info, options } = this.props;\n\n    // Invert the type since the action do as a taker is the inverse of the action of the maker\n    const action = sidebar_info[\"type\"] === \"BUY\" ? \"SELL\" : \"BUY\";\n    const subtitle = action === \"BUY\" ? (<span className=\"green\">{action}</span>) : (<span className=\"red\">SELL</span>);\n\n    // So we were passed in the most up to date info the older component had.\n    // However this can and will change if it was stale or other people are taking the order.\n    // This keeps the info up to date and fallsback onto the old data if an error happens.\n    const updated_info = this.getUpdatedInfo();\n    if(!updated_info || loading) {\n      return (\n        <div className=\"Side_bar\">\n          <Sidebar as={Segment} animation=\"overlay\" direction=\"right\" visible={visible} id=\"Side_bar\">\n            <div id=\"Side_bar-x-container\">\n              <Icon name=\"close\" onClick={toggleSidebar} id=\"Side_bar-x\" size=\"large\" />\n            </div>\n            <div id=\"Side_bar-title\">Take Order</div>\n            <Loader active>Loading</Loader>\n          </Sidebar>\n        </div>\n      );\n    }\n\n    // Build object that swaps values for buys and sells so that rendering is simple\n    let giving = {\n      \"currency\": null,\n      \"receive_currency\": null,\n      \"balance\": 0,\n      \"offered\": 0,\n      \"max_take\": this.getMaxTake(),\n      \"will_receive\": this.calcWillReceive(),\n      \"maker\": owner ? <HumanName address={owner} options={options} currencies={currencies} /> : \"Loading...\",\n    };\n    giving[\"ui_will_receive\"] = Math.round(ethers.utils.formatUnits(giving[\"will_receive\"].toString(), 'ether') * 1000) / 1000;\n\n    if(action === \"BUY\") {\n      giving[\"currency\"] = currencies[1];\n      giving[\"receive_currency\"] = currencies[0];\n      giving[\"balance\"] = ethers.utils.bigNumberify(currency_1_balance);\n      giving[\"ui_balance\"] = Math.round(ethers.utils.formatUnits(currency_1_balance.toString(), 'ether') * 1000) / 1000;\n      giving[\"offered\"] = ethers.utils.bigNumberify(updated_info[\"curr_1_amt\"]);\n      giving[\"ui_offered\"] = Math.round(ethers.utils.formatUnits(updated_info[\"curr_1_amt\"], 'ether') * 1000) / 1000;\n    } else {\n      giving[\"currency\"] = currencies[0];\n      giving[\"receive_currency\"] = currencies[1];\n      giving[\"balance\"] = ethers.utils.bigNumberify(currency_0_balance);\n      giving[\"ui_balance\"] = Math.round(ethers.utils.formatUnits(currency_0_balance.toString(), 'ether') * 1000) / 1000;\n      giving[\"offered\"] = ethers.utils.bigNumberify(updated_info[\"curr_0_amt\"]);\n      giving[\"ui_offered\"] = Math.round(ethers.utils.formatUnits(updated_info[\"curr_0_amt\"], 'ether') * 1000) / 1000;\n    }\n\n    // Adjust the text on the button if an action or error just occurred\n    var button_text = action + \" \" + currencies[0];\n    button_text = button_success ? \"SUCCESS\" : button_text;\n    button_text = button_error ? \"FAILED\" : button_text;\n\n    return (\n      <div className=\"Side_bar\">\n        <Sidebar as={Segment} animation=\"overlay\" direction=\"right\" visible={visible} id=\"Side_bar\">\n          <div id=\"Side_bar-x-container\">\n            <Icon name=\"close\" onClick={toggleSidebar} id=\"Side_bar-x\" size=\"large\" />\n          </div>\n          <div id=\"Side_bar-title\">Take Order</div>\n          <div id=\"Side_bar-subtitle\">How much would you like to {subtitle}?</div>\n          \n          <div id=\"Side_bar-info\">\n            <div className=\"Side_bar-info-item\">\n              <div className=\"Side_bar-info-title\">Maker:</div>\n              <div className=\"Side_bar-info-content\">{giving[\"maker\"]}</div>\n            </div>\n\n            <div className=\"Side_bar-info-item\">\n              <div className=\"Side_bar-info-title\">Price:</div>\n              <div className=\"Side_bar-info-content\">{numberWithCommas(updated_info[\"price\"])} <span id=\"Side_bar-exchange\">{currencies[1]} / {currencies[0]}</span></div>\n            </div>\n\n            <div className=\"Side_bar-info-item\">\n              <div className=\"Side_bar-info-title\">Balance {giving[\"currency\"]}:</div>\n              <div className=\"Side_bar-info-content\">{numberWithCommas(giving[\"ui_balance\"])} <span id=\"Side_bar-exchange\">{giving[\"currency\"]}</span></div>\n            </div>\n\n            <div className=\"Side_bar-info-item\">\n              <div className=\"Side_bar-info-title\">Offered {giving[\"currency\"]}:</div>\n              <div className=\"Side_bar-info-content\">{numberWithCommas(giving[\"ui_offered\"])} <span id=\"Side_bar-exchange\">{giving[\"currency\"]}</span></div>\n            </div>\n          </div>\n\n          <Form size='tiny' id=\"Side_bar-form\">\n            <Form.Field>\n              <div>\n                <div className=\"Side_bar-info-title\">Spend {giving[\"currency\"]}:</div>\n                <Input\n                  label={{ basic: true, content: giving[\"currency\"] }}\n                  labelPosition='right'\n                  placeholder='Enter Amount...'\n                  value={ui_amount}\n                  onChange={(e) => { this.handleUserChange(e.target.value) }}\n                  disabled={options.readOnly}\n                />\n              </div>\n            </Form.Field>\n            <Button.Group id=\"Side_bar-mini-buttons\" size='mini' basic>\n              <Button disabled={options.readOnly} onClick={ () => this.handleUserChange(\"\") } >0%</Button>\n              <Button disabled={options.readOnly} onClick={ () => this.handleAmountPercentageChange(giving[\"max_take\"].div(bignumbers[4])) } >25%</Button>\n              <Button disabled={options.readOnly} onClick={ () => this.handleAmountPercentageChange(giving[\"max_take\"].div(bignumbers[2])) } >50%</Button>\n              <Button disabled={options.readOnly} onClick={ () => this.handleAmountPercentageChange(giving[\"max_take\"].mul(bignumbers[3]).div(bignumbers[4])) } >75%</Button>\n              <Button disabled={options.readOnly} onClick={ () => this.handleAmountPercentageChange(giving[\"max_take\"]) } >100%</Button>\n            </Button.Group>\n          </Form>\n          <div className=\"Side_bar-info-item\">\n            <div className=\"Side_bar-info-title\">Will Receive</div>\n            <div className=\"Side_bar-info-content\">{giving[\"ui_will_receive\"].toString() + \" \" + giving[\"receive_currency\"]}</div>\n          </div>\n          <Button className=\"BuySell-button\" loading={button_loading} color={action === \"BUY\" ? \"green\" : \"red\"} disabled={options.readOnly || button_text !== action + \" \" + currencies[0] || giving[\"will_receive\"].lte(ethers.utils.bigNumberify(\"1000\")) || ethers.utils.bigNumberify(amount).gt(giving[\"max_take\"])} onClick={() => this.executeTrade(giving[\"will_receive\"]) }>{button_text}</Button>\n        </Sidebar>\n      </div>\n    );\n  }\n}\n\nexport default SideBar\n","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { Table, Button, Popup } from 'semantic-ui-react';\n\n// Import CSS Files\nimport './mystoporders.css';\n\n// Import src code\nimport { numberWithCommas } from '../../utils/general';\n\nclass MyStopOrders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  // Handler to cancel an order\n  async cancelOrder(uid) {\n    const { OasisX } = this.props.options.contracts;\n    const { options } = this.props;\n    console.log(\"CANCEL ORDER \" + uid);\n    try {\n      const tx = await OasisX.cancel(uid, { gasLimit: 500000, gasPrice: options.gasPrice });\n      await tx.wait();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { currencies, orders } = this.props;\n\n    let orders_table = null;\n    let background_item = null;\n\n    // If there are no orders then render an emtpy list\n    if(orders.length === 0) {\n      background_item = (<div id=\"MyStopOrders-empty\">NO ORDERS</div>);\n    } else {\n      orders_table = (<Table.Body id=\"MyStopOrders-tableBody\">\n            {orders.map((item, index) => {\n              var condExplanation = item[\"condUpDown\"] === 1 ? \">\" : \"<\";\n              var price = item[\"condType\"] === \"BUY\" ? (<span className=\"green MyStopOrders-color\">{numberWithCommas(item[\"price\"])}</span>) : (<span className=\"red MyStopOrders-color\">{numberWithCommas(item[\"price\"])}</span>)\n              var tradeType = item[\"tradeType\"] === \"BUY\" ? (<span className=\"green MyStopOrders-color\">{item[\"tradeType\"]}</span>) : (<span className=\"red MyStopOrders-color\">{item[\"tradeType\"]}</span>)\n              var tradeSuffix = item[\"tradeType\"] === \"BUY\" ? currencies[1] : currencies[0];\n              var pair = currencies[1] + \"/\" + currencies[0];\n              var explanation = \"If Market \" + item[\"condType\"] + \" Price \" + condExplanation + \" \" + numberWithCommas(item[\"price\"]) + \" \" + pair;\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell  textAlign='left'>\n                    <div className='MyStopOrders-table-entry'><Button className=\"MyStopOrders-button\" color='red' size='mini' inverted onClick={() => {this.cancelOrder(item[\"uid\"])}}>CANCEL</Button></div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MyStopOrders-table-entry'><Popup trigger={<span>{condExplanation} {price} {pair}</span>} content={explanation} /></div>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <div className='MyStopOrders-table-entry'>MARKET {tradeType} ({numberWithCommas(item[\"tradePayAmt\"])} {tradeSuffix})</div>\n                  </Table.Cell>\n                </Table.Row>\n              )\n            })}\n          </Table.Body>);\n    }\n\n    return (\n      <div className=\"MyStopOrders\">\n        <Table selectable striped basic celled unstackable columns={5} textAlign='left' id=\"MyStopOrders-table\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell className='MyStopOrders-table-header' textAlign='left'>Action</Table.HeaderCell>\n              <Table.HeaderCell className='MyStopOrders-table-header' textAlign='left'>Condition</Table.HeaderCell>\n              <Table.HeaderCell className='MyStopOrders-table-header' textAlign='left'>Trade Amt</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          { orders_table }\n        </Table>\n        { background_item }\n      </div>\n    );\n  }\n}\n\nexport default MyStopOrders","import { ethers } from 'ethers';\n\n// Helper function to process raw events into order objects\nfunction processOpenOrders(rawOrders, type) {\n\tvar n = rawOrders[\"ids\"].length\n\tvar orders = []\n\tfor(var i = 0; i < n; i++) {\n\t\tif(rawOrders[\"ids\"][i].toString() !== \"0\") { // && rawOrders[\"owners\"][i] === account\n\t\t\tvar id = rawOrders[\"ids\"][i].toString()\n\t\t\tvar maker = rawOrders[\"owners\"][i]\n\t\t\tvar pay_amount = ethers.utils.formatUnits(rawOrders[\"payAmts\"][i].toString(), 'ether')\n\t\t\tvar buy_amount = ethers.utils.formatUnits(rawOrders[\"buyAmts\"][i].toString(), 'ether') \n\t\t\tvar price = 0\n\t\t\tvar order = {}\n\t\t\tif(type === \"BUY\") {\n\t\t\t\tprice = Math.round(pay_amount / buy_amount * 1000) / 1000\n\t\t\t\tbuy_amount = Math.round(buy_amount * 1000) / 1000\n\t\t\t\tpay_amount = Math.round(pay_amount * 1000) / 1000\n\t\t\t\torder = {\n\t\t\t\t\t\"price\": price,\n\t\t\t\t\t\"curr_0_amt\": buy_amount,\n\t\t\t\t\t\"curr_1_amt\": pay_amount,\n\t\t\t\t\t\"id\": id,\n\t\t\t\t\t\"type\": type,\n\t\t\t\t\t\"maker\": maker\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tprice = Math.round(buy_amount / pay_amount * 1000) / 1000\n\t\t\t\tbuy_amount = Math.round(buy_amount * 1000) / 1000\n\t\t\t\tpay_amount = Math.round(pay_amount * 1000) / 1000\n\t\t\t\torder = {\n\t\t\t\t\t\"price\": price,\n\t\t\t\t\t\"curr_0_amt\": pay_amount,\n\t\t\t\t\t\"curr_1_amt\": buy_amount,\n\t\t\t\t\t\"id\": id,\n\t\t\t\t\t\"type\": type,\n\t\t\t\t\t\"maker\": maker\n\t\t\t\t}\n\t\t\t}\n\t\t\torders.push(order)\n\t\t}\n\t}\n\treturn orders\n}\n\n// Returns the trimmed length of the list if the 0 padding was removed from the end\nfunction getTrueLength(list) {\n\treturn list.filter((item) => {\n\t\treturn item.toNumber() !== 0\n\t}).length\n}\n\n// Trims all the 0 padding away from the end of the rawOrders payload\nfunction trimNulls(rawOrders, mainField, fieldList) {\n\tconst trimLength = getTrueLength(rawOrders[mainField])\n\tlet obj = {};\n\tfor (var i = 0; i < fieldList.length; i++) {\n\t\tobj[fieldList[i]] = rawOrders[fieldList[i]].slice(0, trimLength);\n\t}\n\treturn obj;\n}\n\n// Function that gets a list of open orders for a pair of currencies and a type (BUY or SELL)\nexport async function getOpenOrders(type, currencies, contracts) {\n\tconst { Market } = contracts;\n\n\tif(currencies.length === 2) {\n\t\tconst token_addr_0 = contracts[currencies[0]].address;\n\t\tconst token_addr_1 = contracts[currencies[1]].address;\n\n\t\tlet pay_token = null;\n\t\tlet buy_token = null;\n\n\t\tif(type === \"BUY\") {\n\t\t\tpay_token = token_addr_1;\n\t\t\tbuy_token = token_addr_0;\n\t\t} else {\n\t\t\tpay_token = token_addr_0;\n\t\t\tbuy_token = token_addr_1;\n\t\t}\n\n\t\tlet allRawOrders = await contracts.SupportMethods.getOffers(Market.address, pay_token, buy_token);\n\t\tlet newOrders = allRawOrders[\"ids\"].length\n\t\twhile (newOrders !== 0) {\n\t\t\tlet offerId = await contracts.Market.getWorseOffer(allRawOrders[\"ids\"][allRawOrders[\"ids\"].length - 1]);\n\t\t\tlet rawOrders = await contracts.SupportMethods[\"getOffers(address,uint256)\"](Market.address, offerId);\n\t\t\trawOrders = trimNulls(rawOrders, \"ids\", [\"ids\", \"payAmts\", \"buyAmts\", \"owners\", \"timestamps\"]);\n\t\t\tnewOrders = rawOrders[\"ids\"].length;\n\t\t\tallRawOrders[\"ids\"] = allRawOrders[\"ids\"].concat(rawOrders[\"ids\"]);\n\t\t\tallRawOrders[\"payAmts\"] = allRawOrders[\"payAmts\"].concat(rawOrders[\"payAmts\"]);\n\t\t\tallRawOrders[\"buyAmts\"] = allRawOrders[\"buyAmts\"].concat(rawOrders[\"buyAmts\"]);\n\t\t\tallRawOrders[\"owners\"] = allRawOrders[\"owners\"].concat(rawOrders[\"owners\"]);\n\t\t\tallRawOrders[\"timestamps\"] = allRawOrders[\"timestamps\"].concat(rawOrders[\"timestamps\"]);\n\t\t}\n\t\tlet orders = [];\n\t\tif(allRawOrders) {\n\t\t\torders = processOpenOrders(allRawOrders, type);\n\t\t}\n\t\treturn orders;\n\t}\n\n\treturn [];\n}\n\nfunction getStopInfo(payCrypto, receiveCrypto, payAmt, receiveAmt, condUpDown, currencies) {\n\t// Need to get a proper price and correct the updown to make sense in the context of having a base currency\n\tpayAmt = ethers.utils.formatUnits(payAmt.toString(), 'ether');\n\treceiveAmt = ethers.utils.formatUnits(receiveAmt.toString(), 'ether');\n\tcondUpDown = condUpDown.toNumber();\n\tif (payCrypto.toUpperCase() === currencies[0].toUpperCase() && receiveCrypto.toUpperCase() === currencies[1].toUpperCase()) {\n\t\t// SELL\n\t\tcondUpDown = condUpDown === 1 ? 0 : 1;\n\t\treturn {\n\t\t\t\"price\": Math.round(receiveAmt / payAmt * 1000) / 1000,\n\t\t\t\"condUpDown\": condUpDown,\n\t\t\t\"condType\": \"SELL\"\n\t\t};\n\t} else if (payCrypto.toUpperCase() === currencies[1].toUpperCase() && receiveCrypto.toUpperCase() === currencies[0].toUpperCase()) {\n\t\t// BUY\n\t\tcondUpDown = condUpDown === 1 ? 1 : 0;\n\t\treturn {\n\t\t\t\"price\": Math.round(payAmt / receiveAmt * 1000) / 1000,\n\t\t\t\"condUpDown\": condUpDown,\n\t\t\t\"condType\": \"BUY\"\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\t\"price\": \"ERROR\",\n\t\t\t\"condUpDown\": \"ERROR\",\n\t\t\t\"condType\": \"ERROR\"\n\t\t};\n\t}\n}\n\nfunction processStopOpenOrders(rawOrders, tradeType, currencies) {\n\tvar n = rawOrders[\"uid\"].length;\n\tvar orders = [];\n\tfor(var i = 0; i < n; i++) {\n\t\tif(rawOrders[\"uid\"][i].toString() !== \"0\") { // && rawOrders[\"owners\"][i] === account\n\t\t\tvar uid = rawOrders[\"uid\"][i].toString();\n\t\t\tvar info = getStopInfo(rawOrders[\"condPayCrypto\"][i], rawOrders[\"condReceiveCrypto\"][i], rawOrders[\"condPayAmt\"][i], rawOrders[\"condReceiveLimit\"][i], rawOrders[\"condUpDown\"][i], currencies)\n\t\t\tvar order = {\n\t\t\t\t\t\"uid\": uid,\n\t\t\t\t\t\"price\": info[\"price\"],\n\t\t\t\t\t\"condType\": info[\"condType\"],\n\t\t\t\t\t\"condUpDown\": info[\"condUpDown\"],\n\t\t\t\t\t\"tradeType\": tradeType,\n\t\t\t\t\t\"condPayAmt\": ethers.utils.formatUnits(rawOrders[\"condPayAmt\"][i].toString(), 'ether'),\n\t\t\t\t\t\"tradePayAmt\": ethers.utils.formatUnits(rawOrders[\"tradePayAmt\"][i].toString(), 'ether'),\n\t\t\t};\n\t\t\torders.push(order);\n\t\t}\n\t}\n\treturn orders\n}\n\nexport async function getOpenStopOrders(currencies, contracts, account) {\n\tconst { OasisX } = contracts;\n\n\tif(currencies.length === 2) {\n\t\tconst token_addr_0 = contracts[currencies[0]].address;\n\t\tconst token_addr_1 = contracts[currencies[1]].address;\n\n\t\tlet allRawOrders = await OasisX.getOpenOrdersOfTrader(account, token_addr_0, token_addr_1, 0);\n\t\tallRawOrders = trimNulls(allRawOrders, \"uid\", [\"uid\", \"condUpDown\", \"condPayCrypto\", \"condPayAmt\", \"condReceiveCrypto\", \"condReceiveLimit\", \"tradePayAmt\"]);\n\t\tallRawOrders = processStopOpenOrders(allRawOrders, \"SELL\", [token_addr_0, token_addr_1]);\n\t\t\n\t\tlet allRawOrdersInverse = await OasisX.getOpenOrdersOfTrader(account, token_addr_1, token_addr_0, 0);\n\t\tallRawOrdersInverse = trimNulls(allRawOrdersInverse, \"uid\", [\"uid\", \"condUpDown\", \"condPayCrypto\", \"condPayAmt\", \"condReceiveCrypto\", \"condReceiveLimit\", \"tradePayAmt\"]);\n\t\tallRawOrdersInverse = processStopOpenOrders(allRawOrdersInverse, \"BUY\", [token_addr_1, token_addr_0]);\n\t\n\t\treturn allRawOrders.concat(allRawOrdersInverse);\n\t}\n\n\treturn [];\n}","// Import Major dependencies\nimport React, { Component } from 'react';\nimport { Grid, Tab, Responsive } from 'semantic-ui-react';\n\n// Import CSS Files\nimport './market.css';\n\n// Import src code\nimport OrderListV2 from './orderlistV2/orderlistV2';\nimport LimitOrder from './limitorder/limitorder';\nimport MarketOrder from './marketorder/marketorder';\nimport StopOrder from './stoporder/stoporder';\nimport MyOrders from './myorders/myorders';\nimport Stats from './stats/stats';\nimport AccountStats from './accountstats/accountstats';\nimport MarketHistory from './markethistory/markethistory';\nimport Leaderboard from './leaderboard/leaderboard';\nimport MyHistory from './myhistory/myhistory';\nimport SideBar from './sidebar/sidebar';\nimport MyStopOrders from './mystoporders/mystoporders';\n\n// Import orderbook read functions\nimport { subscribeToNewOrders, subscribeToMyNewOrders, unSubscribeToNewOrders, unSubscribeToMyNewOrders } from '../utils/orders';\nimport { getOpenStopOrders, getOpenOrders } from '../utils/openorders';\n\n// eslint-disable-next-line\nimport myWorker from '../../workers/orders.worker';\n\nconst config = require(\"./../../config\");\n\nclass Market extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: false,\n      account: \"\",\n      sidebar_info: {\n        \"price\": 0,\n        \"curr_0_amt\": 0,\n        \"curr_1_amt\": 0,\n        \"id\": \"\",\n        \"type\": \"\"\n      },\n      past_orders: [],\n      my_past_orders: [],\n      open_buy_orders: [],\n      open_sell_orders: [],\n      my_open_stop_orders: [],\n      balances: ['0', '0'],\n      timers: [null, null],\n      num_order_calls: 0,\n      num_my_order_calls: 0,\n      logged_latest_block: 0,\n      done_loading: false,\n      done_loading_my_orders: false\n    };\n\n    this.updateBalances = this.updateBalances.bind(this);\n    this.updateOpenOrders = this.updateOpenOrders.bind(this);\n    this.updateOpenStopOrders = this.updateOpenStopOrders.bind(this);\n    this.pastOrderWorker = new myWorker();\n  }\n\n  async componentDidMount() {\n    // Retrieve starting data and subscribe to future live feeds\n    const { currencies, options } = this.props;\n    // Store account in state for convenience\n    let account = await options.signer.getAddress();\n\n    this.setState({ logged_latest_block: await options.provider.getBlockNumber() }, () => {\n      // Get past orders for 5 years (5 * 5760) in a webworker thread\n      this.pastOrderWorker.addEventListener('message', (event) => {\n        let type = event.data.type;\n        let payload = event.data.payload;\n\n        if (type === \"pastOrders\") {\n          this.processNewBatchPastOrders(payload);\n        } else if(type === \"myPastOrders\") {\n          this.processNewBatchMyPastOrders(payload);\n        }\n      });\n      \n      this.pastOrderWorker.postMessage({\n        type: \"pastOrders\",\n        currencies: currencies,\n        toBlock: this.state.logged_latest_block,\n        numBlocks: 720 // 5760 / 4\n      });\n\n      this.pastOrderWorker.postMessage({\n        type: \"myPastOrders\",\n        account: account,\n        currencies: currencies,\n        toBlock: this.state.logged_latest_block,\n        numBlocks: Math.ceil((this.state.logged_latest_block - parseInt(config[\"market\"][\"main\"][\"blockNumber\"])) / 10)\n      });\n    });\n    \n    this.setState({ account });\n    \n    // Start polls for open orders and balances\n    this.updateOpenOrders();\n    this.updateOpenStopOrders(account);\n    this.updateBalances();\n  }\n\n  // Cleaning up timers and unsubscribing from live feeds\n  componentWillUnmount() {\n    for(let i = 0; i < this.state.timers.length; i++) {\n      if(this.state.timers[i] !== null) {\n        clearTimeout(this.state.timers[i]);\n      }\n    }\n\n    const { options, currencies } = this.props;\n    unSubscribeToNewOrders(currencies, options.contracts);\n    unSubscribeToMyNewOrders(this.state.account, currencies, options.contracts);\n  }\n\n  async processNewBatchMyPastOrders(my_past_orders) {\n    const { currencies, options } = this.props;\n\n    let account = await options.signer.getAddress();\n\n    if (this.state.num_my_order_calls === 0) {\n      subscribeToMyNewOrders(this.state.account, currencies, options.contracts, this.addMyOrders);\n    } else {\n      my_past_orders = this.state.my_past_orders.concat(my_past_orders);\n    }\n    this.setState({ my_past_orders });\n\n    this.setState({ num_my_order_calls: this.state.num_my_order_calls + 1 }, () => {\n      if (this.state.num_my_order_calls < 10) {\n        let numBlocks  = Math.ceil((this.state.logged_latest_block - parseInt(config[\"market\"][\"main\"][\"blockNumber\"])) / 10)\n        let toBlock = this.state.logged_latest_block - numBlocks * this.state.num_my_order_calls;\n        this.pastOrderWorker.postMessage({\n          type: \"myPastOrders\",\n          account: account,\n          currencies: currencies,\n          toBlock: toBlock,\n          numBlocks: numBlocks\n        });      \n      } else {\n        this.setState({ done_loading_my_orders: true })\n      }\n    })\n  }\n\n  async processNewBatchPastOrders(past_orders) {\n    const { currencies, options } = this.props;\n    if (this.state.num_order_calls === 0) {\n      this.setDocTitle(past_orders[0]);\n      subscribeToNewOrders(currencies, options.contracts, this.addOrders);\n    } else {\n      past_orders = this.state.past_orders.concat(past_orders);\n    }\n    this.setState({ past_orders });\n\n    this.setState({ num_order_calls: this.state.num_order_calls + 1 }, () => {\n      if (this.state.num_order_calls < 40) {\n        let toBlock = this.state.logged_latest_block - 720*this.state.num_order_calls\n        this.pastOrderWorker.postMessage({\n          currencies: currencies,\n          toBlock: toBlock,\n          numBlocks: 720\n        });\n      } else {\n        this.setState({ done_loading: true })\n      }\n    });\n  }\n\n  /** ################# POLLING FUNCTIONS ################# **/\n\n  // Function to periodically update the balances in the state from the blockchain\n  async updateBalances() {\n    const { options, currencies } = this.props;\n    const { account } = this.state;\n\n    try {\n      if(account !== \"\") {\n        console.log(\"Updating Balances...\")\n        const currency_0_balance = await options.contracts[currencies[0]].balanceOf(account);\n        const currency_1_balance = await options.contracts[currencies[1]].balanceOf(account);\n        const balances = [currency_0_balance, currency_1_balance];\n        this.setState({ balances });\n      }\n    } catch(err) {\n      console.log(\"Error Updating Balance!: \" + err);\n    } finally {\n      // Set timer to recall same function after 3 seconds and store the timer in state\n      // for cleanup\n      const timer = setTimeout(this.updateBalances, 3000);\n      let timers = this.state.timers;\n      timers[0] = timer;\n      this.setState({ timers });\n    }\n  }\n\n  // Function to periodically update the list of open orders from the blockchain\n  async updateOpenOrders() {\n    try {\n      console.log(\"Updating Open Orders...\");\n      const [open_buy_orders, open_sell_orders] = await Promise.all([\n                                                        getOpenOrders(\"BUY\", this.props.currencies, this.props.options.contracts), \n                                                        getOpenOrders(\"SELL\", this.props.currencies, this.props.options.contracts)]);\n      this.setState({ open_buy_orders, open_sell_orders });\n    } finally {\n      // Set timer to recall same function after 5 seconds and store the timer in state\n      // for cleanup\n      const timer = setTimeout(this.updateOpenOrders, 7500);\n      let timers =  this.state.timers;\n      timers[1] = timer;\n      this.setState({ timers });\n    }\n  }\n\n  // Function to periodically update the list of open stop orders from the blockchain\n  async updateOpenStopOrders(account) {\n    try {\n      console.log(\"Updating Open Stop Orders...\");\n      const my_open_stop_orders = await getOpenStopOrders(this.props.currencies, this.props.options.contracts, account);\n      this.setState({ my_open_stop_orders });\n    } finally {\n      // Set timer to recall same function after 5 seconds and store the timer in state\n      // for cleanup\n      const timer = setTimeout(() => this.updateOpenStopOrders(account), 7500);\n      let timers =  this.state.timers;\n      timers[1] = timer;\n      this.setState({ timers });\n    }\n  }\n\n  /** ################# HELPER FUNCTIONS ################# **/\n\n  // Helper function used as a callback function for the subscription function\n  addOrders = (orders) => {\n    if(orders.length > 0) {\n      this.setDocTitle(orders[0]);\n    }\n    this.setState({ past_orders: orders.concat(this.state.past_orders) });\n  }\n\n  addMyOrders = (orders) => {\n    this.setState({ my_past_orders: orders.concat(this.state.my_past_orders) });\n  }\n\n  // Function to set the order information for the sidebar and sets it to visible\n  setSidebar = (info) => {\n    this.setState({ sidebar_info: info, visible: true });\n  }\n\n  // Function to toggle the visibility of the order sidebar\n  toggleSidebar = () => {\n    this.setState({ visible: !this.state.visible });\n  }\n\n  // Function to build the title of the Market page if valid currencies are selected\n  buildTitle() {\n    const { currencies } = this.props;\n    let title = \"Market: \";\n    title = currencies.length === 2 ? title + currencies[0] + \"/\" + currencies[1] : title;\n    return title;\n  }\n\n  setDocTitle(last_order) {\n    try {\n      let symbol = \"\";\n      if(last_order[\"type\"] === \"SELL\") {\n        symbol = \"\";\n      }\n      const price = Math.round(last_order[\"price\"] * 1000) / 1000;\n      document.title = price + \" \" + symbol + \" \" + this.props.currencies[1] + \"/\" + this.props.currencies[0];\n    } catch {\n      console.log(\"There was an error setting the document title\")\n    }\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { visible, sidebar_info, account, past_orders, my_past_orders, balances, open_buy_orders, open_sell_orders, done_loading, done_loading_my_orders, my_open_stop_orders } = this.state;\n    const { currencies, options } = this.props;\n\n    // Build the title\n    const title = this.buildTitle();\n\n    // Concat buy and sell orders and sort to create an All Orders book\n    const all_open_orders = open_buy_orders.concat(open_sell_orders);\n    all_open_orders.sort(function(a, b) { return parseInt(a[3]) > parseInt(b[3]) ? 1 : -1 });\n\n    // Get the last order in the order book\n    const last_order = past_orders.length > 0 ? past_orders[0] : \"\";\n\n    // Create the panels for the Activity Pane Tabs\n    let activity_panes = [\n      { menuItem: 'Market History', render: () => <Tab.Pane className=\"Market-tab-pane\"><MarketHistory currencies={currencies} options={options} orders={done_loading ? past_orders : []} /></Tab.Pane> },\n      { menuItem: '5-D Leaderboard', render: () => <Tab.Pane className=\"Market-tab-pane\"><Leaderboard currencies={currencies} account={account} options={options} orders={done_loading ? past_orders : []} /></Tab.Pane> },\n    ];\n\n    // If in readOnly mode then add more panes for account specific information\n    if(!options.readOnly) {\n      const logged_in_panes = [\n        { menuItem: 'Open Orders', render: () => <Tab.Pane className=\"Market-tab-pane\"><MyOrders currencies={currencies} options={options} orders={all_open_orders} account={account} /></Tab.Pane> },\n        { menuItem: 'Open Stop Orders', render: () => <Tab.Pane className=\"Market-tab-pane\"><MyStopOrders currencies={currencies} orders={my_open_stop_orders} options={options} account={account} /></Tab.Pane> },\n        { menuItem: 'My History', render: () => <Tab.Pane className=\"Market-tab-pane\"><MyHistory currencies={currencies} options={options} orders={my_past_orders} account={account} /></Tab.Pane> },\n      ];\n      activity_panes = logged_in_panes.concat(activity_panes);\n    }\n\n    // Create the panels for the Order Pane Tabs\n    const buy_panes = [\n      { menuItem: 'Limit Order', render: () => <Tab.Pane className=\"Market-tab-pane\"><LimitOrder currencies={currencies} options={options} last_price={last_order[\"price\"]} balances={balances} /></Tab.Pane> },\n      { menuItem: 'Market Order', render: () => <Tab.Pane className=\"Market-tab-pane\"><MarketOrder currencies={currencies} options={options} balances={balances} /></Tab.Pane> },\n      { menuItem: 'Stop Order', render: () => <Tab.Pane className=\"Market-tab-pane\"><StopOrder currencies={currencies} options={options} balances={balances} /></Tab.Pane> }\n    ];\n\n    return (\n      <div className=\"Market\">\n        <SideBar currencies={currencies} toggleSidebar={this.toggleSidebar} sidebar_info={sidebar_info} visible={visible} account={account} options={options} />\n        <div id=\"Market-title\"><span className=\"Market-h1\">{title}</span></div>\n        <div className=\"Market-headers\">5-Day Market Stats</div>\n        <div id=\"Market-stats\"><Stats currencies={currencies} options={options} orders={done_loading ? past_orders : [] } /></div>\n\n        <Grid divided id=\"Market-orderlists\">\n          <Grid.Column className=\"Market-orderlist\" computer={8} tablet={8} mobile={16}>\n            <div className=\"Market-headers\">Order Center</div>\n            <div id=\"Market-buysell\">\n              <Tab menu={{ fluid: true, tabular: true, attached: 'top' }} panes={buy_panes} />\n            </div>\n          </Grid.Column>\n          <Grid.Column className=\"Market-orderlist\" computer={8} tablet={8} mobile={16}>\n            <div className=\"Market-headers\">Order Book</div>\n            <OrderListV2 currencies={currencies} account={account} options={options} last_order={last_order} buy_orders={open_buy_orders} sell_orders={open_sell_orders} setSidebar={this.setSidebar} />\n          </Grid.Column>\n        </Grid>\n\n        <div className=\"Market-headers\">Activity Center</div>\n        <div id=\"Market-activity-pane\">\n          <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n            <Tab menu={{ fluid: true, tabular: true, attached: 'top' }} panes={activity_panes} />\n          </Responsive>\n          <Responsive maxWidth={Responsive.onlyTablet.minWidth}>\n            <Tab menu={{ fluid: true, tabular: true, attached: 'top', className: 'Market-wrapped' }} panes={activity_panes} />\n          </Responsive>\n        </div>\n\n        <Responsive maxWidth={Responsive.onlyTablet.minWidth}>\n          <div id=\"Market-leaderboard-pane\">\n            <div className=\"Market-headers\">Leaderboard</div>\n            <Leaderboard currencies={currencies} account={account} options={options} orders={done_loading ? past_orders : []} />\n          </div>\n        </Responsive>\n\n        <div id=\"Market-account-stats\">\n          <div className=\"Market-headers\">All Time Account Stats</div>\n          <AccountStats currencies={currencies} orders={done_loading_my_orders ? my_past_orders : []} account={account} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Market","import React, { Component } from 'react';\nimport { Transition } from 'semantic-ui-react';\nimport './home.css';\n\nclass Home extends Component {\n  // Simple Home landing static page.\n  render() {\n    return (\n      <div id=\"Home\">\n        <Transition transitionOnMount={true} animation='fade up' duration={1500}>\n          <div id=\"Home-title\">\n            OasisX\n          </div>\n        </Transition>\n        <Transition transitionOnMount={true} animation='fade up' duration={3500}>\n          <div id=\"Home-subtitle\">\n            The fastest UI for Oasis.\n          </div>\n        </Transition>\n      </div>\n    )\n  }\n}\n\nexport default Home;","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom';\nimport { Input, Button } from 'semantic-ui-react'\nimport './login.css'\nimport HumanName from '../utils/humanname/humanname'\n\nclass Login extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      selected: \"\",\n      phrase: \"\",\n      password: \"\",\n      redirect: false,\n      saved_wallets: {},\n      loading: false\n    }\n\n    this.handleRedirect = this.handleRedirect.bind(this)\n  }\n\n  componentDidMount() {\n    var saved_wallets = this.getSavedAccounts()\n    this.setState({ saved_wallets })\n  }\n\n  handleFieldChange(name, value) {\n    this.setState({ [name]: value })\n  }\n\n  handleRedirect() {\n    this.setState({ redirect: true, loading: false })\n  }\n\n  getSavedAccounts() {\n    var localStorage = window.localStorage\n    if(localStorage.getItem(\"encrypted_wallets\")) {\n      var stored_wallets = JSON.parse(localStorage.getItem(\"encrypted_wallets\"))\n      return stored_wallets\n    }\n    return {}\n  }\n\n  async handleLogin() {\n    var { phrase, password, selected } = this.state\n    var { options } = this.props\n\n    this.setState({ loading: true })\n\n    if(selected === \"\" && phrase !== \"\") {\n      options.handleLogin(phrase, password)\n    } else if(selected !== \"\") {\n      await options.handleReLogin(selected, this.state.saved_wallets[selected], password)\n    } else {\n      console.log(\"ERROR: No account specified\")\n    }\n\n    this.setState({ phrase: \"\", password: \"\", selected: \"\" })\n    setTimeout(this.handleRedirect, 1000)\n  }\n\n  render() {\n    var { phrase, password, redirect, saved_wallets, selected, loading } = this.state\n    var { options } = this.props\n\n    if(redirect) {\n      return <Redirect to=\"/\" />\n    }\n\n    var wallet_list = Object.keys(saved_wallets).map((key) => {\n      var active = selected === key ? true : false\n      var classes = active ? 'Login-option Login-highlighted' : 'Login-option'\n      var field_change = active ? \"\" : key\n      field_change = loading ? this.state.selected : field_change\n      return <div key={key} className={classes} onClick={() => this.handleFieldChange(\"selected\", field_change) } ><HumanName address={key} inactive_link /></div>\n    })\n\n    return (\n      <div id=\"Login\">\n        <div className=\"LimitOrder-headers\">Login</div>\n        <div id=\"Login-wallets\">\n          {wallet_list}\n        </div>\n        <br />\n        <Input\n          label={{ content: \"Mneumonic Phrase\" }}\n          labelPosition='left'\n          placeholder='Enter Phrase...'\n          value={phrase}\n          onChange={(e) => { this.handleFieldChange(\"phrase\", e.target.value) }}\n          disabled={!options.readOnly || selected !== \"\" || loading}\n          className=\"Login-input\"\n          fluid\n        />\n        <Input\n          label={{ content: \"Password\" }}\n          labelPosition='left'\n          placeholder='Enter STRONG Password...'\n          value={password}\n          onChange={(e) => { this.handleFieldChange(\"password\", e.target.value) }}\n          disabled={!options.readOnly || loading}\n          className=\"Login-input\"\n          type=\"password\"\n          fluid\n        />\n        <br />\n        <Button id=\"Login-submit\" color='green' disabled={!options.readOnly || password === \"\" || (phrase === \"\" && selected === \"\")} loading={loading} onClick={() => this.handleLogin()} >Login</Button>\n      </div>\n    )\n  }\n}\n\nexport default Login;","import React, { Component } from 'react'\nimport { ethers } from 'ethers';\nimport { Input, Form, Button } from 'semantic-ui-react'\n\nimport './wrapstation.css'\n\nclass WrapStation extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      amount_wrap: '0',\n      ui_amount_wrap: '',\n      amount_unwrap: '0',\n      ui_amount_unwrap: '',\n      bignumbers: {},\n      loading: [false, false],\n      error: [false, false],\n      success: [false, false]\n    }\n\n    this.flashSuccess = this.flashSuccess.bind(this)\n    this.flashError = this.flashError.bind(this)\n  }\n\n  componentDidMount() {\n    var bignumbers = {}\n    for(var i = 0; i <= 10; i++) {\n      var key = i\n      bignumbers[key] = ethers.utils.bigNumberify(key)\n    }\n\n    this.setState({ bignumbers })\n  }\n\n  handlePercentUpdate(name, value) {\n    var ui_value = ethers.utils.formatUnits(value.toString(), 'ether')\n    if(name === \"amount_wrap\") {\n      this.setState({ amount_wrap: value, ui_amount_wrap: ui_value })\n    } else if(name === \"amount_unwrap\") {\n      this.setState({ amount_unwrap: value, ui_amount_unwrap: ui_value })\n    } else {\n      return\n    }\n  }\n\n  handleUserUpdate(name, value) {\n    var internal_value = 0\n    try{\n      if(/\\S/.test(value)) {\n        internal_value = ethers.utils.parseUnits(value.toString(), 'ether')\n      }\n    } catch (err) {\n      console.log(err)\n      return\n    }\n\n    if(name === \"ui_amount_wrap\") {\n      this.setState({ ui_amount_wrap: value, amount_wrap: internal_value })\n    } else if(name === \"ui_amount_unwrap\") {\n      this.setState({ ui_amount_unwrap: value, amount_unwrap: internal_value })\n    } else {\n      return\n    }\n  }\n\n\n  flashSuccess(index) {\n    var { loading, success, error } = this.state\n    loading[index] = false\n    success[index] = true\n    error[index] = false\n    this.setState({ loading, success, error })\n    setTimeout(() => this.reset(index), 1500)\n  }\n\n  flashError(index) {\n    var { loading, success, error } = this.state\n    loading[index] = false\n    success[index] = false\n    error[index] = true\n    this.setState({ loading, success, error })\n    setTimeout(() => {\n      var { loading, success, error } = this.state\n      loading[index] = false\n      success[index] = false\n      error[index] = false\n      this.setState({ error })\n    }, 1500)\n  }\n\n  reset(index) {\n    var { loading, success, error, amount_wrap, amount_unwrap, ui_amount_wrap, ui_amount_unwrap } = this.state\n    loading[index] = false\n    success[index] = false\n    error[index] = false\n    if(index === 0) {\n      amount_wrap = '0'\n      ui_amount_wrap = ''\n    }\n    if(index === 1) {\n      amount_unwrap = '0'\n      ui_amount_unwrap = ''\n    }\n    this.setState({ loading, success, error, amount_wrap, amount_unwrap, ui_amount_wrap, ui_amount_unwrap })\n  }\n\n  onWrap = async () => {\n    // Grab the wrap function from the contract instance and the account and amount we want to execute it with\n    const { options } = this.props;\n    const deposit = this.props.options.contracts.WETH.deposit\n    var amount = this.state.amount_wrap\n\n    // Need to check if the amount value is an empty string/undefined/null and that it's greater than 0\n    if(amount && amount > 0) {\n      var { loading } = this.state\n      loading[0] = true\n      this.setState({ loading })\n      console.log(\"SENDING \" + amount + \" TO WRAPPER...\")\n      try {\n        var tx = await deposit({value: amount, gasPrice: options.gasPrice })\n        await tx.wait()\n        this.flashSuccess(0)\n      } catch (error) {\n        this.flashError(0)\n      }\n    } else {\n      console.log(\"Error: No amount chosen\")\n    }\n  }\n\n  onUnwrap = async () => {\n    const { options } = this.props;\n    const withdraw = this.props.options.contracts.WETH.withdraw\n    var amount = this.state.amount_unwrap\n\n    if(amount && amount > 0) {\n      var { loading } = this.state\n      loading[1] = true\n      this.setState({ loading })\n      console.log(\"SENDING \" + amount + \" TO UNWRAPPER...\")\n      try {\n        var tx = await withdraw(amount.toString(), { gasPrice: options.gasPrice })\n        await tx.wait()\n        this.flashSuccess(1)\n      } catch (error) {\n        this.flashError(1)\n      }\n    } else {\n      console.log(\"Error: No amount chosen\")\n    }\n  }\n\n  render() {\n    var { weth_balance, eth_balance, options } = this.props\n    var { ui_amount_wrap, ui_amount_unwrap, bignumbers, loading, success, error } = this.state\n\n    // Convert to BigNumbers since they will have potential math done on them (risk of overflow/underflow)\n    eth_balance = ethers.utils.bigNumberify(eth_balance)\n    weth_balance = ethers.utils.bigNumberify(weth_balance)\n\n    var button_text = [\"WRAP\", \"UNWRAP\"]\n    for(var i = 0; i < button_text.length; i++) {\n      if(success[i]) {\n        button_text[i] = \"SUCCESS\"\n      }\n      if(error[i]) {\n        button_text[i] = \"FAILED\"\n      }\n    }\n\n    return (\n      <div className=\"WrapStation\">\n        <div id=\"WrapStation-title\">Wrap / Unwrap</div>\n        <Form onSubmit={this.handleSubmit} size='tiny' id=\"WrapStation-form\">\n          <div className=\"WrapStation-headers\">Wrap <span id=\"WrapStation-warning\"><span className=\"red\">WARNING:</span> DO NOT WRAP ALL YOUR ETHER</span></div>\n          <Form.Group unstackable className=\"WrapStation-formgroup\">\n            <Form.Field width={11}>\n              <Input\n                label={{ basic: true, content: \"ETH\" }}\n                labelPosition='right'\n                placeholder='Enter Amount ETH...'\n                value={ui_amount_wrap}\n                disabled={ loading[0] || error[0] || success[0] || options.readOnly }\n                onChange={(e) => { this.handleUserUpdate('ui_amount_wrap', e.target.value) }}\n              />\n            </Form.Field>\n            <Form.Button disabled={ loading[0] || error[0] || success[0] || options.readOnly || ui_amount_wrap === \"\" } loading={loading[0]} width={4} className=\"WrapStation-button\" color={error[0] ? 'red' : 'green'} size='small' onClick={ () => this.onWrap() } >{button_text[0]}</Form.Button>\n          </Form.Group>\n          <Button.Group className=\"WrapStation-mini-buttons\" size='mini' basic inverted>\n            <Button disabled={ loading[0] || error[0] || success[0] || options.readOnly } onClick={ () => this.handleUserUpdate(\"ui_amount_wrap\", \"\") } >0%</Button>\n            <Button disabled={ loading[0] || error[0] || success[0] || options.readOnly } onClick={ () => this.handlePercentUpdate(\"amount_wrap\", eth_balance.div(bignumbers[4])) } >25%</Button>\n            <Button disabled={ loading[0] || error[0] || success[0] || options.readOnly } onClick={ () => this.handlePercentUpdate(\"amount_wrap\", eth_balance.div(bignumbers[2])) } >50%</Button>\n            <Button disabled={ loading[0] || error[0] || success[0] || options.readOnly } onClick={ () => this.handlePercentUpdate(\"amount_wrap\", eth_balance.mul(bignumbers[3]).div(bignumbers[4])) } >75%</Button>\n            <Button disabled={ loading[0] || error[0] || success[0] || options.readOnly } onClick={ () => this.handlePercentUpdate(\"amount_wrap\", eth_balance.mul(bignumbers[9]).div(bignumbers[10])) } >90%</Button>\n          </Button.Group>\n          <div className=\"WrapStation-headers\">Unwrap</div>\n          <Form.Group unstackable className=\"WrapStation-formgroup\">\n            <Form.Field width={10}>\n              <Input\n                label={{ basic: true, content: \"WETH\" }}\n                labelPosition='right'\n                placeholder='Enter Amount WETH...'\n                value={ui_amount_unwrap}\n                disabled={ loading[1] || error[1] || success[1] || options.readOnly }\n                onChange={(e) => { this.handleUserUpdate('ui_amount_unwrap', e.target.value) }}\n              />\n            </Form.Field>\n            <Form.Button disabled={ loading[1] || error[1] || success[1] || options.readOnly || ui_amount_unwrap === \"\" } loading={loading[1]} width={4} className=\"WrapStation-button\" color={error[1] ? 'red' : 'green'} size='small' onClick={ () => this.onUnwrap() } >{button_text[1]}</Form.Button>\n          </Form.Group>\n          <Button.Group className=\"WrapStation-mini-buttons\" size='mini' basic inverted>\n            <Button disabled={ loading[1] || error[1] || success[1] || options.readOnly } onClick={ () => this.handleUserUpdate(\"ui_amount_unwrap\", \"\") } >0%</Button>\n            <Button disabled={ loading[1] || error[1] || success[1] || options.readOnly } onClick={ () => this.handlePercentUpdate(\"amount_unwrap\", weth_balance.div(bignumbers[4])) } >25%</Button>\n            <Button disabled={ loading[1] || error[1] || success[1] || options.readOnly } onClick={ () => this.handlePercentUpdate(\"amount_unwrap\", weth_balance.div(bignumbers[2])) } >50%</Button>\n            <Button disabled={ loading[1] || error[1] || success[1] || options.readOnly } onClick={ () => this.handlePercentUpdate(\"amount_unwrap\", weth_balance.mul(bignumbers[3]).div(bignumbers[4])) } >75%</Button>\n            <Button disabled={ loading[1] || error[1] || success[1] || options.readOnly } onClick={ () => this.handlePercentUpdate(\"amount_unwrap\", weth_balance) } >100%</Button>\n          </Button.Group>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default WrapStation\n","import React, { Component } from 'react'\nimport { ethers } from 'ethers';\nimport { Input, Form } from 'semantic-ui-react'\n\nimport './settings.css'\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      gasPriceGwei: ethers.utils.formatUnits(this.props.options.gasPrice.toString(), 'gwei'),\n      buttonStatus: \"UPDATE\"\n    }\n  }\n\n  changeGasPrice = (gasPriceGwei) => {\n    this.setState({ gasPriceGwei })\n  }\n\n  submit = () => {\n    const { gasPriceGwei } = this.state;\n    const { setGasPrice } = this.props;\n\n    if(setGasPrice(gasPriceGwei)) {\n      this.flashSuccess();\n    } else {\n      this.flashError();\n    }\n  }\n\n  reset = () => {\n    this.setState({ buttonStatus: \"UPDATE\" })\n  }\n\n  flashSuccess = () => {\n    this.setState({ buttonStatus: \"SUCCESS\" });\n    setTimeout(this.reset, 1500)\n  }\n\n  flashError = () => {\n    this.setState({ buttonStatus: \"FAILED\" })\n    setTimeout(this.reset, 1500)\n  }\n\n  render() {\n    let { gasPriceGwei, buttonStatus } = this.state;\n    const { options } = this.props;\n\n    var buttonColor = \"\";\n    if (buttonStatus === \"SUCCESS\") {\n      buttonColor = 'green';\n    } else if (buttonStatus === \"FAILED\") {\n      buttonColor = 'red';\n    }\n\n    return (\n      <div className=\"Settings\">\n        <div id=\"Settings-title\">Settings</div>\n        <Form onSubmit={this.handleSubmit} size='tiny' id=\"Settings-form\">\n          <div className=\"Settings-headers\">Gas Price ({ethers.utils.formatUnits(options.gasPrice, 'gwei')}) <span id=\"Settings-warning\"><a href='https://ethgasstation.info/' rel=\"noopener noreferrer\" target=\"_blank\">ETHER GAS STATION</a></span></div>\n          <Form.Group unstackable className=\"Settings-formgroup\">\n            <Form.Field width={11}>\n              <Input\n                label={{ basic: true, content: \"GWEI\" }}\n                labelPosition='right'\n                placeholder='Enter Gas Price'\n                value={gasPriceGwei}\n                onChange={(e) => { this.changeGasPrice(e.target.value) }}\n              />\n            </Form.Field>\n            <Form.Button color={buttonColor} width={5} className=\"Settings-button\" onClick={ this.submit } >{buttonStatus}</Form.Button>\n          </Form.Group>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default Settings\n","// Import Major Dependencies\nimport React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { ethers } from 'ethers';\nimport { Header, Table, Checkbox, Icon, Button } from 'semantic-ui-react'\n\n// Import CSS Files\nimport './infobar.css'\n\n// Import src code\nimport WrapStation from './wrapstation/wrapstation'\nimport Settings from './settings/settings'\nimport HumanName from '../utils/humanname/humanname'\n\n// Set up constants\nconst MAX_VAL = \"115792089237316195423570985008687907853269984665640564039457584007913129639935\";\n\n// Class that controls the side information bar that contains the account balances\n// and the wrapping/unwrapping widget.\nclass Infobar extends Component {\n  constructor(props, context) {\n    super(props);\n    this.state = {\n      currencies: {\n        \"WETH\": { balance: 0, approved: 0 },\n        \"DAI\": { balance: 0, approved: 0 },\n        \"MKR\": { balance: 0, approved: 0 },\n        \"ETH\": { balance: 0, approved: 0  }\n      },\n      account: \"\"\n    };\n\n    this.updateInfo = this.updateInfo.bind(this);\n  }\n\n  componentDidMount() {\n    // Kick off the update timeout loop\n    this.updateInfo();\n  }\n\n  // Timed recursive function that periodically updates the information from the blockchain.\n  async updateInfo() {\n    const { options } = this.props;\n\n    try {\n      // If the page is not readOnly then get balances for the active account.\n      if(!options.readOnly) {\n        console.log(\"Updating Sidebar Balances...\");\n        const account = await options.signer.getAddress();\n        const market_address = options.contracts.Market.address;\n\n        // Retrieve the balances and approvals\n        const [weth_balance, dai_balance, mkr_balance] = await this.getBalances(account);\n        const [weth_approval, dai_approval, mkr_approval] = await this.getApprovals(account, market_address);\n        const eth_balance = await options.provider.getBalance(account);\n\n        // Create and store currencies object\n        var currencies = {\n          \"WETH\": { balance: weth_balance.toString(), approved: weth_approval.toString() },\n          \"DAI\": { balance: dai_balance.toString(), approved: dai_approval.toString() },\n          \"MKR\": { balance: mkr_balance.toString(), approved: mkr_approval.toString() },\n          \"ETH\": { balance: eth_balance.toString(), approved: MAX_VAL  }\n        };\n        this.setState({ currencies, account });\n      }\n    } catch (err) {\n      console.log(\"Error Getting Sidebar Balalnces!: \" + err);\n    } finally {\n      // Call the same function after timeout of 3 seconds\n      setTimeout(this.updateInfo, 3000);\n    }\n  }\n\n  /** ################# BLOCKCHAIN WRITE FUNCTIONS ################# **/\n\n  // Approves the market contract to use a given amount of a given currency.\n  async approveCurrencyForAmount(currency, amount) {\n    var { options } = this.props\n    \n    let market_address = options.contracts.Market.address\n\n    if(currency in options.contracts) {\n      var contract = options.contracts[currency]\n      await contract.approve(market_address, amount)\n    }\n  }\n\n  // Approves a MAX_VAL amount of a given currency for the market contract.\n  approveCurrency(currency) {\n    this.approveCurrencyForAmount(currency, MAX_VAL)\n  }\n\n  // Approves a 0 amount of a given currency for the market contract.\n  unapproveCurrency(currency) {\n    this.approveCurrencyForAmount(currency, \"0\")\n  }\n\n  // Toggles between approving and unapproving a currency.\n  toggleApproval(currency, current_approval) {\n    let new_approval = !current_approval\n    if(new_approval) {\n      this.approveCurrency(currency)\n    } else {\n      this.unapproveCurrency(currency)\n    }\n  }\n\n  /** ################# HELPER FUNCTIONS ################# **/\n\n  // Helper function to get balances for all the currencies for the given account.\n  async getBalances(account) {\n    const { options } = this.props;\n    const weth_promise = options.contracts.WETH.balanceOf(account);\n    const dai_promise = options.contracts.DAI.balanceOf(account);\n    const mkr_promise = options.contracts.MKR.balanceOf(account);\n    return Promise.all([weth_promise, dai_promise, mkr_promise]);\n  }\n\n  // Helper function to get approvals for all the currencies in this market for the given account.\n  async getApprovals(account, market_address) {\n    const { options } = this.props;\n    const weth_promise = await options.contracts.WETH.allowance(account, market_address);\n    const dai_promise = await options.contracts.DAI.allowance(account, market_address);\n    const mkr_promise = await options.contracts.MKR.allowance(account, market_address);\n    return Promise.all([weth_promise, dai_promise, mkr_promise])\n  }\n\n  // Helper function that gets the UI balance, meaning it is in Ethers (not Gwei) and Rounded to the nearest 1000ths place.\n  // If there is a problem in the value then the value is a Error string.\n  getUIBalance(raw_balance) {\n    let UI_balance = raw_balance\n    if(raw_balance != null) {\n      UI_balance = Math.round(ethers.utils.formatUnits(raw_balance.toString(), 'ether') * 1000) / 1000\n    } else {\n      UI_balance = \"Error...\"\n    }\n    return UI_balance    \n  }\n\n  // Helper function that gets the toggle value for the allowance for a given balance/allowance pair\n  getUIAllowance(raw_balance, raw_allowance) {\n    let UI_allowance = false\n    raw_allowance = ethers.utils.bigNumberify(raw_allowance)\n    let balance = ethers.utils.bigNumberify(raw_balance)\n    if(raw_allowance.gt(balance)) {\n      UI_allowance = true\n    } else {\n      UI_allowance = false\n    }\n    return UI_allowance\n  }\n\n  // Helper function to create object that is used for easy rendering.\n  buildRenderList() {\n    const { currencies } = this.state;\n    const renderList = Object.keys(currencies).map((key) => {\n      let raw_balance = currencies[key][\"balance\"];\n      let raw_allowance = currencies[key][\"approved\"];\n      return {\n        name: key,\n        balance: this.getUIBalance(raw_balance),\n        approved: this.getUIAllowance(raw_balance, raw_allowance)\n      };\n    })\n    return renderList;\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { currencies, account } = this.state\n    const { padded, closeSidebar, options, setGasPrice } = this.props\n    const currenciesInformation = this.buildRenderList();\n\n    // Display a X icon if the user is on mobile (indicated b padded).\n    var x_icon = <Icon name=\"close\" id=\"Infobar-x\" size=\"large\" onClick={closeSidebar} />\n    if(padded) {\n      x_icon = null\n    }\n\n    // Retrieve the username or Login button if readOnly is true.\n    var username = <Button primary as={Link} to={'/login'} fluid onClick={closeSidebar} >Login</Button>\n    if(!options.readOnly) {\n      username = <HumanName address={account} />\n    }\n\n    return (\n      <div id='Infobar'>\n        {/* Insert the account information bar */}\n        <div className='Infobar-header'>{username}{x_icon}</div>\n        \n        {/* Insert the Table of Balances/Approvals */}\n        <Table basic='very' padded={\"very\"} striped unstackable id=\"Infobar-table\">\n          <Table.Header id=\"Infobar-table-header\">\n            <Table.Row>\n              <Table.Cell>\n                <Header className='Infobar-table-entry' textAlign='left'>Token</Header>\n              </Table.Cell>\n              <Table.Cell>\n                <Header className='Infobar-table-entry' textAlign='left'>Balance</Header>\n              </Table.Cell>\n              <Table.Cell>\n                <Header className='Infobar-table-entry' textAlign='left'>Approved</Header>\n              </Table.Cell>\n            </Table.Row>\n          </Table.Header>\n\n          <Table.Body>\n            {/* Loop and render each currency's info */}\n            {currenciesInformation.map((currency, index) => {\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell>\n                    <Header className='Infobar-table-entry' textAlign='left'>{currency.name}</Header>\n                  </Table.Cell>\n\n                  <Table.Cell>\n                    <Header className='Infobar-table-entry' textAlign='left'>{currency.balance}</Header>\n                  </Table.Cell>\n\n                  <Table.Cell  textAlign='left'>\n                    <Checkbox toggle disabled={currency.name === \"ETH\" || options.readOnly} checked={currency.approved} onClick={ () => this.toggleApproval(currency.name, currency.approved) } />\n                  </Table.Cell>\n                </Table.Row>\n              )\n            })}\n          </Table.Body>\n        </Table>\n\n        {/* Insert the wrapping station widget into the sidebar. */}\n        <WrapStation options={options} weth_balance={currencies[\"WETH\"][\"balance\"]} eth_balance={currencies[\"ETH\"][\"balance\"]} />\n        <Settings options={options} setGasPrice={setGasPrice} />\n      </div>\n    )\n  }\n}\n\nexport default Infobar;","// Import Major Dependencies\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Menu, Responsive, Icon, Dropdown, Sidebar, Segment } from 'semantic-ui-react';\n\n// Import CSS Files\nimport './navbar.css';\n\n// Import Artifacts\nimport logo from '../../images/x.svg';\nimport Infobar from '../infobar/infobar';\n\nconst other_buttons = [\n  { name: 'WETH/DAI', href: '/WETH_DAI' },\n  { name: 'MKR/WETH', href: '/MKR_WETH'},\n  { name: 'MKR/DAI', href: '/MKR_DAI'}\n];\n\nclass Navbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: false\n    };\n  }\n\n  // Helper function to toggle the sidebar. Used only on mobile.\n  toggleVisible = () => {\n    this.setState({ visible: !this.state.visible });\n  }\n\n  render() {\n    const { children, options } = this.props;\n    const { visible } = this.state;\n\n    return (\n      <div>\n        {/* Mobile Version of the navbar that displays at the top */}\n        <Responsive {...Responsive.onlyMobile}>\n          <Menu \n            borderless\n            fixed='top'\n            id='Navbar-mobile'\n          >\n            {/* Display a Logo Home button */}\n            <Menu.Item name='Home' href='/' className='Navbar-item'>\n              <div className='Navbar-button-mobile' id='Navbar-logo-container'><img src={logo} alt='logo' id='Navbar-logo-mobile' /></div>\n            </Menu.Item>\n\n            {/* Display dropdown of all other markets */}\n            <Dropdown item text='Markets' className='Navbar-dropdown'>\n              <Dropdown.Menu>\n                {\n                  other_buttons.map((button, idx) => {\n                    return (\n                        <Dropdown.Item\n                          name={button.name}\n                          className='Navbar-item'\n                          as={Link}\n                          to={button.href}\n                          key={idx}\n                        >\n                        {button.name}\n                      </Dropdown.Item>\n                    )\n                  })\n                }\n              </Dropdown.Menu>\n            </Dropdown>\n\n            {/* Display a hamburger menu to toggle sidebar with information. */}\n            <Menu.Menu position='right'>\n              <Menu.Item>\n                <Icon name='sidebar' inverted onClick={ this.toggleVisible } />\n              </Menu.Item>                \n            </Menu.Menu>\n          </Menu>\n\n          {/* Add sidebar infobar */}\n          <Sidebar as={Segment} animation=\"overlay\" direction=\"right\" visible={visible} id=\"Navbar-Side_info_bar\">\n            <Infobar options={options} padded={false} closeSidebar={this.toggleVisible} />\n          </Sidebar>\n          { children }\n        </Responsive>\n\n        {/* Desktop Version of the navbar that is on the left side of the screen */}\n        <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n          <Menu secondary vertical size='mini' id='Navbar'>\n            {/* Display a Logo Home button */}\n            <Menu.Item name='Home' className='Navbar-item' as={Link} to={'/'}>\n              <div className='Navbar-button' id='Navbar-logo-container'><img src={logo} alt='logo' className='Navbar-icon' /></div>\n            </Menu.Item>\n\n            {/* Display the list of other buttons for all other markets */}\n            {\n              other_buttons.map((button, idx) => {\n                return (\n                    <Menu.Item\n                      name={button.name}\n                      className='Navbar-item'\n                      onClick={this.handleToggle}\n                      as={Link}\n                      to={button.href}\n                      key={idx}\n                    >\n                    <div className='Navbar-button'>{button.name}</div>\n                  </Menu.Item>\n                )\n              })\n            }\n          </Menu>\n          {/* Children are all content that will be rendered on page, it is put as a child to the navbar */}\n          { children }\n        </Responsive>\n      </div>\n    )\n  }\n}\n\nexport default Navbar;","// Import Major Dependencies\nimport React from 'react';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport { Responsive } from 'semantic-ui-react';\nimport { ethers } from 'ethers';\n\n// Import CSS Files\nimport './App.css';\n\n// Import src code\nimport Market from '../market/market';\nimport Home from '../home/home';\nimport Login from '../login/login';\nimport Navbar from '../navbar/navbar';\nimport Infobar from '../infobar/infobar';\n\n// Load ABI and Config file\nconst config = require(\"./../../config\");\nconst erc20Abi = require(\"./../../abi/standard-token/erc20\");\nconst WEthAbi = require(\"./../../abi/standard-token/ds-eth-token\");\nconst MatchingMarketAbi = require(\"./../../abi/maker-otc/matching-market\");\nconst OasisX = require(\"./../../abi/oasisX/oasisX\");\nconst SupportMethodsAbi = require(\"./../../abi/otc-support-methods/otc-support-methods\");\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: {\n        provider: null,\n        signer: null,\n        contracts: [],\n        readOnly: true,\n        handleLogin: this.handleLogin,\n        handleReLogin: this.handleReLogin,\n        gasPrice: 10,\n        defaultGasPrice: 10\n      }\n    };\n\n    this.handleLogin = this.handleLogin.bind(this);\n    this.handleReLogin = this.handleReLogin.bind(this);\n  }\n\n  componentWillMount() {\n    // Retrieve and store options\n    const options = this.getOptions();\n    this.setState({ options });\n  }\n\n  // Constructs and Returns a Dictionary with the environment options\n  getOptions() {\n    // Get a connection to the Ethereum blockchain\n    const ethereum = this.getEthereum();\n    let contracts = [];\n\n    // Retrieve the Provider, Signer, and Contracts\n    let provider = null;\n    let signer = null;\n    let readOnly = true;\n\n    ethers.errors.setLogLevel(\"off\");\n\n    // If an Ethereum connection exists then retrieve the provider and signer\n    // Else connect to default provider from ethers.js (myetherwallet/infura) and generate a random account to be the signer\n    if(ethereum) {\n      provider = new ethers.providers.Web3Provider(ethereum);\n      signer = provider.getSigner();\n\n      // Set readOnly to false since we have a signing account (not randomly generated)\n      // The contracts are then initialized with the signer\n      readOnly = false;\n      contracts = this.getContracts(signer);\n    } else {\n      provider = new ethers.getDefaultProvider();\n      signer = new ethers.Wallet.createRandom();\n\n      // Since this is readOnly, the contracts are initialized with the provider\n      contracts = this.getContracts(provider);\n    }\n\n    // Package options\n    const options = this.buildOptions(provider, signer, contracts, readOnly);\n    return options;\n  }\n\n  async handleLogin(phrase, password) {\n    // Only do something if the current page is readOnly and just passthrough otherwise.\n    if(this.state.options.readOnly) {\n      let provider = new ethers.getDefaultProvider();\n      let signer = new ethers.Wallet.fromMnemonic(phrase).connect(provider);\n      const contracts = this.getContracts(signer);\n      const readOnly = false;\n      const options = this.buildOptions(provider, signer, contracts, readOnly);\n      this.setState({ options });\n\n      // Encrypt and store the wallet into the browsers local storage\n      let encrypted_wallet = await signer.encrypt(password);\n      this.saveEncryptedWallet(encrypted_wallet);\n    }\n  }\n\n  async handleReLogin(account, json_string, password) {\n    // Only do something if the current page is readOnly and just passthrough otherwise.\n    if(this.state.options.readOnly) {\n      console.log(\"LOGGING IN WITH ACCOUNT \" + account);\n      let provider = new ethers.getDefaultProvider();\n      let signer = await ethers.Wallet.fromEncryptedJson(json_string, password);\n      signer = signer.connect(provider);\n      const contracts = this.getContracts(signer);\n      const readOnly = false;\n      const options = this.buildOptions(provider, signer, contracts, readOnly);\n      this.setState({ options });\n    }\n  }\n\n  saveEncryptedWallet(wallet) {\n    var json_wallet = JSON.parse(wallet)\n    var address = json_wallet.address\n    var localStorage = window.localStorage\n    if(!localStorage.getItem(\"encrypted_wallets\")) {\n      localStorage.setItem(\"encrypted_wallets\", JSON.stringify({}))\n    }\n\n    var stored_wallets = JSON.parse(localStorage.getItem(\"encrypted_wallets\"))\n    stored_wallets[\"0x\" + address] = wallet\n    localStorage.setItem(\"encrypted_wallets\", JSON.stringify(stored_wallets))\n  }\n\n  /** ################# HELPER FUNCTIONS ################# **/\n\n  // Helper function to build options dictionary\n  buildOptions(provider, signer, contracts, readOnly) {\n    const defaultGasPrice = ethers.utils.parseUnits('10','gwei');\n    let gasPrice = localStorage.getItem(\"gasPrice\") ? ethers.utils.bigNumberify(localStorage.getItem(\"gasPrice\").toString()) : defaultGasPrice;\n    return {\n      provider: provider,\n      signer: signer,\n      contracts: contracts,\n      readOnly: readOnly,\n      handleLogin: this.handleLogin,\n      handleReLogin: this.handleReLogin,\n      gasPrice: gasPrice,\n      defaultGasPrice: defaultGasPrice\n    }\n  }\n\n  // Helper method to retrieve provider to ethereum blockchain if present and null otherwise.\n  getEthereum() {\n    var ethereum = null;\n    // If web3 is present in the window return the connection provider otherwise null\n\n    if(window.web3) {\n      ethereum = window.ethereum ? window.ethereum : window.web3.currentProvider;\n    } else {\n    }\n    return ethereum;\n  }\n\n  // Helper method to retrieve an object of all the initialized contracts.\n  getContracts(contract_initializer) {\n    return {\n      WETH: new ethers.Contract(config[\"tokens\"][\"main\"][\"W-ETH\"], WEthAbi.interface, contract_initializer),\n      DAI: new ethers.Contract(config[\"tokens\"][\"main\"][\"DAI\"], erc20Abi.interface, contract_initializer),\n      MKR: new ethers.Contract(config[\"tokens\"][\"main\"][\"MKR\"], erc20Abi.interface, contract_initializer),\n      Market: new ethers.Contract(config[\"market\"][\"main\"][\"address\"], MatchingMarketAbi.interface, contract_initializer),\n      OasisX: new ethers.Contract(config[\"oasisX\"][\"address\"], OasisX, contract_initializer),\n      SupportMethods: new ethers.Contract(config[\"otcSupportMethods\"][\"main\"][\"address\"], SupportMethodsAbi.interface, contract_initializer)\n    };\n  }\n\n  // Helper method to set the default gas price used in all transactions\n  setGasPrice = (gasPrice) => {\n    try {\n      const price = ethers.utils.parseUnits(gasPrice, 'gwei');\n      this.setState((prevState) => ({\n        options: {\n          ...prevState.options,\n          gasPrice: price\n        }\n      }));\n      localStorage.setItem(\"gasPrice\", price);\n    } catch {\n      console.log(\"Could not set gas price to '\" + gasPrice + \"'\");\n      return false;\n    }\n    return true;\n  }\n\n  /** ################# RENDER ################# **/\n\n  render() {\n    const { options } = this.state\n\n    // If there is no provider at all then render a Loading screen.\n    if(options.provider === null) {\n      return (\n        <div className=\"App\">\n          Loading...\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"App\">\n        <HashRouter>\n          <div>\n            <Navbar options={options} />\n            <div id=\"App_market_container\">\n                <Switch>\n                  <Route exact path='/' render={() => <Home />} />\n                  <Route exact path='/login' render={() => <Login options={options} />} />\n                  <Route exact path='/WETH_DAI' render={() => <Market key={'WETH_DAI'} options={options} currencies={['WETH', 'DAI']} />} />\n                  <Route exact path='/MKR_WETH' render={() => <Market key={'MKR_WETH'} options={options} currencies={['MKR', 'WETH']} />} />\n                  <Route exact path='/MKR_DAI' render={() => <Market  key={'MKR_DAI'} options={options} currencies={['MKR', 'DAI']} />} />\n                </Switch>\n            </div>\n            <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n              <Infobar padded={true} options={options} setGasPrice={this.setGasPrice} />\n            </Responsive>\n          </div>\n        </HashRouter>\n      </div>\n    );\n  }\n}\n\nexport default App\n","// Import Major Dependencies\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport registerServiceWorker from './registerServiceWorker';\n\n// Import CSS Files\nimport 'semantic-ui-css/semantic.min.css';\nimport 'react-virtualized/styles.css'\nimport './index.css';\n\n// Import App src code\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();"],"sourceRoot":""}