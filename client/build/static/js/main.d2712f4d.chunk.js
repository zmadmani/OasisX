(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{340:function(e,t,a){e.exports=a.p+"static/media/x.23ec4264.svg"},445:function(e,t,a){e.exports=a(941)},453:function(e,t,a){},455:function(e,t,a){},459:function(e,t,a){},461:function(e,t,a){},542:function(e,t,a){},582:function(e,t,a){},584:function(e,t,a){},675:function(e,t,a){},677:function(e,t,a){},679:function(e,t,a){},681:function(e,t,a){},683:function(e,t,a){},685:function(e,t,a){},687:function(e,t,a){},701:function(e,t,a){},706:function(e,t,a){},708:function(e,t,a){},710:function(e,t,a){},778:function(e,t){},780:function(e,t){},816:function(e,t){},862:function(e,t){},936:function(e){e.exports={networks:[{id:1,name:"main",startingBlock:null,avgBlocksPerDay:5760},{id:42,name:"kovan",startingBlock:null,avgBlocksPerDay:21600}],market:{kovan:{address:"0xdB3b642eBc6Ff85A3AB335CFf9af2954F9215994",blockNumber:5216718},main:{address:"0xB7ac09C2c0217B07d7c103029B4918a2C401eeCB",blockNumber:6863999}},otcSupportMethods:{kovan:{address:"0x303f2bf24d98325479932881657f45567b3e47a8"},main:{address:"0x9b3f075b12513afe56ca2ed838613b7395f57839"}},tokens:{kovan:{"W-ETH":"0xd0a1e359811322d97991e03f863a0c30c2cf029c",DAI:"0xc4375b7de8af5a38a93548eb8453a498222c4ff2",MKR:"0xaaf64bfcc32d0f15873a02163e7e500671a4ffcd"},main:{"W-ETH":"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",DAI:"0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359",MKR:"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2"}}}},937:function(e){e.exports={interface:[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"ok",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"supply",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"ok",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"value",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"ok",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"_allowance",type:"uint256"}],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],bytecode:""}},938:function(e){e.exports={interface:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"supply",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"src",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[{name:"ok",type:"bool"}],payable:!0,type:"function"},{constant:!0,inputs:[{name:"src",type:"address"},{name:"guy",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"tryWithdraw",outputs:[{name:"ok",type:"bool"}],payable:!1,type:"function"},{payable:!0,type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"who",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"who",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],bytecode:"606060405260005b600160a060020a03331660009081526001602052604081208290558190555b505b610922806100376000396000f3006060604052361561009e5763ffffffff60e060020a60003504166306fdde0381146100b0578063095ea7b31461014057806318160ddd1461017357806323b872dd146101955780632e1a7d4d146101ce578063313ce567146101e357806370a082311461020557806395d89b4114610233578063a9059cbb146102c3578063d0e30db0146102f6578063dd62ed3e14610312578063e3fa588214610346575b6100ae5b6100aa61036d565b505b565b005b34156100b857fe5b6100c06103cd565b604080516020808252835181830152835191928392908301918501908083838215610106575b80518252602083111561010657601f1990920191602091820191016100e6565b505050905090810190601f1680156101325780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561014857fe5b61015f600160a060020a0360043516602435610404565b604080519115158252519081900360200190f35b341561017b57fe5b61018361046f565b60408051918252519081900360200190f35b341561019d57fe5b61015f600160a060020a036004358116906024351660443561047e565b604080519115158252519081900360200190f35b34156101d657fe5b6100ae600435610591565b005b34156101eb57fe5b6101836105aa565b60408051918252519081900360200190f35b341561020d57fe5b610183600160a060020a03600435166105af565b60408051918252519081900360200190f35b341561023b57fe5b6100c06105ce565b604080516020808252835181830152835191928392908301918501908083838215610106575b80518252602083111561010657601f1990920191602091820191016100e6565b505050905090810190601f1680156101325780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156102cb57fe5b61015f600160a060020a0360043516602435610605565b604080519115158252519081900360200190f35b61015f61036d565b604080519115158252519081900360200190f35b341561031a57fe5b610183600160a060020a03600435811690602435166106c8565b60408051918252519081900360200190f35b341561034e57fe5b61015f6004356106f5565b604080519115158252519081900360200190f35b600160a060020a0333166000818152600160209081526040808320805434908101909155815190815290519293927fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c929181900390910190a25060015b90565b60408051808201909152600b81527f5772617070657220455448000000000000000000000000000000000000000000602082015281565b600160a060020a03338116600081815260026020908152604080832094871680845294825280832086905580518681529051929493927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060015b92915050565b600160a060020a033016315b90565b600160a060020a0383166000908152600160205260408120546104a490839010156107e0565b600160a060020a03808516600090815260026020908152604080832033909416835292905220546104d890839010156107e0565b600160a060020a038316600090815260016020526040902054610504906104ff90846107f1565b6107e0565b600160a060020a03808516600081815260026020908152604080832033861684528252808320805488900390558383526001825280832080548890039055938716808352918490208054870190558351868152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a35060015b9392505050565b61059a816106f5565b15156100aa5760006000fd5b5b50565b601281565b600160a060020a0381166000908152600160205260409020545b919050565b60408051808201909152600581527f572d455448000000000000000000000000000000000000000000000000000000602082015281565b600160a060020a03331660009081526001602052604081205461062b90839010156107e0565b600160a060020a038316600090815260016020526040902054610657906104ff90846107f1565b6107e0565b600160a060020a03338116600081815260016020908152604080832080548890039055938716808352918490208054870190558351868152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a35060015b92915050565b600160a060020a038083166000908152600260209081526040808320938516835292905220545b92915050565b60006106ff6108e4565b600160a060020a03331660009081526001602052604090205461072290846107ff565b33600160a060020a03811660009081526001602052604090209190915561074a908285610822565b1561079757604080518481529051600160a060020a033316917f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65919081900360200190a2600191506107d9565b600160a060020a0333166000908152600160205260409020546107ba90846108b6565b600160a060020a03331660009081526001602052604081209190915591505b5b50919050565b8015156100aa5760006000fd5b5b50565b808201829010155b92915050565b600061080b83836108d9565b15156108175760006000fd5b508082035b92915050565b600083600160a060020a0316828460405180828051906020019080838360008314610868575b80518252602083111561086857601f199092019160209182019101610848565b505050905090810190601f1680156108945780820380516001836020036101000a031916815260200191505b5091505060006040518083038185876185025a03f193505050505b9392505050565b60006108c283836107f1565b15156108ce5760006000fd5b508181015b92915050565b818111155b92915050565b604080516020810190915260008152905600a165627a7a72305820a28a849337643999a68d2ac22a1417f83794fda4e2ecdd428d495dd88cb435220029"}},939:function(e){e.exports={interface:[{constant:!0,inputs:[],name:"matchingEnabled",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"sell_gem",type:"address"},{name:"buy_gem",type:"address"}],name:"getBestOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"pay_gem",type:"address"},{name:"pay_amt",type:"uint256"},{name:"buy_gem",type:"address"},{name:"min_fill_amount",type:"uint256"}],name:"sellAllAmount",outputs:[{name:"fill_amt",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"stop",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"pay_gem",type:"address"},{name:"buy_gem",type:"address"},{name:"pay_amt",type:"uint128"},{name:"buy_amt",type:"uint128"}],name:"make",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"owner_",type:"address"}],name:"setOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"buy_gem",type:"address"},{name:"pay_gem",type:"address"},{name:"pay_amt",type:"uint256"}],name:"getBuyAmount",outputs:[{name:"fill_amt",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"baseToken",type:"address"},{name:"quoteToken",type:"address"}],name:"addTradingPairWhitelist",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"baseToken",type:"address"},{name:"quoteToken",type:"address"}],name:"remTradingPairWhitelist",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"pay_amt",type:"uint256"},{name:"pay_gem",type:"address"},{name:"buy_amt",type:"uint256"},{name:"buy_gem",type:"address"},{name:"pos",type:"uint256"}],name:"offer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"},{name:"pos",type:"uint256"}],name:"insert",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"last_offer_id",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"matchingEnabled_",type:"bool"}],name:"setMatchingEnabled",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"}],name:"cancel",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getOffer",outputs:[{name:"",type:"uint256"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id",type:"bytes32"},{name:"maxTakeAmount",type:"uint128"}],name:"take",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"pay_gem",type:"address"}],name:"getMinSell",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTime",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getNextUnsortedOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"close_time",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"_span",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"_best",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"stopped",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id_",type:"bytes32"}],name:"bump",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"authority_",type:"address"}],name:"setAuthority",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"sell_gem",type:"address"},{name:"buy_gem",type:"address"}],name:"getOfferCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"buy_gem",type:"address"},{name:"buy_amt",type:"uint256"},{name:"pay_gem",type:"address"},{name:"max_fill_amount",type:"uint256"}],name:"buyAllAmount",outputs:[{name:"fill_amt",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"isActive",outputs:[{name:"active",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"offers",outputs:[{name:"pay_amt",type:"uint256"},{name:"pay_gem",type:"address"},{name:"buy_amt",type:"uint256"},{name:"buy_gem",type:"address"},{name:"owner",type:"address"},{name:"active",type:"bool"},{name:"timestamp",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getFirstUnsortedOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"baseToken",type:"address"},{name:"quoteToken",type:"address"}],name:"isTradingPairWhitelisted",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getBetterOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"_dust",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getWorseOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"_menu",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"_near",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id",type:"bytes32"}],name:"kill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"pay_gem",type:"address"},{name:"dust",type:"uint256"}],name:"setMinSell",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"authority",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isClosed",outputs:[{name:"closed",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"_rank",outputs:[{name:"next",type:"uint256"},{name:"prev",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getOwner",outputs:[{name:"owner",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"isOfferSorted",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"buyEnabled_",type:"bool"}],name:"setBuyEnabled",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"},{name:"amount",type:"uint256"}],name:"buy",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"pay_amt",type:"uint256"},{name:"pay_gem",type:"address"},{name:"buy_amt",type:"uint256"},{name:"buy_gem",type:"address"},{name:"pos",type:"uint256"},{name:"rounding",type:"bool"}],name:"offer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"pay_amt",type:"uint256"},{name:"pay_gem",type:"address"},{name:"buy_amt",type:"uint256"},{name:"buy_gem",type:"address"}],name:"offer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"buyEnabled",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"pay_gem",type:"address"},{name:"buy_gem",type:"address"},{name:"buy_amt",type:"uint256"}],name:"getPayAmount",outputs:[{name:"fill_amt",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"close_time",type:"uint64"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!0,inputs:[{indexed:!0,name:"sig",type:"bytes4"},{indexed:!0,name:"guy",type:"address"},{indexed:!0,name:"foo",type:"bytes32"},{indexed:!0,name:"bar",type:"bytes32"},{indexed:!1,name:"wad",type:"uint256"},{indexed:!1,name:"fax",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"uint256"}],name:"LogItemUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"pay_amt",type:"uint256"},{indexed:!0,name:"pay_gem",type:"address"},{indexed:!1,name:"buy_amt",type:"uint256"},{indexed:!0,name:"buy_gem",type:"address"}],name:"LogTrade",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"id",type:"bytes32"},{indexed:!0,name:"pair",type:"bytes32"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"pay_gem",type:"address"},{indexed:!1,name:"buy_gem",type:"address"},{indexed:!1,name:"pay_amt",type:"uint128"},{indexed:!1,name:"buy_amt",type:"uint128"},{indexed:!1,name:"timestamp",type:"uint64"}],name:"LogMake",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"id",type:"bytes32"},{indexed:!0,name:"pair",type:"bytes32"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"pay_gem",type:"address"},{indexed:!1,name:"buy_gem",type:"address"},{indexed:!1,name:"pay_amt",type:"uint128"},{indexed:!1,name:"buy_amt",type:"uint128"},{indexed:!1,name:"timestamp",type:"uint64"}],name:"LogBump",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"bytes32"},{indexed:!0,name:"pair",type:"bytes32"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"pay_gem",type:"address"},{indexed:!1,name:"buy_gem",type:"address"},{indexed:!0,name:"taker",type:"address"},{indexed:!1,name:"take_amt",type:"uint128"},{indexed:!1,name:"give_amt",type:"uint128"},{indexed:!1,name:"timestamp",type:"uint64"}],name:"LogTake",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"id",type:"bytes32"},{indexed:!0,name:"pair",type:"bytes32"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"pay_gem",type:"address"},{indexed:!1,name:"buy_gem",type:"address"},{indexed:!1,name:"pay_amt",type:"uint128"},{indexed:!1,name:"buy_amt",type:"uint128"},{indexed:!1,name:"timestamp",type:"uint64"}],name:"LogKill",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"authority",type:"address"}],name:"LogSetAuthority",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"}],name:"LogSetOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"isEnabled",type:"bool"}],name:"LogBuyEnabled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"pay_gem",type:"address"},{indexed:!1,name:"min_amount",type:"uint256"}],name:"LogMinSell",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"isEnabled",type:"bool"}],name:"LogMatchingEnabled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"uint256"}],name:"LogUnsortedOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"uint256"}],name:"LogSortedOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"baseToken",type:"address"},{indexed:!1,name:"quoteToken",type:"address"}],name:"LogAddTradingPairWhitelist",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"baseToken",type:"address"},{indexed:!1,name:"quoteToken",type:"address"}],name:"LogRemTradingPairWhitelist",type:"event"}]}},940:function(e){e.exports={interface:[{constant:!0,inputs:[{name:"otc",type:"address"},{name:"payToken",type:"address"},{name:"buyToken",type:"address"}],name:"getOffers",outputs:[{name:"ids",type:"uint256[100]"},{name:"payAmts",type:"uint256[100]"},{name:"buyAmts",type:"uint256[100]"},{name:"owners",type:"address[100]"},{name:"timestamps",type:"uint256[100]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"otc",type:"address"},{name:"buyToken",type:"address"},{name:"buyAmt",type:"uint256"},{name:"payToken",type:"address"}],name:"getOffersAmountToBuyAll",outputs:[{name:"ordersToTake",type:"uint256"},{name:"takesPartialOrder",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"otc",type:"address"},{name:"offerId",type:"uint256"}],name:"getOffers",outputs:[{name:"ids",type:"uint256[100]"},{name:"payAmts",type:"uint256[100]"},{name:"buyAmts",type:"uint256[100]"},{name:"owners",type:"address[100]"},{name:"timestamps",type:"uint256[100]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"otc",type:"address"},{name:"payToken",type:"address"},{name:"payAmt",type:"uint256"},{name:"buyToken",type:"address"}],name:"getOffersAmountToSellAll",outputs:[{name:"ordersToTake",type:"uint256"},{name:"takesPartialOrder",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}]}},941:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(90),s=a.n(i),o=(a(450),a(453),a(22)),l=a(23),c=a(25),u=a(24),d=a(26),m=a(964),p=a(967),b=a(968),y=a(957),h=(a(455),a(969)),f=a(945),v=a(9),E=a.n(v),g=a(27),_=a(16),S=a(960),k=a(279),N=a(228),O=(a(459),["JAMES","JOHN","ROBERT","MICHAEL","WILLIAM","DAVID","RICHARD","CHARLES","JOSEPH","THOMAS","CHRISTOPHER","DANIEL","PAUL","MARK","DONALD","GEORGE","KENNETH","STEVEN","EDWARD","BRIAN","RONALD","ANTHONY","KEVIN","JASON","MATTHEW","GARY","TIMOTHY","JOSE","LARRY","JEFFREY","FRANK","SCOTT","ERIC","STEPHEN","ANDREW","RAYMOND","GREGORY","JOSHUA","JERRY","DENNIS","WALTER","PATRICK","PETER","HAROLD","DOUGLAS","HENRY","CARL","ARTHUR","RYAN","ROGER","JOE","JUAN","JACK","ALBERT","JONATHAN","JUSTIN","TERRY","GERALD","KEITH","SAMUEL","WILLIE","RALPH","LAWRENCE","NICHOLAS","ROY","BENJAMIN","BRUCE","BRANDON","ADAM","HARRY","FRED","WAYNE","BILLY","STEVE","LOUIS","JEREMY","AARON","RANDY","HOWARD","EUGENE","CARLOS","RUSSELL","BOBBY","VICTOR","MARTIN","ERNEST","PHILLIP","TODD","JESSE","CRAIG","ALAN","SHAWN","CLARENCE","SEAN","PHILIP","CHRIS","JOHNNY","EARL","JIMMY","ANTONIO","DANNY","BRYAN","TONY","LUIS","MIKE","STANLEY","LEONARD","NATHAN","DALE","MANUEL","RODNEY","CURTIS","NORMAN","ALLEN","MARVIN","VINCENT","GLENN","JEFFERY","TRAVIS","JEFF","CHAD","JACOB","LEE","MELVIN","ALFRED","KYLE","FRANCIS","BRADLEY","JESUS","HERBERT","FREDERICK","RAY","JOEL","EDWIN","DON","EDDIE","RICKY","TROY","RANDALL","BARRY","ALEXANDER","BERNARD","MARIO","LEROY","FRANCISCO","MARCUS","MICHEAL","THEODORE","CLIFFORD","MIGUEL","OSCAR","JAY","JIM","TOM","CALVIN","ALEX","JON","RONNIE","BILL","LLOYD","TOMMY","LEON","DEREK","WARREN","DARRELL","JEROME","FLOYD","LEO","ALVIN","TIM","WESLEY","GORDON","DEAN","GREG","JORGE","DUSTIN","PEDRO","DERRICK","DAN","LEWIS","ZACHARY","COREY","HERMAN","MAURICE","VERNON","ROBERTO","CLYDE","GLEN","HECTOR","SHANE","RICARDO","SAM","RICK","LESTER","BRENT","RAMON","CHARLIE","TYLER","GILBERT","GENE"]),A=["SMITH","JOHNSON","WILLIAMS","JONES","BROWN","DAVIS","MILLER","WILSON","MOORE","TAYLOR","ANDERSON","THOMAS","JACKSON","WHITE","HARRIS","MARTIN","THOMPSON","GARCIA","MARTINEZ","ROBINSON","CLARK","RODRIGUEZ","LEWIS","LEE","WALKER","HALL","ALLEN","YOUNG","HERNANDEZ","KING","WRIGHT","LOPEZ","HILL","SCOTT","GREEN","ADAMS","BAKER","GONZALEZ","NELSON","CARTER","MITCHELL","PEREZ","ROBERTS","TURNER","PHILLIPS","CAMPBELL","PARKER","EVANS","EDWARDS","COLLINS","STEWART","SANCHEZ","MORRIS","ROGERS","REED","COOK","MORGAN","BELL","MURPHY","BAILEY","RIVERA","COOPER","RICHARDSON","COX","HOWARD","WARD","TORRES","PETERSON","GRAY","RAMIREZ","JAMES","WATSON","BROOKS","KELLY","SANDERS","PRICE","BENNETT","WOOD","BARNES","ROSS","HENDERSON","COLEMAN","JENKINS","PERRY","POWELL","LONG","PATTERSON","HUGHES","FLORES","WASHINGTON","BUTLER","SIMMONS","FOSTER","GONZALES","BRYANT","ALEXANDER","RUSSELL","GRIFFIN","DIAZ","HAYES","MYERS","FORD","HAMILTON","GRAHAM","SULLIVAN","WALLACE","WOODS","COLE","WEST","JORDAN","OWENS","REYNOLDS","FISHER","ELLIS","HARRISON","GIBSON","MCDONALD","CRUZ","MARSHALL","ORTIZ","GOMEZ","MURRAY","FREEMAN","WELLS","WEBB","SIMPSON","STEVENS","TUCKER","PORTER","HUNTER","HICKS","CRAWFORD","HENRY","BOYD","MASON","MORALES","KENNEDY","WARREN","DIXON","RAMOS","REYES","BURNS","GORDON","SHAW","HOLMES","RICE","ROBERTSON","HUNT","BLACK","DANIELS","PALMER","MILLS","NICHOLS","GRANT","KNIGHT","FERGUSON","ROSE","STONE","HAWKINS","DUNN","PERKINS","HUDSON","SPENCER","GARDNER","STEPHENS","PAYNE","PIERCE","BERRY","MATTHEWS","ARNOLD","WAGNER","WILLIS","RAY","WATKINS","OLSON","CARROLL","DUNCAN","SNYDER","HART","CUNNINGHAM","BRADLEY","LANE","ANDREWS","RUIZ","HARPER","FOX","RILEY","ARMSTRONG","CARPENTER","WEAVER","GREENE","LAWRENCE","ELLIOTT","CHAVEZ","SIMS","AUSTIN","PETERS","KELLEY","FRANKLIN","LAWSON"],C=["#001f3f","#0074D9","#7FDBFF","#39CCCC","#2ECC40","#01FF70","#FFDC00","#FF851B","#3D9970","#F15152","#111111","#AAAAAA","#DDDDDD"],M=["#FFFFFF","#FFFFFF","#111111","#111111","#111111","#111111","#111111","#111111","#111111","#111111","#FFFFFF","#111111","#111111"],w=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.address!==e.address}},{key:"getName",value:function(e){var t=this.props.drizzle.web3,a=t.utils.toBN("200");e=e.substr(2);var n=t.utils.hexToNumberString(e.substr(0,20)),r=t.utils.hexToNumberString(e.substr(20,40));if(n=t.utils.toBN(n).mod(a).toString(),r=t.utils.toBN(r).mod(a).toString(),0!==n&&0!==r){var i=O[n][0]+A[r][0];return[O[n]+" "+A[r],i]}return[e,"0x"]}},{key:"getColor",value:function(e){var t=this.props.drizzle.web3,a=t.utils.toBN("13");e=e.substr(2);var n=t.utils.hexToNumberString(e),r=t.utils.toBN(n).mod(a).toString();return[C[r],M[r]]}},{key:"render",value:function(){var e=this.props,t=e.address,a=e.icon_only,n=e.inactive_link,i=this.getName(t),s=Object(N.a)(i,2),o=s[0],l=s[1],c=this.getColor(t),u=Object(N.a)(c,2),d=u[0],m=u[1];o=r.a.createElement("div",{className:"HumanName-name"},o);var p={backgroundColor:d,color:m},b=function(){return window.open("https://etherscan.io/address/"+t,"_blank")};n&&(b=null);var y=r.a.createElement("div",{className:"HumanName-circle",style:p},r.a.createElement("span",{className:"HumanName-initials"},l)),h=r.a.createElement("span",{className:"HumanName",title:t,onClick:b},y,o);return a&&(h=r.a.createElement("span",{className:"HumanName",title:t,onClick:b},y)),h}}]),t}(n.Component),z=(a(461),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={orders:null,timeout:null,max_order:null},a.buildRow=a.buildRow.bind(Object(_.a)(Object(_.a)(a))),a.updateOrders=a.updateOrders.bind(Object(_.a)(Object(_.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateOrders();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e,t){return t.orders!==this.state.orders}},{key:"componentWillUnmount",value:function(){null!==this.state.timeout&&clearTimeout(this.state.timeout)}},{key:"updateOrders",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrders();case 2:t=e.sent,a=Math.max.apply(Math,t.map(function(e){return e.curr_1_amt})),n=setTimeout(this.updateOrders,5e3),this.setState({orders:t,timeout:n,max_order:a});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getOrders",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.drizzle,n=t.currencies,r=t.type,i=a.contracts.Market,2!==n.length){e.next=14;break}return s=a.contracts[n[0]].address,o=a.contracts[n[1]].address,l=null,c=null,"BUY"===r?(l=o,c=s):(l=s,c=o),e.next=10,a.contracts.SupportMethods.methods.getOffers(i.address,l,c).call();case 10:return u=e.sent,d=[],u&&(d=this.processOrders(u)),e.abrupt("return",d);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"processOrders",value:function(e){for(var t=this.props.type,a=e.ids.length,n=[],r=0;r<a;r++)if("0"!==e.ids[r]){var i=e.ids[r],s=e.owners[r],o=this.props.drizzle.web3.utils.fromWei(e.payAmts[r].toString(),"ether"),l=this.props.drizzle.web3.utils.fromWei(e.buyAmts[r].toString(),"ether"),c=0,u={};"BUY"===t?u={price:c=Math.round(o/l*1e3)/1e3,curr_0_amt:l=Math.round(1e3*l)/1e3,curr_1_amt:o=Math.round(1e3*o)/1e3,id:i,type:t,maker:s}:(c=Math.round(l/o*1e3)/1e3,l=Math.round(1e3*l)/1e3,u={price:c,curr_0_amt:o=Math.round(1e3*o)/1e3,curr_1_amt:l,id:i,type:t,maker:s}),n.push(u)}return n}},{key:"numberWithCommas",value:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"buildRow",value:function(e,t){var a=this,n=this.state.max_order,i=this.props,s=i.type,o=i.drizzleState,l=i.drizzle,c=o.accounts[0],u=e.curr_1_amt/n*100,d="rgba(255, 0, 0, 0.2)",m="rgba(0,0,0,0)";"BUY"===s&&(d="rgba(0, 255, 0, 0.1)",m="rgba(0, 0, 0, 0)");var p={backgroundImage:"linear-gradient(to ".concat("right",", ").concat(d," , ").concat(d,"), linear-gradient(to ").concat("right",", ").concat(m,", ").concat(m,")"),backgroundSize:"calc(".concat(u,"%) 100%"),backgroundRepeat:"no-repeat"},b="OrderList-table-row ";return c===e.maker&&(b+="OrderList-my-order"),r.a.createElement(S.a.Row,{className:b,key:e.id,onClick:function(){return a.props.setSidebar(e)},style:p},r.a.createElement(S.a.Cell,{textAlign:"left",width:1},r.a.createElement("div",{className:"OrderList-table-entry OrderList-icon"},r.a.createElement(w,{inactive_link:!0,icon_only:!0,drizzleState:o,drizzle:l,address:e.maker}))),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"OrderList-table-entry"},this.numberWithCommas(e.price))),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"OrderList-table-entry"},this.numberWithCommas(e.curr_0_amt))),r.a.createElement(S.a.Cell,{textAlign:"left"},r.a.createElement("div",{className:"OrderList-table-entry"},this.numberWithCommas(e.curr_1_amt))))}},{key:"render",value:function(){var e=this.state.orders,t=this.props.currencies;return e?0===e.length?r.a.createElement("div",{className:"OrderList"},r.a.createElement("div",{className:"OrderList-loading"},"Loading...")):r.a.createElement("div",{className:"OrderList"},r.a.createElement(S.a,{striped:!0,basic:!0,celled:!0,unstackable:!0,id:"OrderList-table"},r.a.createElement(S.a.Header,null,r.a.createElement(S.a.Row,null,r.a.createElement(S.a.HeaderCell,{className:"OrderList-table-header"},r.a.createElement(k.a,{name:"user circle",size:"large"})),r.a.createElement(S.a.HeaderCell,{className:"OrderList-table-header",textAlign:"left"},"Price"),r.a.createElement(S.a.HeaderCell,{className:"OrderList-table-header",textAlign:"left"},t[0]),r.a.createElement(S.a.HeaderCell,{className:"OrderList-table-header",textAlign:"left"},t[1]))),r.a.createElement(S.a.Body,{id:"OrderList-tableBody"},e.map(this.buildRow)))):r.a.createElement("div",{className:"OrderList"},r.a.createElement("div",{className:"OrderList-loading"},"Error..."))}}]),t}(n.Component)),R=a(953),L=a(959),x=a(956),B=a(963),T=(a(542),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,init:!1,error:!1,success:!1,price:"",amount_0:"",ui_amount_0:"",amount_1:"",ui_amount_1:"",currency_0_balance:"0",currency_1_balance:"0",bignumbers:[],timer:null,last_price:"",subscription:null},a.handleSubmit=a.handleSubmit.bind(Object(_.a)(Object(_.a)(a))),a.updateBalances=a.updateBalances.bind(Object(_.a)(Object(_.a)(a))),a.flashSuccess=a.flashSuccess.bind(Object(_.a)(Object(_.a)(a))),a.flashError=a.flashError.bind(Object(_.a)(Object(_.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.generateBigNumbers(),this.updateBalances(),this.getPastOrders(),this.subscribeToEvents().then(function(t){e.setState({subscription:t})})}},{key:"componentWillUnmount",value:function(){this.state.timer&&clearTimeout(this.state.timer),this.state.subscription&&this.state.subscription.unsubscribe()}},{key:"getPrice",value:function(e,t,a){var n=this.props.drizzle.web3;if(e=n.utils.toBN(e),t=n.utils.toBN(t),e.lte(n.utils.toBN("1000"))||t.lte(n.utils.toBN("1000")))return!1;var r=n.utils.toBN(n.utils.toWei("1","ether")),i=0;return"BUY"===a?[i=parseFloat(n.utils.fromWei(r.mul(e).div(t).toString(),"ether")),t=parseFloat(n.utils.fromWei(t.toString(),"ether")),e=parseFloat(n.utils.fromWei(e.toString(),"ether"))]:(i=parseFloat(n.utils.fromWei(r.mul(t).div(e).toString(),"ether")),t=parseFloat(n.utils.fromWei(t.toString(),"ether")),[i,e=parseFloat(n.utils.fromWei(e.toString(),"ether")),t])}},{key:"getType",value:function(e){var t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts[a[0]].address,i=n.contracts[a[1]].address,s=e.buy_gem,o=e.pay_gem;return s===r&&o===i?"SELL":s===i&&o===r?"BUY":null}},{key:"subscribeToEvents",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d,m;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts.Market,i=n.web3,e.next=5,i.eth.getBlockNumber();case 5:return s=e.sent,o=n.contracts[a[0]].address,l=n.contracts[a[1]].address,c=i.utils.soliditySha3(o,l),u=i.utils.soliditySha3(l,o),d=new i.eth.Contract(r.abi,r.address),m=d.events.LogTake({filter:{pair:[c,u]},fromBlock:s}).on("data",function(e){e=e.returnValues;var t=this.getType(e),a=e.give_amt.toString(),n=e.take_amt.toString(),r=this.getPrice(a,n,t),i=Math.round(1e3*r[0])/1e3;this.setState({last_price:i})}.bind(this)),e.abrupt("return",m);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getPastOrders",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d,m,p,b,y,h,f,v;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts.Market,i=n.web3,e.next=5,i.eth.getBlockNumber();case 5:return s=e.sent,o=n.contracts[a[0]].address,l=n.contracts[a[1]].address,c=i.utils.soliditySha3(o,l),u=i.utils.soliditySha3(l,o),d=new i.eth.Contract(r.abi,r.address),e.next=13,d.getPastEvents("LogTake",{filter:{pair:[c,u]},fromBlock:s-250,toBlock:"latest"});case 13:(m=e.sent).length>0&&(p=m[m.length-1].returnValues,b=this.getType(p),y=p.give_amt.toString(),h=p.take_amt.toString(),f=this.getPrice(y,h,b),v=Math.round(1e3*f[0])/1e3,this.setState({last_price:v}));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateBalances",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.drizzle,n=t.drizzleState,r=t.currencies,i=this.state,s=i.price,i.init&&""===s){e.next=11;break}return o=n.accounts[0],e.next=6,a.contracts[r[0]].methods.balanceOf(o).call();case 6:return l=e.sent,e.next=9,a.contracts[r[1]].methods.balanceOf(o).call();case 9:c=e.sent,this.setState({currency_0_balance:l,currency_1_balance:c,init:!0});case 11:u=setTimeout(this.updateBalances,2500),this.setState({timer:u});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"generateBigNumbers",value:function(){for(var e={},t=0;t<=10;t++){var a=t;e[a]=this.props.drizzle.web3.utils.toBN(a)}this.setState({bignumbers:e})}},{key:"handleSubmit",value:function(e){this.setState({loading:!0,error:!1,success:!1});var t=this.props,a=t.currencies,n=t.drizzle,r=t.drizzleState,i=n.web3,s=r.accounts[0],o=this.state.amount_0,l=this.state.amount_1,c=n.contracts[a[0]].address,u=n.contracts[a[1]].address,d={};if("BUY"===e)d={pay_amt:l,pay_gem:u,buy_amt:o,buy_gem:c};else{if("SELL"!==e)return;d={pay_amt:o,pay_gem:c,buy_amt:l,buy_gem:u}}console.log(d),this.props.drizzle.contracts.Market.methods.offer(d.pay_amt,d.pay_gem,d.buy_amt,d.buy_gem,1).send({from:s,gasPrice:i.utils.toWei("5","gwei")}).on("receipt",this.flashSuccess).on("error",this.flashError),this.setState({loading:!0})}},{key:"flashSuccess",value:function(){var e=this;this.setState({success:!0,loading:!1}),setTimeout(function(){return e.setState({success:!1,price:"",amount_0:"0",ui_amount_0:"",amount_1:"0",ui_amount_1:""})},1500)}},{key:"flashError",value:function(){var e=this;this.setState({error:!0,loading:!1}),setTimeout(function(){return e.setState({error:!1})},1500)}},{key:"handlePriceChange",value:function(e){var t=this.props.drizzle.web3;if(/\S/.test(e)&&""!==this.state.ui_amount_0){var a=e,n=this.state.ui_amount_0*a,r=t.utils.toWei(n.toString(),"ether");this.setState({price:a,amount_1:r.toString(),ui_amount_1:n.toString()})}else this.setState({price:e,amount_1:"0",ui_amount_1:""})}},{key:"handleAmountChange",value:function(e,t){var a=this.props.drizzle.web3;if(/\S/.test(t)&&""!==this.state.price){var n=this.state.price,r=null,i=null,s=null,o=null;if(0===e)r=t,s=a.utils.toBN(a.utils.toWei(r.toString(),"ether")),i=r*n,o=a.utils.toBN(a.utils.toWei(i.toString(),"ether"));else{if(1!==e)return;i=t,o=a.utils.toBN(a.utils.toWei(i.toString(),"ether")),r=i/n,s=a.utils.toBN(a.utils.toWei(r.toString(),"ether"))}this.setState({amount_0:s.toString(),ui_amount_0:r,amount_1:o.toString(),ui_amount_1:i})}else this.setState({amount_0:"0",ui_amount_0:"",amount_1:"0",ui_amount_1:""})}},{key:"handleAmountPercentageChange",value:function(e,t){var a=this.props.drizzle.web3,n=this.state.price,r=null,i=null,s=null,o=null,l=a.utils.toBN(a.utils.toWei(n.toString(),"ether")),c=a.utils.toBN(a.utils.toWei("1"),"ether");if(0===e)o=(s=t).mul(l).div(c);else{if(1!==e)return;s=(o=t).mul(c).div(l)}try{r=a.utils.fromWei(s.toString(),"ether")}catch(u){console.log(u),r=a.utils.fromWei("0","ether")}try{i=a.utils.fromWei(o.toString(),"ether")}catch(u){console.log(u),i=a.utils.fromWei("0","ether")}this.setState({amount_0:s.toString(),ui_amount_0:r,amount_1:o.toString(),ui_amount_1:i})}},{key:"render",value:function(){var e=this,t=this.state,a=t.price,n=t.last_price,i=t.amount_0,s=t.amount_1,o=t.ui_amount_0,l=t.ui_amount_1,c=t.currency_0_balance,u=t.currency_1_balance,d=t.bignumbers,m=t.loading,p=t.success,b=t.error,y=this.props.currencies,h=this.props.drizzle.web3,f=!1,v=!1,E=h.utils.toBN(c),g=h.utils.toBN(u),_=h.utils.toBN(i),S=h.utils.toBN(s);""!==a&&E.gte(_)&&_.gt(h.utils.toBN("1000"))&&(v=!0),""!==a&&g.gte(S)&&S.gt(h.utils.toBN("1000"))&&(f=!0);var k="";return m&&(k=r.a.createElement("span",{className:"LimitOrder-color"},r.a.createElement(R.a,{active:!0,inline:!0,size:"small"})," LOADING...")),b&&(k=r.a.createElement("span",{className:"red LimitOrder-color"},"FAILED")),p&&(k=r.a.createElement("span",{className:"green LimitOrder-color"},"SUCCESS")),r.a.createElement("div",{className:"LimitOrder"},r.a.createElement(L.a,{size:"tiny"},r.a.createElement("div",{className:"LimitOrder-headers"},"Price"),r.a.createElement(L.a.Field,null,r.a.createElement(x.a,{label:{basic:!0,content:y[1]+" / "+y[0]},labelPosition:"right",placeholder:"Enter Price...",value:a,onChange:function(t){e.handlePriceChange(t.target.value)}}),r.a.createElement("span",{className:"LimitOrder-currentPrice",onClick:function(){return e.handlePriceChange(n)}},"Current Market Price")),r.a.createElement("div",{className:"LimitOrder-headers"},"Amounts"),r.a.createElement(L.a.Group,{widths:"equal"},r.a.createElement(L.a.Field,null,r.a.createElement(x.a,{label:{basic:!0,content:y[0]},labelPosition:"right",placeholder:"Enter Amount...",disabled:""===a,value:o,onChange:function(t){e.handleAmountChange(0,t.target.value)},className:"LimitOrder-amount-input"}),r.a.createElement(B.a.Group,{className:"LimitOrder-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{disabled:""===a,onClick:function(){return e.handleAmountChange(1,"")}},"0%"),r.a.createElement(B.a,{disabled:""===a,onClick:function(){return e.handleAmountPercentageChange(0,E.div(d[4]))}},"25%"),r.a.createElement(B.a,{disabled:""===a,onClick:function(){return e.handleAmountPercentageChange(0,E.div(d[2]))}},"50%"),r.a.createElement(B.a,{disabled:""===a,onClick:function(){return e.handleAmountPercentageChange(0,E.mul(d[3]).div(d[4]))}},"75%"),r.a.createElement(B.a,{disabled:""===a,onClick:function(){return e.handleAmountPercentageChange(0,E)}},"100%"))),r.a.createElement(L.a.Field,null,r.a.createElement(x.a,{label:{basic:!0,content:y[1]},labelPosition:"right",placeholder:"Enter Amount...",disabled:""===a,value:l,onChange:function(t){e.handleAmountChange(1,t.target.value)},className:"LimitOrder-amount-input"}),r.a.createElement(B.a.Group,{className:"LimitOrder-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{disabled:""===a,onClick:function(){return e.handleAmountChange(1,"")}},"0%"),r.a.createElement(B.a,{disabled:""===a,onClick:function(){return e.handleAmountPercentageChange(1,g.div(d[4]))}},"25%"),r.a.createElement(B.a,{disabled:""===a,onClick:function(){return e.handleAmountPercentageChange(1,g.div(d[2]))}},"50%"),r.a.createElement(B.a,{disabled:""===a,onClick:function(){return e.handleAmountPercentageChange(1,g.mul(d[3]).div(d[4]))}},"75%"),r.a.createElement(B.a,{disabled:""===a,onClick:function(){return e.handleAmountPercentageChange(1,g)}},"100%")))),r.a.createElement(B.a,{className:"LimitOrder-button",color:"green",disabled:!f||m,onClick:function(){return e.handleSubmit("BUY")}},"BUY ",y[0]),r.a.createElement(B.a,{className:"LimitOrder-button",color:"red",disabled:!v||m,onClick:function(){return e.handleSubmit("SELL")}},"SELL ",y[0]),k))}}]),t}(n.Component)),W=(a(582),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loading:[!1,!1],error:[!1,!1],success:[!1,!1],amounts:["0","0"],ui_amounts:["",""],expected_price:["",""],expected_amount:["0","0"],currency_0_balance:"0",currency_1_balance:"0",bignumbers:[],timer:null},a.handleMarketBuy=a.handleMarketBuy.bind(Object(_.a)(Object(_.a)(a))),a.handleMarketSell=a.handleMarketSell.bind(Object(_.a)(Object(_.a)(a))),a.updateBalances=a.updateBalances.bind(Object(_.a)(Object(_.a)(a))),a.flashSuccess=a.flashSuccess.bind(Object(_.a)(Object(_.a)(a))),a.flashError=a.flashError.bind(Object(_.a)(Object(_.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.generateBigNumbers(),this.updateBalances()}},{key:"componentWillUnmount",value:function(){this.state.timer&&clearTimeout(this.state.timer)}},{key:"updateBalances",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.drizzle,n=t.drizzleState,r=t.currencies,i=n.accounts[0],e.next=4,a.contracts[r[0]].methods.balanceOf(i).call();case 4:return s=e.sent,e.next=7,a.contracts[r[1]].methods.balanceOf(i).call();case 7:o=e.sent,l=setTimeout(this.updateBalances,2500),this.setState({timer:l,currency_0_balance:s,currency_1_balance:o});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"generateBigNumbers",value:function(){for(var e={},t=0;t<=10;t++){var a=t;e[a]=this.props.drizzle.web3.utils.toBN(a)}this.setState({bignumbers:e})}},{key:"handleMarketBuy",value:function(){var e=this,t=this.state,a=t.loading,n=t.error,r=t.success;a[1]=!0,n[1]=!1,r[1]=!1,this.setState({loading:a,error:n,success:r});var i=this.state,s=i.amounts,o=i.expected_amount,l=this.props,c=l.currencies,u=l.drizzle,d=l.drizzleState,m=u.web3,p=d.accounts[0],b=u.contracts[c[0]].address,y=u.contracts[c[1]].address,h=m.utils.toBN("98").mul(o[1]).div(m.utils.toBN("100")),f={pay_gem:y,pay_amt:s[1],buy_gem:b,min_fill_amount:h.toString()};console.log(f),u.contracts.Market.methods.sellAllAmount(f.pay_gem,f.pay_amt,f.buy_gem,f.min_fill_amount).send({from:p,gasPrice:m.utils.toWei("5","gwei")}).on("receipt",function(){return e.flashSuccess(1)}).on("error",function(){return e.flashError(1)})}},{key:"handleMarketSell",value:function(){var e=this,t=this.state,a=t.loading,n=t.error,r=t.success;a[0]=!0,n[0]=!1,r[0]=!1,this.setState({loading:a,error:n,success:r});var i=this.state,s=i.amounts,o=i.expected_amount,l=this.props,c=l.currencies,u=l.drizzle,d=l.drizzleState,m=u.web3,p=d.accounts[0],b=u.contracts[c[0]].address,y=u.contracts[c[1]].address,h=m.utils.toBN("98").mul(o[0]).div(m.utils.toBN("100")),f={pay_gem:b,pay_amt:s[0],buy_gem:y,min_fill_amount:h.toString()};console.log(f),this.props.drizzle.contracts.Market.methods.sellAllAmount(f.pay_gem,f.pay_amt,f.buy_gem,f.min_fill_amount).send({from:p,gasPrice:m.utils.toWei("5","gwei")}).on("receipt",function(){return e.flashSuccess(0)}).on("error",function(){return e.flashError(0)})}},{key:"flashSuccess",value:function(e){var t=this,a=this.state,n=a.loading,r=a.success,i=a.error;n[e]=!1,r[e]=!0,i[e]=!1,this.setState({loading:n,success:r,error:i}),setTimeout(function(){return t.reset(e)},1500)}},{key:"flashError",value:function(e){var t=this,a=this.state,n=a.loading,r=a.success,i=a.error;n[e]=!1,r[e]=!1,i[e]=!0,this.setState({loading:n,success:r,error:i}),setTimeout(function(){var a=t.state,n=a.loading,r=a.success,i=a.error;n[e]=!1,r[e]=!1,i[e]=!1,t.setState({error:i})},1500)}},{key:"reset",value:function(e){var t=this.state,a=t.loading,n=t.success,r=t.error,i=t.amounts,s=t.ui_amounts;a[e]=!1,n[e]=!1,r[e]=!1,i[e]="0",s[e]="",this.setState({loading:a,success:n,error:r,amounts:i,ui_amounts:s})}},{key:"setExpectedAmount",value:function(){var e=Object(g.a)(E.a.mark(function e(t){var a,n,r,i,s,o,l,c,u,d,m,p,b,y;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.amounts,r=a.expected_amount,i=a.expected_price,s=this.props,o=s.currencies,l=s.drizzle,c=l.web3,u=l.contracts[o[0]].address,d=l.contracts[o[1]].address,m="0",p=n[t],0!==t){e.next=13;break}return e.next=10,l.contracts.Market.methods.getBuyAmount(d,u,p).call();case 10:m=e.sent,e.next=17;break;case 13:if(1!==t){e.next=17;break}return e.next=16,l.contracts.Market.methods.getBuyAmount(u,d,p).call();case 16:m=e.sent;case 17:"0"!==m||"0"!==p?(m=c.utils.toBN(m),p=c.utils.toBN(p),b=c.utils.toBN(c.utils.toWei("1","ether")),y=b.mul(m).div(p),1===t&&(y=b.mul(p).div(m)),y=Math.round(1e3*c.utils.fromWei(y.toString(),"ether"))/1e3,r[t]=m,i[t]=y):(r[t]="0",i[t]=""),this.setState({expected_amount:r,expected_price:i});case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleAmountChange",value:function(e,t){var a=this,n=this.props.drizzle.web3,r=this.state,i=r.amounts,s=r.ui_amounts,o=i.slice(0),l=s.slice(0);try{if(/\S/.test(t)){var c=t,u=n.utils.toBN(n.utils.toWei(c.toString(),"ether"));o[e]=u.toString(),l[e]=c.toString(),this.setState({amounts:o,ui_amounts:l})}else o[e]="0",l[e]=""}catch(d){console.log(d),o[e]="0",l[e]=""}this.setState({amounts:o,ui_amounts:l},function(){a.setExpectedAmount(e)})}},{key:"handleAmountPercentageChange",value:function(e,t){var a=this,n=this.props.drizzle.web3,r=this.state,i=r.amounts,s=r.ui_amounts,o=t,l=n.utils.fromWei("0","ether");try{l=n.utils.fromWei(o.toString(),"ether")}catch(d){console.log(d)}var c=i.slice(0),u=s.slice(0);c[e]=o.toString(),u[e]=l.toString(),this.setState({amounts:c,ui_amounts:u},function(){a.setExpectedAmount(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.amounts,n=t.ui_amounts,i=t.expected_price,s=t.currency_0_balance,o=t.currency_1_balance,l=t.bignumbers,c=t.loading,u=t.success,d=t.error,m=this.props.currencies,p=this.props.drizzle.web3,b=!1,y=!1,h=p.utils.toBN(s),v=p.utils.toBN(o),E=p.utils.toBN(a[0]),g=p.utils.toBN(a[1]);h.gte(E)&&E.gt(p.utils.toBN("1000"))&&(y=!0),v.gte(g)&&g.gt(p.utils.toBN("1000"))&&(b=!0);for(var _=["",""],S=0;S<2;S++)c[S]&&(_[S]=r.a.createElement("span",{className:"MarketOrder-color"},r.a.createElement(R.a,{active:!0,inline:!0,size:"small"})," LOADING...")),d[S]&&(_[S]=r.a.createElement("span",{className:"red MarketOrder-color"},"FAILED")),u[S]&&(_[S]=r.a.createElement("span",{className:"green MarketOrder-color"},"SUCCESS"));return r.a.createElement("div",{className:"MarketOrder"},r.a.createElement(f.a,{inverted:!0,divided:!0,columns:2,relaxed:"very",stackable:!0},r.a.createElement(f.a.Column,{verticalAlign:"middle"},r.a.createElement("div",{className:"MarketOrder-main-header"},"Market ",r.a.createElement("span",{className:"green"},"BUY")),r.a.createElement("div",{className:"MarketOrder-small-note"},"Note: Orders will cancel if slippage >2%"),r.a.createElement("div",{className:"MarketOrder-sub-header"},"Est. Price: ",i[1]," ",r.a.createElement("span",{className:"MarketOrder-tiny-note"},m[1],"/",m[0])),r.a.createElement(L.a,{size:"tiny"},r.a.createElement("div",{className:"MarketOrder-headers"},r.a.createElement("span",{className:"green"},"Buy")," Allowance"),r.a.createElement(L.a.Group,{widths:"equal"},r.a.createElement(L.a.Field,null,r.a.createElement(x.a,{label:{basic:!0,content:m[1]},labelPosition:"right",placeholder:"Enter Amount...",value:n[1],onChange:function(t){e.handleAmountChange(1,t.target.value)},className:"MarketOrder-amount-input"}),r.a.createElement(B.a.Group,{className:"MarketOrder-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{onClick:function(){return e.handleAmountChange(1,"")}},"0%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(1,v.div(l[4]))}},"25%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(1,v.div(l[2]))}},"50%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(1,v.mul(l[3]).div(l[4]))}},"75%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(1,v)}},"100%")))),r.a.createElement(B.a,{className:"MarketOrder-button",color:"green",disabled:!b||c[1]||d[1],onClick:this.handleMarketBuy},"BUY ",m[0]),_[1])),r.a.createElement(f.a.Column,{verticalAlign:"middle"},r.a.createElement("div",{className:"MarketOrder-main-header"},"Market ",r.a.createElement("span",{className:"red"},"SELL")),r.a.createElement("div",{className:"MarketOrder-small-note"},"Note: Orders will cancel if slippage >2%"),r.a.createElement("div",{className:"MarketOrder-sub-header"},"Est. Price: ",i[0]," ",r.a.createElement("span",{className:"MarketOrder-tiny-note"},m[1],"/",m[0])),r.a.createElement(L.a,{size:"tiny"},r.a.createElement("div",{className:"MarketOrder-headers"},r.a.createElement("span",{className:"red"},"Sell")," Allowance"),r.a.createElement(L.a.Group,{widths:"equal"},r.a.createElement(L.a.Field,null,r.a.createElement(x.a,{label:{basic:!0,content:m[0]},labelPosition:"right",placeholder:"Enter Amount...",value:n[0],onChange:function(t){e.handleAmountChange(0,t.target.value)},className:"MarketOrder-amount-input"}),r.a.createElement(B.a.Group,{className:"MarketOrder-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{onClick:function(){return e.handleAmountChange(0,"")}},"0%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(0,h.div(l[4]))}},"25%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(0,h.div(l[2]))}},"50%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(0,h.mul(l[3]).div(l[4]))}},"75%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(0,h)}},"100%")))),r.a.createElement(B.a,{className:"MarketOrder-button",color:"red",disabled:!y||c[0]||d[0],onClick:this.handleMarketSell},"SELL ",m[0]),_[0]))))}}]),t}(n.Component)),H=(a(584),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={orders:[],timer:null},a.updateOrders=a.updateOrders.bind(Object(_.a)(Object(_.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateOrders();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.state.timer&&clearTimeout(this.state.timer)}},{key:"shouldComponentUpdate",value:function(e,t){return t.orders!==this.state.orders}},{key:"updateOrders",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrders("BUY");case 2:return t=e.sent,e.next=5,this.getOrders("SELL");case 5:a=e.sent,(n=t.concat(a)).sort(function(e,t){return parseInt(e[3])>parseInt(t[3])?1:-1}),r=setTimeout(this.updateOrders,5e3),this.setState({timer:r,orders:n});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getOrders",value:function(){var e=Object(g.a)(E.a.mark(function e(t){var a,n,r,i,s,o,l,c,u,d;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.drizzle,r=a.currencies,i=n.contracts.Market,2!==r.length){e.next=14;break}return s=n.contracts[r[0]].address,o=n.contracts[r[1]].address,l=null,c=null,"BUY"===t?(l=o,c=s):(l=s,c=o),e.next=10,n.contracts.SupportMethods.methods.getOffers(i.address,l,c).call();case 10:return u=e.sent,d=[],u&&(d=this.processOrders(u,t)),e.abrupt("return",d);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"processOrders",value:function(e,t){for(var a=this.props.drizzleState.accounts[0],n=e.ids.length,r=[],i=0;i<n;i++)if("0"!==e.ids[i]&&e.owners[i]===a){var s=e.ids[i],o=this.props.drizzle.web3.utils.fromWei(e.payAmts[i].toString(),"ether"),l=this.props.drizzle.web3.utils.fromWei(e.buyAmts[i].toString(),"ether"),c=0,u={};"BUY"===t?u={price:c=Math.round(o/l*1e3)/1e3,curr_0_amt:l=Math.round(1e3*l)/1e3,curr_1_amt:o=Math.round(1e3*o)/1e3,id:s,type:t}:(c=Math.round(l/o*1e3)/1e3,l=Math.round(1e3*l)/1e3,u={price:c,curr_0_amt:o=Math.round(1e3*o)/1e3,curr_1_amt:l,id:s,type:t}),r.push(u)}return r}},{key:"numberWithCommas",value:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"cancelOrder",value:function(e){var t=this.props.drizzle.contracts.Market,a=this.props.drizzleState.accounts[0];console.log("CANCEL ORDER "+e),t.methods.cancel.cacheSend(e,{from:a,gasPrice:this.props.drizzle.web3.utils.toWei("5","gwei")})}},{key:"render",value:function(){var e=this,t=this.state.orders,a=this.props.currencies,n=null,i=null;return 0===t.length?i=r.a.createElement("div",{id:"MyOrders-empty"},"NO ORDERS"):n=r.a.createElement(S.a.Body,{id:"MyOrders-tableBody"},t.map(function(t,a){var n="BUY"===t.type?r.a.createElement("span",{className:"green MyOrders-color"},t.type):r.a.createElement("span",{className:"red"},t.type);return r.a.createElement(S.a.Row,{key:a},r.a.createElement(S.a.Cell,{textAlign:"left"},r.a.createElement("div",{className:"MyOrders-table-entry"},r.a.createElement(B.a,{className:"MyOrders-button",color:"red",size:"mini",inverted:!0,onClick:function(){e.cancelOrder(t.id)}},"CANCEL"))),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MyOrders-table-entry"},n)),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MyOrders-table-entry"},e.numberWithCommas(t.price))),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MyOrders-table-entry"},e.numberWithCommas(t.curr_0_amt))),r.a.createElement(S.a.Cell,{textAlign:"left"},r.a.createElement("div",{className:"MyOrders-table-entry"},e.numberWithCommas(t.curr_1_amt))))})),r.a.createElement("div",{className:"MyOrders"},r.a.createElement(S.a,{selectable:!0,striped:!0,basic:!0,celled:!0,unstackable:!0,columns:5,textAlign:"left",id:"MyOrders-table"},r.a.createElement(S.a.Header,null,r.a.createElement(S.a.Row,null,r.a.createElement(S.a.HeaderCell,{className:"MyOrders-table-header",textAlign:"left"},"Action"),r.a.createElement(S.a.HeaderCell,{className:"MyOrders-table-header",textAlign:"left"},"Type"),r.a.createElement(S.a.HeaderCell,{className:"MyOrders-table-header",textAlign:"left"},"Price"),r.a.createElement(S.a.HeaderCell,{className:"MyOrders-table-header",textAlign:"left"},a[0]),r.a.createElement(S.a.HeaderCell,{className:"MyOrders-table-header",textAlign:"left"},a[1]))),n),i)}}]),t}(n.Component)),I=a(962),j=a(85),D=a(43),P=(a(675),Object(j.styler)([{key:"price",color:"white",width:1},{key:"volume",color:"white"}])),U=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n={pointerEvents:"none",stroke:"#ccc"};return null!==t&&null!==a?r.a.createElement("g",null,r.a.createElement("line",{style:n,x1:0,y1:a,x2:this.props.width,y2:a}),r.a.createElement("line",{style:n,x1:t,y1:0,x2:t,y2:this.props.height})):r.a.createElement("g",null)}}]),t}(r.a.Component),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleTrackerChange=function(e){e?a.setState({tracker:e}):a.setState({tracker:e,x:null,y:null})},a.handleTimeRangeChange=function(e){a.setState({timerange:e})},a.handleMouseMove=function(e,t){a.setState({x:e,y:t})},a.state={loading:!0,tracker:null,chart_data:null,volume_data:null,timerange:null,x:null,y:null,selection:null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){if(e.orders.length>0){for(var t=this.buildChartPoints(e.orders),a=new D.TimeSeries({name:"Chart",columns:["time","price"],points:t}),n=a.timerange(),r=[],i=0;i<e.orders.length;i++){var s=e.orders[i];if(i>0){var o=e.orders[i-1];s.raw_timestamp===o.raw_timestamp?r[r.length-1][1]+=s.curr_2:r.push([D.Index.getIndexString("1s",new Date(s.raw_timestamp)),s.curr_2])}else r.push([D.Index.getIndexString("1s",new Date(s.raw_timestamp)),s.curr_2])}r.reverse();var l=new D.TimeSeries({name:"Volume",columns:["index","volume"],points:r});this.setState({loading:!1,chart_data:a,volume_data:l,timerange:n})}}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillMount",value:function(){}},{key:"buildChartPoints",value:function(e){var t=e.map(function(e){return[e.raw_timestamp,e.price,e.curr_2]});return t.reverse(),t}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.chart_data,i=t.volume_data,s=t.timerange,o=this.props.currencies,l=r.a.createElement("div",{id:"Chart-loading"},"Loading...");if(n&&!a){var c=n.range().begin(),u=n.range().end();u.setHours(u.getHours()+6);var d=n.crop(s).min("price"),m=n.crop(s).max("price"),p=.1*(m-d),b=i.crop(s).max("volume");l=r.a.createElement(j.Resizable,null,r.a.createElement(j.ChartContainer,{timeRange:s,minTime:c,maxTime:u,timeAxisAngledLabels:!0,timeAxisHeight:80,paddingLeft:20,paddingRight:20,enablePanZoom:!0,minDuration:36e5,onTrackerChanged:this.handleTrackerChange,onBackgroundClick:function(){return e.setState({selection:null})},onTimeRangeChanged:this.handleTimeRangeChange,onMouseMove:function(t,a){return e.handleMouseMove(t,a)},showGrid:!0,style:{background:"#0b1215",borderStyle:"solid",borderWidth:1,borderColor:"#0b1215",paddingTop:"1em"},timeAxisStyle:{ticks:{stroke:"#AAA",opacity:.25,"stroke-dasharray":"1,1"},values:{fill:"#AAA","font-size":12}}},r.a.createElement(j.ChartRow,{height:"325"},r.a.createElement(j.YAxis,{id:"price",label:"Price ("+o[1]+" / "+o[0]+")",min:d-p,max:m+p,hideAxisLine:!0,showGrid:!0,width:"50",type:"linear",format:",.2f",style:{ticks:{stroke:"#AAA",opacity:.25,"stroke-dasharray":"1,1"}}}),r.a.createElement(j.Charts,null,r.a.createElement(j.LineChart,{axis:"price",series:n,columns:["price"],style:P,interpolation:"curveStepAfter",selection:this.state.selection,onSelectionChange:function(t){return e.setState({selection:t})}}),r.a.createElement(U,{x:this.state.x,y:this.state.y}))),r.a.createElement(j.ChartRow,{height:"75"},r.a.createElement(j.YAxis,{id:"amount",label:"Volume ("+o[1]+")",min:0,max:b,hideAxisLine:!0,showGrid:!0,width:"50",type:"linear",format:",.2r",style:{ticks:{stroke:"#AAA",opacity:.25,"stroke-dasharray":"1,1"}}}),r.a.createElement(j.Charts,null,r.a.createElement(j.BarChart,{axis:"amount",style:P,columns:["volume"],series:i})))))}return r.a.createElement("div",{className:"Chart"},l)}}]),t}(n.Component),F=(a(677),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,orders:[],stats:{num_users:"...",num_buys:"...",num_sells:"...",buy_volume:"...",sell_volume:"...",last_price:"...",last_type:"BUY"},subsciption:null},a.buildStat=a.buildStat.bind(Object(_.a)(Object(_.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.getPastOrders();case 3:return t=e.sent,this.setState({orders:t},this.updateStats),e.next=7,this.subscribeToEvents();case 7:a=e.sent,this.setState({subscription:a});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.state.subscription&&this.state.subscription.unsubscribe()}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.are_stats_updated(this.state.stats,t.stats)}},{key:"are_stats_updated",value:function(e,t){return e.num_users!==t.num_users||e.num_buys!==t.num_buys||e.num_sells!==t.num_sells||e.buy_volume!==t.buy_volume||e.sell_volume!==t.sell_volume||e.last_price!==t.last_price||e.last_type!==t.last_type}},{key:"updateStats",value:function(){for(var e={num_users:0,num_buys:0,num_sells:0,buy_volume:0,sell_volume:0,last_price:0,last_type:"BUY"},t={},a=this.state.orders,n=0;n<a.length;n++){var r=a[n];r.maker in t||(t[r.maker]=1,e.num_users+=1),r.taker in t||(t[r.taker]=1,e.num_users+=1),"BUY"===r.type?(e.num_buys+=1,e.buy_volume+=r.curr_2):"SELL"===r.type&&(e.num_sells+=1,e.sell_volume+=r.curr_2)}a.length>0&&(e.last_price=Math.round(1e3*a[0].price)/1e3,e.last_type=a[0].type,e.buy_volume=Math.round(100*e.buy_volume)/100,e.sell_volume=Math.round(100*e.sell_volume)/100);var i="\u25b2";"SELL"===e.last_type&&(i="\u25bc"),document.title=e.last_price+" "+i+" "+this.props.currencies[1]+"/"+this.props.currencies[0],this.setState({stats:e,loading:!1})}},{key:"subscribeToEvents",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d,m;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts.Market,i=n.web3,e.next=5,i.eth.getBlockNumber();case 5:return s=e.sent,o=n.contracts[a[0]].address,l=n.contracts[a[1]].address,c=i.utils.soliditySha3(o,l),u=i.utils.soliditySha3(l,o),d=new i.eth.Contract(r.abi,r.address),m=d.events.LogTake({filter:{pair:[c,u]},fromBlock:s}).on("data",function(e){var t=this.eventsToOrders([e]);this.setState({orders:t.concat(this.state.orders)},this.updateStats)}.bind(this)),e.abrupt("return",m);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){}},{key:"numberWithCommas",value:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"getType",value:function(e){var t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts[a[0]].address,i=n.contracts[a[1]].address,s=e.buy_gem,o=e.pay_gem;return s===r&&o===i?"SELL":s===i&&o===r?"BUY":null}},{key:"getPrice",value:function(e,t,a){var n=this.props.drizzle.web3;if(e=n.utils.toBN(e),t=n.utils.toBN(t),e.lte(n.utils.toBN("1000"))||t.lte(n.utils.toBN("1000")))return!1;var r=n.utils.toBN(n.utils.toWei("1","ether")),i=0;return"BUY"===a?[i=parseFloat(n.utils.fromWei(r.mul(e).div(t).toString(),"ether")),t=parseFloat(n.utils.fromWei(t.toString(),"ether")),e=parseFloat(n.utils.fromWei(e.toString(),"ether"))]:(i=parseFloat(n.utils.fromWei(r.mul(t).div(e).toString(),"ether")),t=parseFloat(n.utils.fromWei(t.toString(),"ether")),[i,e=parseFloat(n.utils.fromWei(e.toString(),"ether")),t])}},{key:"eventsToOrders",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a].returnValues,r=this.getType(n),i=n.give_amt.toString(),s=n.take_amt.toString(),o=this.getPrice(i,s,r);if(o){var l=new Date(1e3*n.timestamp);l=l.toLocaleTimeString()+" "+l.toLocaleDateString(),n={raw_timestamp:1e3*n.timestamp,timestamp:l,type:r,price:o[0],curr_1:o[1],curr_2:o[2],taker:n.taker,maker:n.maker},t.push(n)}}return t.reverse(),t}},{key:"getPastOrders",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d,m,p;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts.Market,i=n.web3,e.next=5,i.eth.getBlockNumber();case 5:return s=e.sent,o=n.contracts[a[0]].address,l=n.contracts[a[1]].address,c=i.utils.soliditySha3(o,l),u=i.utils.soliditySha3(l,o),d=new i.eth.Contract(r.abi,r.address),e.next=13,d.getPastEvents("LogTake",{filter:{pair:[c,u]},fromBlock:s-5760,toBlock:"latest"});case 13:return(m=e.sent).sort(function(e,t){return e.returnValues.timestamp-t.returnValues.timestamp}),p=this.eventsToOrders(m),e.abrupt("return",p);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"buildStat",value:function(e){if("..."===this.state.stats[e])return r.a.createElement("span",{className:"loading_value"},this.state.stats[e]);var t=null,a=this.numberWithCommas(this.state.stats[e]);return"buy_volume"!==e&&"sell_volume"!==e||(t="buy_volume"===e?"important-green":"important-red",a=r.a.createElement("span",{className:t+" value"},a.toString()," ",r.a.createElement("span",{className:"sub_value"},this.props.currencies[1]))),"num_buys"!==e&&"num_sells"!==e||(t="num_buys"===e?"important-green":"important-red",a=r.a.createElement("span",{className:t+" value"},a.toString())),"last_price"===e&&(t="BUY"===this.state.stats.last_type?"important-green":"important-red",a=r.a.createElement("span",{className:t+" value"},a.toString()," ",r.a.createElement("span",{className:"sub_value"},this.props.currencies[1]," / ",this.props.currencies[0]))),a}},{key:"render",value:function(){for(var e=this.state.orders,t=this.props.currencies,a=["num_users","num_buys","num_sells","buy_volume","sell_volume","last_price"],n={},i=0;i<a.length;i++){var s=a[i];n[s]=this.buildStat(s)}var o=r.a.createElement("div",{id:"Stats-chart"},r.a.createElement(Y,{orders:e,currencies:t}));return r.a.createElement("div",{className:"Stats"},o,r.a.createElement("div",{id:"Stats-statistics"},r.a.createElement(f.a,{id:"Stats-grid"},r.a.createElement(f.a.Row,null,r.a.createElement(f.a.Column,{mobile:8,tablet:4,computer:4,textAlign:"center"},r.a.createElement(I.a.Item,{className:"Stats-statistic"},r.a.createElement(I.a.Content,null,r.a.createElement(I.a.Header,{className:"Stats-header"},"# Buys"),r.a.createElement(I.a.Description,{className:"Stats-content"},n.num_buys)))),r.a.createElement(f.a.Column,{mobile:8,tablet:4,computer:4,textAlign:"center"},r.a.createElement(I.a.Item,{className:"Stats-statistic"},r.a.createElement(I.a.Content,null,r.a.createElement(I.a.Header,{className:"Stats-header"},"Buy Vol."),r.a.createElement(I.a.Description,{className:"Stats-content"},n.buy_volume)))),r.a.createElement(f.a.Column,{mobile:8,tablet:4,computer:4,textAlign:"center"},r.a.createElement(I.a.Item,{className:"Stats-statistic"},r.a.createElement(I.a.Content,null,r.a.createElement(I.a.Header,{className:"Stats-header"},"# Sells"),r.a.createElement(I.a.Description,{className:"Stats-content"},n.num_sells)))),r.a.createElement(f.a.Column,{mobile:8,tablet:4,computer:4,textAlign:"center"},r.a.createElement(I.a.Item,{className:"Stats-statistic"},r.a.createElement(I.a.Content,null,r.a.createElement(I.a.Header,{className:"Stats-header"},"Sell Vol."),r.a.createElement(I.a.Description,{className:"Stats-content"},n.sell_volume)))),r.a.createElement(f.a.Column,{mobile:8,tablet:8,computer:8,textAlign:"center"},r.a.createElement(I.a.Item,{className:"Stats-statistic"},r.a.createElement(I.a.Content,null,r.a.createElement(I.a.Header,{className:"Stats-header"},"Last Price"),r.a.createElement(I.a.Description,{className:"Stats-content"},n.last_price)))),r.a.createElement(f.a.Column,{mobile:8,tablet:8,computer:8,textAlign:"center"},r.a.createElement(I.a.Item,{className:"Stats-statistic"},r.a.createElement(I.a.Content,null,r.a.createElement(I.a.Header,{className:"Stats-header"},"# Users"),r.a.createElement(I.a.Description,{className:"Stats-content"},n.num_users))))))))}}]),t}(n.Component)),G=(a(679),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,orders:[],max_order:null,subsciption:null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.getPastOrders();case 3:return t=e.sent,a=Math.max.apply(Math,t.map(function(e){return e.curr_2})),this.setState({orders:t,max_order:a,loading:!1}),e.next=8,this.subscribeToEvents();case 8:n=e.sent,this.setState({subscription:n});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.state.subscription&&this.state.subscription.unsubscribe()}},{key:"subscribeToEvents",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d,m;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts.Market,i=n.web3,e.next=5,i.eth.getBlockNumber();case 5:return s=e.sent,o=n.contracts[a[0]].address,l=n.contracts[a[1]].address,c=i.utils.soliditySha3(o,l),u=i.utils.soliditySha3(l,o),d=new i.eth.Contract(r.abi,r.address),m=d.events.LogTake({filter:{pair:[c,u]},fromBlock:s}).on("data",function(e){var t=this.eventsToOrders([e]);this.setState({orders:t.concat(this.state.orders)})}.bind(this)),e.abrupt("return",m);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){}},{key:"numberWithCommas",value:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"getType",value:function(e){var t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts[a[0]].address,i=n.contracts[a[1]].address,s=e.buy_gem,o=e.pay_gem;return s===r&&o===i?"SELL":s===i&&o===r?"BUY":null}},{key:"getPrice",value:function(e,t,a){var n=0;return"BUY"===a?[n=Math.round(e/t*1e3)/1e3,t=Math.round(1e3*t)/1e3,e=Math.round(1e3*e)/1e3]:(n=Math.round(t/e*1e3)/1e3,t=Math.round(1e3*t)/1e3,[n,e=Math.round(1e3*e)/1e3,t])}},{key:"eventsToOrders",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a].returnValues,r=this.getType(n),i=this.props.drizzle.web3.utils.fromWei(n.give_amt.toString(),"ether"),s=this.props.drizzle.web3.utils.fromWei(n.take_amt.toString(),"ether"),o=this.getPrice(i,s,r),l=new Date(1e3*n.timestamp);n={timestamp:l=l.toLocaleTimeString()+" "+l.toLocaleDateString(),type:r,price:o[0],curr_1:o[1],curr_2:o[2],taker:n.taker,maker:n.maker},t.push(n)}return t.reverse(),t}},{key:"getPastOrders",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d,m,p;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts.Market,i=n.web3,e.next=5,i.eth.getBlockNumber();case 5:return s=e.sent,o=n.contracts[a[0]].address,l=n.contracts[a[1]].address,c=i.utils.soliditySha3(o,l),u=i.utils.soliditySha3(l,o),d=new i.eth.Contract(r.abi,r.address),e.next=13,d.getPastEvents("LogTake",{filter:{pair:[c,u]},fromBlock:s-2e3,toBlock:"latest"});case 13:return(m=e.sent).sort(function(e,t){return e.returnValues.timestamp-t.returnValues.timestamp}),p=this.eventsToOrders(m),e.abrupt("return",p);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.orders,i=t.max_order,s=this.props,o=s.currencies,l=s.drizzle,c=null,u=null;return a?u=r.a.createElement("div",{id:"MarketHistory-empty"},"Loading..."):0===n.length?u=r.a.createElement("div",{id:"MarketHistory-empty"},"NO ORDERS"):c=r.a.createElement(S.a.Body,{id:"MarketHistory-tableBody"},n.map(function(t,a){var n=t.curr_2/i*100,s="rgba(255, 0, 0, 0.2)",o="rgba(0,0,0,0)";"BUY"===t.type&&(s="rgba(0, 255, 0, 0.1)",o="rgba(0, 0, 0, 0)");var c={backgroundImage:"linear-gradient(to ".concat("right",", ").concat(s," , ").concat(s,"), linear-gradient(to ").concat("right",", ").concat(o,", ").concat(o,")"),backgroundSize:"calc(".concat(n,"%) 100%"),backgroundRepeat:"no-repeat"},u="BUY"===t.type?r.a.createElement("span",{className:"green MarketHistory-type"},"BUY"):r.a.createElement("span",{className:"red MarketHistory-type"},"SELL"),d=r.a.createElement("div",{className:"MarketHistory-participants"},r.a.createElement("div",{className:"MarketHistory-taker"},r.a.createElement(w,{drizzle:l,icon_only:!0,address:t.taker})),r.a.createElement("div",{className:"MarketHistory-arrow"},r.a.createElement(k.a,{size:"large",name:"long arrow alternate right"})),r.a.createElement("div",{className:"MarketHistory-maker"},r.a.createElement(w,{drizzle:l,icon_only:!0,address:t.maker})));return r.a.createElement(S.a.Row,{key:a,style:c},r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MarketHistory-table-entry"},u)),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MarketHistory-table-entry"},t.timestamp)),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MarketHistory-table-entry"},d)),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MarketHistory-table-entry"},e.numberWithCommas(t.price))),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MarketHistory-table-entry"},e.numberWithCommas(t.curr_1))),r.a.createElement(S.a.Cell,{textAlign:"left"},r.a.createElement("div",{className:"MarketHistory-table-entry"},e.numberWithCommas(t.curr_2))))})),r.a.createElement("div",{className:"MarketHistory"},r.a.createElement(S.a,{striped:!0,basic:!0,celled:!0,unstackable:!0,id:"MarketHistory-table"},r.a.createElement(S.a.Header,null,r.a.createElement(S.a.Row,null,r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},"Type"),r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},"Time"),r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},"Participants"),r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},"Price"),r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},o[0]),r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},o[1]))),c),u)}}]),t}(n.Component)),K=(a(681),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,data:[],direction:"ascending",column:"profit"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.getPastOrders();case 3:t=e.sent,this.setState({data:t,loading:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){}},{key:"numberWithCommas",value:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"getType",value:function(e){var t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts[a[0]].address,i=n.contracts[a[1]].address,s=e.buy_gem,o=e.pay_gem;return s===r&&o===i?"SELL":s===i&&o===r?"BUY":null}},{key:"getPrice",value:function(e,t,a){var n=this.props.drizzle.web3;if(e=n.utils.toBN(e),t=n.utils.toBN(t),e.lte(n.utils.toBN("1000"))||t.lte(n.utils.toBN("1000")))return!1;var r=n.utils.toBN(n.utils.toWei("1","ether"));return"BUY"===a?[n.utils.fromWei(r.mul(e).div(t).toString(),"ether"),t,e]:[n.utils.fromWei(r.mul(t).div(e).toString(),"ether"),e,t]}},{key:"newUserProfile",value:function(e){var t=this.props.drizzle.web3;return{address:e,amount_0_given:t.utils.toBN("0"),amount_1_received:t.utils.toBN("0"),amount_1_given:t.utils.toBN("0"),amount_0_received:t.utils.toBN("0")}}},{key:"getProfit",value:function(e,t){var a=this.props.drizzle.web3;if(e&&t){var n=t[1],r=e[1],i=t[0],s=e[0],o=r.lt(n)?a.utils.fromWei(r.toString(),"ether"):a.utils.fromWei(n.toString(),"ether");return Math.round(o*(i-s)*100)/100}return 0}},{key:"eventsToData",value:function(e){for(var t=this.props.drizzle.web3,a={},n=0;n<e.length;n++){var r=e[n].returnValues,i=this.getType(r),s=r.give_amt.toString(),o=r.take_amt.toString(),l=this.getPrice(s,o,i);if(l){var c=r.maker,u=r.taker,d=null,m=null;r={price:l[0],curr_0:l[1],curr_1:l[2]},c in a||(a[c]=this.newUserProfile(c)),u in a||(a[u]=this.newUserProfile(u)),"BUY"===i?(d=u,m=c):(d=c,m=u);var p=a[d];console.log(p.amount_1_given),console.log(r),p.amount_1_given=p.amount_1_given.add(r.curr_1),p.amount_0_received=p.amount_0_received.add(r.curr_0),a[d]=p,(p=a[m]).amount_0_given=p.amount_0_given.add(r.curr_0),p.amount_1_received=p.amount_1_received.add(r.curr_1),a[m]=p}}var b=[];for(var y in a){var h=this.getPrice(a[y].amount_1_given,a[y].amount_0_received,"BUY"),f=h?Math.round(10*h[0].toString())/10:"N/A",v=this.getPrice(a[y].amount_0_given,a[y].amount_1_received,"SELL"),E=v?Math.round(10*v[0].toString())/10:"N/A",g=this.getProfit(h,v),_={user:y,amount_0_bought:Math.round(10*t.utils.fromWei(a[y].amount_0_received.toString(),"ether"))/10,avg_buy_price:f,amount_0_sold:Math.round(10*t.utils.fromWei(a[y].amount_0_given.toString(),"ether"))/10,avg_sell_price:E,profit:g};b.push(_)}return b.sort(function(e,t){return t.profit-e.profit}),b}},{key:"getPastOrders",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d,m,p;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts.Market,i=n.web3,e.next=5,i.eth.getBlockNumber();case 5:return s=e.sent,o=n.contracts[a[0]].address,l=n.contracts[a[1]].address,c=i.utils.soliditySha3(o,l),u=i.utils.soliditySha3(l,o),d=new i.eth.Contract(r.abi,r.address),e.next=13,d.getPastEvents("LogTake",{filter:{pair:[c,u]},fromBlock:s-5760,toBlock:"latest"});case 13:return m=e.sent,p=this.eventsToData(m),e.abrupt("return",p);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(e){var t=this.state,a=t.column,n=t.data,r=t.direction;if(a!==e){var i=n.concat().sort(function(t,a){return"N/A"===t[e]?1:"N/A"===a[e]?-1:a[e]-t[e]});this.setState({column:e,data:i,direction:"ascending"})}else this.setState({data:n.reverse(),direction:"ascending"===r?"descending":"ascending"})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.data,i=t.column,s=t.direction,o=this.props,l=o.currencies,c=o.drizzle,u=null,d=null;return a?d=r.a.createElement("div",{id:"Leaderboard-empty"},"Loading..."):0===n.length?d=r.a.createElement("div",{id:"Leaderboard-empty"},"NO DATA"):u=r.a.createElement(S.a.Body,{id:"Leaderboard-tableBody"},n.map(function(e,t){var a="grey";return e.profit>0?a="green":e.profit<0&&(a="red"),r.a.createElement(S.a.Row,{key:t},r.a.createElement(S.a.Cell,{width:6},r.a.createElement("div",{className:"Leaderboard-table-entry"},r.a.createElement(w,{address:e.user,drizzle:c}))),r.a.createElement(S.a.Cell,{width:2},r.a.createElement("div",{className:"Leaderboard-table-entry"},e.amount_0_bought+" "+l[0])),r.a.createElement(S.a.Cell,{width:2},r.a.createElement("div",{className:"Leaderboard-table-entry"},e.avg_buy_price)),r.a.createElement(S.a.Cell,{width:2},r.a.createElement("div",{className:"Leaderboard-table-entry"},e.amount_0_sold+" "+l[0])),r.a.createElement(S.a.Cell,{width:2},r.a.createElement("div",{className:"Leaderboard-table-entry"},e.avg_sell_price)),r.a.createElement(S.a.Cell,{width:2},r.a.createElement("div",{className:"Leaderboard-table-entry"},r.a.createElement("span",{className:a},e.profit+" "+l[1]))))})),r.a.createElement("div",{className:"Leaderboard"},r.a.createElement(S.a,{striped:!0,basic:!0,celled:!0,unstackable:!0,sortable:!0,id:"Leaderboard-table"},r.a.createElement(S.a.Header,null,r.a.createElement(S.a.Row,null,r.a.createElement(S.a.HeaderCell,{className:"Leaderboard-table-header",textAlign:"left"},"Name"),r.a.createElement(S.a.HeaderCell,{sorted:"amount_0_bought"===i?s:null,onClick:function(){return e.handleSort("amount_0_bought")},className:"Leaderboard-table-header",textAlign:"left"},"# Bought"),r.a.createElement(S.a.HeaderCell,{sorted:"avg_buy_price"===i?s:null,onClick:function(){return e.handleSort("avg_buy_price")},className:"Leaderboard-table-header",textAlign:"left"},"Avg. Buy"),r.a.createElement(S.a.HeaderCell,{sorted:"amount_0_sold"===i?s:null,onClick:function(){return e.handleSort("amount_0_sold")},className:"Leaderboard-table-header",textAlign:"left"},"# Sold"),r.a.createElement(S.a.HeaderCell,{sorted:"avg_sell_price"===i?s:null,onClick:function(){return e.handleSort("avg_sell_price")},className:"Leaderboard-table-header",textAlign:"left"},"Avg. Sell"),r.a.createElement(S.a.HeaderCell,{sorted:"profit"===i?s:null,onClick:function(){return e.handleSort("profit")},className:"Leaderboard-table-header",textAlign:"left"},"Profit"))),u),d)}}]),t}(n.Component)),V=(a(683),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,orders:[],max_order:null,subscriptions:null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.getPastOrders();case 3:return t=e.sent,a=Math.max.apply(Math,t.map(function(e){return e.curr_2})),this.setState({orders:t,max_order:a,loading:!1}),e.next=8,this.subscribeToEvents();case 8:n=e.sent,this.setState({subscriptions:n});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.state.subscriptions&&(this.state.subscriptions[0].unsubscribe(),this.state.subscriptions[1].unsubscribe())}},{key:"subscribeToEvents",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d,m,p,b,y;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.currencies,n=t.drizzle,r=t.drizzleState,i=n.contracts.Market,s=r.accounts[0],o=n.web3,e.next=6,o.eth.getBlockNumber();case 6:return l=e.sent,c=n.contracts[a[0]].address,u=n.contracts[a[1]].address,d=o.utils.soliditySha3(c,u),m=o.utils.soliditySha3(u,c),p=new o.eth.Contract(i.abi,i.address),b=p.events.LogTake({filter:{pair:[d,m],taker:s},fromBlock:l}).on("data",function(e){var t=this.eventsToOrders([e]);this.setState({orders:t.concat(this.state.orders)})}.bind(this)),y=p.events.LogTake({filter:{pair:[d,m],maker:s},fromBlock:l}).on("data",function(e){var t=this.eventsToOrders([e]);this.setState({orders:t.concat(this.state.orders)})}.bind(this)),e.abrupt("return",[b,y]);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"numberWithCommas",value:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"getType",value:function(e){var t=this.props,a=t.currencies,n=t.drizzle,r=n.contracts[a[0]].address,i=n.contracts[a[1]].address,s=e.buy_gem,o=e.pay_gem,l=null;if(s===r&&o===i)l="SELL";else{if(s!==i||o!==r)return null;l="BUY"}return l}},{key:"getPrice",value:function(e,t,a){var n=0;return"BUY"===a?[n=Math.round(e/t*1e3)/1e3,t=Math.round(1e3*t)/1e3,e=Math.round(1e3*e)/1e3]:(n=Math.round(t/e*1e3)/1e3,t=Math.round(1e3*t)/1e3,[n,e=Math.round(1e3*e)/1e3,t])}},{key:"eventsToOrders",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a].returnValues,r=this.getType(n),i=this.props.drizzle.web3.utils.fromWei(n.give_amt.toString(),"ether"),s=this.props.drizzle.web3.utils.fromWei(n.take_amt.toString(),"ether"),o=this.getPrice(i,s,r),l=r;"maker"===e[a].role&&(l="BUY"===l?"SELL":"BUY");var c=new Date(1e3*n.timestamp);n={timestamp:c=c.toLocaleTimeString()+" "+c.toLocaleDateString(),type:l,price:o[0],curr_1:o[1],curr_2:o[2],taker:n.taker,maker:n.maker},t.push(n)}return t.reverse(),t}},{key:"getPastOrders",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d,m,p,b,y,h,f;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.currencies,n=t.drizzle,r=t.drizzleState,i=n.contracts.Market,s=r.accounts[0],o=n.web3,e.next=6,o.eth.getBlockNumber();case 6:return l=e.sent,c=n.contracts[a[0]].address,u=n.contracts[a[1]].address,d=o.utils.soliditySha3(c,u),m=o.utils.soliditySha3(u,c),p=new o.eth.Contract(i.abi,i.address),e.next=14,p.getPastEvents("LogTake",{filter:{pair:[d,m],taker:s},fromBlock:l-25e3,toBlock:"latest"});case 14:return b=(b=e.sent).map(function(e){return e.role="taker",e}),e.next=18,p.getPastEvents("LogTake",{filter:{pair:[d,m],maker:s},fromBlock:l-25e3,toBlock:"latest"});case 18:return y=(y=e.sent).map(function(e){return e.role="maker",e}),(h=y.concat(b)).sort(function(e,t){return e.returnValues.timestamp-t.returnValues.timestamp}),f=this.eventsToOrders(h),e.abrupt("return",f);case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.orders,i=t.max_order,s=this.props,o=s.currencies,l=s.drizzle,c=null,u=null;return a?u=r.a.createElement("div",{id:"MarketHistory-empty"},"Loading..."):0===n.length?u=r.a.createElement("div",{id:"MarketHistory-empty"},"NO ORDERS"):c=r.a.createElement(S.a.Body,{id:"MarketHistory-tableBody"},n.map(function(t,a){var n=t.curr_2/i*100,s="rgba(255, 0, 0, 0.2)",o="rgba(0,0,0,0)";"BUY"===t.type&&(s="rgba(0, 255, 0, 0.1)",o="rgba(0, 0, 0, 0)");var c={backgroundImage:"linear-gradient(to ".concat("right",", ").concat(s," , ").concat(s,"), linear-gradient(to ").concat("right",", ").concat(o,", ").concat(o,")"),backgroundSize:"calc(".concat(n,"%) 100%"),backgroundRepeat:"no-repeat"},u="BUY"===t.type?r.a.createElement("span",{className:"green MarketHistory-type"},"BUY"):r.a.createElement("span",{className:"red MarketHistory-type"},"SELL");return r.a.createElement(S.a.Row,{key:a,style:c},r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MarketHistory-table-entry"},u)),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MarketHistory-table-entry"},t.timestamp)),r.a.createElement(S.a.Cell,{width:1},r.a.createElement("div",{className:"MarketHistory-table-entry"},r.a.createElement(w,{address:t.taker,icon_only:!0,drizzle:l}))),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MarketHistory-table-entry"},e.numberWithCommas(t.price))),r.a.createElement(S.a.Cell,null,r.a.createElement("div",{className:"MarketHistory-table-entry"},e.numberWithCommas(t.curr_1))),r.a.createElement(S.a.Cell,{textAlign:"left"},r.a.createElement("div",{className:"MarketHistory-table-entry"},e.numberWithCommas(t.curr_2))))})),r.a.createElement("div",{className:"MarketHistory"},r.a.createElement(S.a,{striped:!0,basic:!0,celled:!0,unstackable:!0,id:"MarketHistory-table"},r.a.createElement(S.a.Header,null,r.a.createElement(S.a.Row,null,r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},"Type"),r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},"Time"),r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},"Taker"),r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},"Price"),r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},o[0]),r.a.createElement(S.a.HeaderCell,{className:"MarketHistory-table-header",textAlign:"left"},o[1]))),c),u)}}]),t}(n.Component)),J=a(965),Z=a(946),q=(a(685),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).executeTrade=function(e){var t=a.props,n=t.drizzle,r=t.drizzleState,i=t.sidebar_info,s=r.accounts[0],o=n.web3,l=i.id,c={id:l,will_receive:e.toString(),will_receive_wholenums:o.utils.fromWei(e.toString(),"ether")};console.log(c),n.contracts.Market.methods.buy(l,e.toString()).send({from:s,gasPrice:o.utils.toWei("5","gwei")}).on("receipt",a.flashSuccess).on("error",a.flashError),a.setState({button_loading:!0})},a.state={loading:!1,visible:!1,amount:"0",ui_amount:"",currency_0_balance:"0",currency_1_balance:"0",id:null,info:null,owner:null,bignumbers:{},button_loading:!1,button_success:!1,button_error:!1},a.updateInfo=a.updateInfo.bind(Object(_.a)(Object(_.a)(a))),a.stopLoading=a.stopLoading.bind(Object(_.a)(Object(_.a)(a))),a.flashError=a.flashError.bind(Object(_.a)(Object(_.a)(a))),a.flashSuccess=a.flashSuccess.bind(Object(_.a)(Object(_.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.generateBigNumbers(),this.updateInfo()}},{key:"updateInfo",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.drizzle,n=t.drizzleState,r=t.currencies,!this.state.visible||!this.state.id){e.next=16;break}return i=n.accounts[0],e.next=5,a.contracts[r[0]].methods.balanceOf(i).call();case 5:return s=e.sent,e.next=8,a.contracts[r[1]].methods.balanceOf(i).call();case 8:return o=e.sent,e.next=11,a.contracts.Market.methods.getOffer(this.state.id).call();case 11:return l=e.sent,e.next=14,a.contracts.Market.methods.getOwner(this.state.id).call();case 14:c=e.sent,this.setState({currency_0_balance:s,currency_1_balance:o,info:l,owner:c});case 16:setTimeout(this.updateInfo,1e3);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"generateBigNumbers",value:function(){for(var e={},t=0;t<=10;t++){var a=t;e[a]=this.props.drizzle.web3.utils.toBN(a)}this.setState({bignumbers:e})}},{key:"stopLoading",value:function(){this.setState({loading:!1})}},{key:"componentWillReceiveProps",value:function(){var e=Object(g.a)(E.a.mark(function e(t){var a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.visible!==this.props.visible&&(this.setState({visible:t.visible}),!1===t.visible&&this.setState({info:null,owner:null,amount:"0",ui_amount:"",button_success:!1,button_error:!1,button_loading:!1})),t.sidebar_info===this.props.sidebar_info){e.next=11;break}return this.setState({loading:!0}),e.next=5,this.props.drizzle.contracts.Market.methods.getOffer(t.sidebar_info.id).call();case 5:return a=e.sent,e.next=8,this.props.drizzle.contracts.Market.methods.getOwner(t.sidebar_info.id).call();case 8:n=e.sent,this.setState({id:t.sidebar_info.id,info:a,owner:n,amount:"0",ui_amount:""}),setTimeout(this.stopLoading,150);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"flashSuccess",value:function(){var e=this.props.toggleSidebar;this.setState({button_success:!0,button_loading:!1}),setTimeout(e,1500)}},{key:"flashError",value:function(){var e=this;this.setState({button_error:!0,button_loading:!1}),setTimeout(function(){return e.setState({button_error:!1})},1500)}},{key:"numberWithCommas",value:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"handleUserChange",value:function(e){var t=0;try{/\S/.test(e)&&(t=this.props.drizzle.web3.utils.toWei(e.toString(),"ether").toString())}catch(a){return void console.log(a)}this.setState({ui_amount:e,amount:t})}},{key:"handleAmountPercentageChange",value:function(e){var t=this.props.drizzle.web3.utils.fromWei(e.toString(),"ether");this.setState({amount:e.toString(),ui_amount:t})}},{key:"getUpdatedInfo",value:function(){var e=this.state.info,t=this.props.sidebar_info;if(!e)return null;var a=e[0],n=e[2];return"BUY"===t.type?{price:t.price,curr_0_amt:n.toString(),curr_1_amt:a.toString()}:{price:t.price,curr_0_amt:a.toString(),curr_1_amt:n.toString()}}},{key:"calcWillReceive",value:function(){var e=this.props.drizzle,t=this.state.amount,a=e.web3,n=a.utils.toBN(this.state.info[0]),r=a.utils.toBN(this.state.info[2]),i=a.utils.toBN(t);try{return i.mul(n).div(r)}catch(s){return a.utils.toBN("0")}}},{key:"getMaxTake",value:function(){var e=this.props,t=e.sidebar_info,a=e.drizzle,n=this.state,r=n.info,i=n.currency_0_balance,s=n.currency_1_balance,o=a.web3,l=o.utils.toBN(r[2]),c="BUY"===t.type?o.utils.toBN(i):o.utils.toBN(s);return c.lt(l)?c:l}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.amount,i=t.ui_amount,s=t.currency_0_balance,o=t.currency_1_balance,l=t.bignumbers,c=t.loading,u=t.button_loading,d=t.button_error,m=t.button_success,p=t.owner,b=this.props,y=b.currencies,h=b.toggleSidebar,f=b.sidebar_info,v=b.drizzle,E=b.drizzleState,g=this.props.drizzle.web3,_="BUY"===f.type?"SELL":"BUY",S="BUY"===_?r.a.createElement("span",{className:"green"},_):r.a.createElement("span",{className:"red"},"SELL"),N=this.getUpdatedInfo();if(!N||c)return r.a.createElement("div",{className:"Side_bar"},r.a.createElement(J.a,{as:Z.a,animation:"overlay",direction:"right",visible:a,id:"Side_bar"},r.a.createElement("div",{id:"Side_bar-x-container"},r.a.createElement(k.a,{name:"close",onClick:h,id:"Side_bar-x",size:"large"})),r.a.createElement("div",{id:"Side_bar-title"},"Take Order"),r.a.createElement(R.a,{active:!0},"Loading")));var O={currency:null,receive_currency:null,balance:0,offered:0,max_take:this.getMaxTake(),will_receive:this.calcWillReceive(),maker:p?r.a.createElement(w,{drizzle:v,drizzleState:E,address:p}):"Loading..."};O.ui_will_receive=Math.round(1e3*g.utils.fromWei(O.will_receive.toString()))/1e3,"BUY"===_?(O.currency=y[1],O.receive_currency=y[0],O.balance=g.utils.toBN(o),O.ui_balance=Math.round(1e3*g.utils.fromWei(o.toString(),"ether"))/1e3,O.offered=g.utils.toBN(N.curr_1_amt),O.ui_offered=Math.round(1e3*g.utils.fromWei(N.curr_1_amt,"ether"))/1e3):(O.currency=y[0],O.receive_currency=y[1],O.balance=g.utils.toBN(s),O.ui_balance=Math.round(1e3*g.utils.fromWei(s.toString(),"ether"))/1e3,O.offered=g.utils.toBN(N.curr_0_amt),O.ui_offered=Math.round(1e3*g.utils.fromWei(N.curr_0_amt,"ether"))/1e3);var A=_+" "+y[0];return A=m?"SUCCESS":A,A=d?"FAILED":A,r.a.createElement("div",{className:"Side_bar"},r.a.createElement(J.a,{as:Z.a,animation:"overlay",direction:"right",visible:a,id:"Side_bar"},r.a.createElement("div",{id:"Side_bar-x-container"},r.a.createElement(k.a,{name:"close",onClick:h,id:"Side_bar-x",size:"large"})),r.a.createElement("div",{id:"Side_bar-title"},"Take Order"),r.a.createElement("div",{id:"Side_bar-subtitle"},"How much would you like to ",S,"?"),r.a.createElement("div",{id:"Side_bar-info"},r.a.createElement("div",{className:"Side_bar-info-item"},r.a.createElement("div",{className:"Side_bar-info-title"},"Maker:"),r.a.createElement("div",{className:"Side_bar-info-content"},O.maker)),r.a.createElement("div",{className:"Side_bar-info-item"},r.a.createElement("div",{className:"Side_bar-info-title"},"Price:"),r.a.createElement("div",{className:"Side_bar-info-content"},this.numberWithCommas(N.price)," ",r.a.createElement("span",{id:"Side_bar-exchange"},y[1]," / ",y[0]))),r.a.createElement("div",{className:"Side_bar-info-item"},r.a.createElement("div",{className:"Side_bar-info-title"},"Balance ",O.currency,":"),r.a.createElement("div",{className:"Side_bar-info-content"},this.numberWithCommas(O.ui_balance)," ",r.a.createElement("span",{id:"Side_bar-exchange"},O.currency))),r.a.createElement("div",{className:"Side_bar-info-item"},r.a.createElement("div",{className:"Side_bar-info-title"},"Offered ",O.currency,":"),r.a.createElement("div",{className:"Side_bar-info-content"},this.numberWithCommas(O.ui_offered)," ",r.a.createElement("span",{id:"Side_bar-exchange"},O.currency)))),r.a.createElement(L.a,{size:"tiny",id:"Side_bar-form"},r.a.createElement(L.a.Field,null,r.a.createElement("div",null,r.a.createElement("div",{className:"Side_bar-info-title"},"Spend ",O.currency,":"),r.a.createElement(x.a,{label:{basic:!0,content:O.currency},labelPosition:"right",placeholder:"Enter Amount...",value:i,onChange:function(t){e.handleUserChange(t.target.value)}}))),r.a.createElement(B.a.Group,{id:"Side_bar-mini-buttons",size:"mini",basic:!0},r.a.createElement(B.a,{onClick:function(){return e.handleUserChange("")}},"0%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(O.max_take.div(l[4]))}},"25%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(O.max_take.div(l[2]))}},"50%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(O.max_take.mul(l[3]).div(l[4]))}},"75%"),r.a.createElement(B.a,{onClick:function(){return e.handleAmountPercentageChange(O.max_take)}},"100%"))),r.a.createElement("div",{className:"Side_bar-info-item"},r.a.createElement("div",{className:"Side_bar-info-title"},"Will Receive"),r.a.createElement("div",{className:"Side_bar-info-content"},O.ui_will_receive.toString()+" "+O.receive_currency)),r.a.createElement(B.a,{className:"BuySell-button",loading:u,color:"BUY"===_?"green":"red",disabled:A!==_+" "+y[0]||O.will_receive.lte(g.utils.toBN("1000"))||g.utils.toBN(n).gt(O.max_take),onClick:function(){return e.executeTrade(O.will_receive)}},A)))}}]),t}(n.Component)),X=(a(687),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).setSidebar=function(e){a.setState({sidebar_info:e,visible:!0})},a.toggleSidebar=function(){a.setState({visible:!a.state.visible})},a.state={currencies:[],visible:!1,sidebar_info:{price:0,curr_0_amt:0,curr_1_amt:0,id:"",type:""},keys:{numBuys:null,numSells:null}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.pair.split("_");this.setState({currencies:e})}},{key:"componentDidMount",value:function(){var e=this.props.drizzle,t=this.state.currencies,a=e.contracts[t[0]].address,n=e.contracts[t[1]].address,r=e.contracts.Market.methods.getOfferCount.cacheCall(n,a),i=e.contracts.Market.methods.getOfferCount.cacheCall(a,n),s=Object.assign({},this.state.keys);s.numBuys=r,s.numSells=i,this.setState({currencies:t,keys:s})}},{key:"render",value:function(){var e=this.state,t=e.currencies,a=e.keys,n=e.visible,i=e.sidebar_info,s=this.props.drizzleState.contracts.Market,o=this.props,l=o.drizzle,c=o.drizzleState,u="Market: ";2===t.length&&(u=u+t[0]+"/"+t[1]);var d="Loading...",m="Loading...";a.numBuys in s.getOfferCount&&(d=s.getOfferCount[a.numBuys].value),a.numSells in s.getOfferCount&&(m=s.getOfferCount[a.numSells].value),d||(d="Error..."),m||(m="Error...");var p=[{menuItem:"Open Orders",render:function(){return r.a.createElement(h.a.Pane,{className:"Market-tab-pane"},r.a.createElement(H,{currencies:t,drizzle:l,drizzleState:c}))}},{menuItem:"My History",render:function(){return r.a.createElement(h.a.Pane,{className:"Market-tab-pane"},r.a.createElement(V,{currencies:t,drizzle:l,drizzleState:c}))}},{menuItem:"Market History",render:function(){return r.a.createElement(h.a.Pane,{className:"Market-tab-pane"},r.a.createElement(G,{currencies:t,drizzle:l,drizzleState:c}))}},{menuItem:"24HR Leaderboard",render:function(){return r.a.createElement(h.a.Pane,{className:"Market-tab-pane"},r.a.createElement(K,{currencies:t,drizzle:l,drizzleState:c}))}}],b=[{menuItem:"Limit Order",render:function(){return r.a.createElement(h.a.Pane,{className:"Market-tab-pane"},r.a.createElement(T,{currencies:t,drizzle:l,drizzleState:c}))}},{menuItem:"Market Order",render:function(){return r.a.createElement(h.a.Pane,{className:"Market-tab-pane"},r.a.createElement(W,{currencies:t,drizzle:l,drizzleState:c}))}}];return r.a.createElement("div",{className:"Market"},r.a.createElement(q,{currencies:t,toggleSidebar:this.toggleSidebar,sidebar_info:i,visible:n,drizzle:l,drizzleState:c}),r.a.createElement("div",{id:"Market-title"},r.a.createElement("span",{className:"Market-h1"},u)),r.a.createElement("div",{className:"Market-headers"},"24-Hour Market Stats"),r.a.createElement("div",{id:"Market-stats"},r.a.createElement(F,{currencies:t,drizzle:l,drizzleState:c})),r.a.createElement("div",{className:"Market-headers"},"Order Center"),r.a.createElement("div",{id:"Market-buysell"},r.a.createElement(h.a,{menu:{fluid:!0,tabular:!0,attached:"top"},panes:b})),r.a.createElement("div",{className:"Market-headers"},"Activity Center"),r.a.createElement("div",{id:"Market-activity-pane"},r.a.createElement(y.a,{minWidth:y.a.onlyTablet.minWidth},r.a.createElement(h.a,{menu:{fluid:!0,tabular:!0,attached:"top"},panes:p})),r.a.createElement(y.a,{maxWidth:y.a.onlyTablet.minWidth},r.a.createElement(h.a,{menu:{fluid:!0,tabular:!0,attached:"top"},panes:p.slice(0,3)}))),r.a.createElement(f.a,{divided:!0,id:"Market-orderlists"},r.a.createElement(f.a.Row,null,r.a.createElement(f.a.Column,{className:"Market-orderlist",computer:8,tablet:8,mobile:16},r.a.createElement("div",{className:"Market-headers"},t[0]," ",r.a.createElement("span",{className:"green"},"Buy")," Orders (",d,")"),r.a.createElement(z,{currencies:t,type:"BUY",drizzle:l,drizzleState:c,setSidebar:this.setSidebar})),r.a.createElement(f.a.Column,{className:"Market-orderlist",computer:8,tablet:8,mobile:16},r.a.createElement("div",{className:"Market-headers"},t[0]," ",r.a.createElement("span",{className:"red"},"Sell")," Orders (",m,")"),r.a.createElement(z,{currencies:t,type:"SELL",drizzle:l,drizzleState:c,setSidebar:this.setSidebar})))))}}]),t}(n.Component)),Q=a(970),$=(a(701),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{id:"Home"},r.a.createElement(Q.a,{transitionOnMount:!0,animation:"fade up",duration:1500},r.a.createElement("div",{id:"Home-title"},"OasisX")),r.a.createElement(Q.a,{transitionOnMount:!0,animation:"fade up",duration:3500},r.a.createElement("div",{id:"Home-subtitle"},"The fastest UI for Oasis.")))}}]),t}(n.Component)),ee=a(958),te=a(944),ae=a(961),ne=(a(706),a(340)),re=a.n(ne),ie=a(966),se=a(954),oe=(a(708),a(710),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onWrap=function(){var e=a.props.drizzle.contracts.WETH.methods.deposit,t=a.props.drizzleState.accounts[0],n=a.state.amount_wrap,r=a.props.drizzle.web3;if(n&&n>0){var i=a.state.loading;i[0]=!0,a.setState({loading:i}),console.log("SENDING "+n+" TO WRAPPER..."),e().send({value:n,from:t,gasPrice:r.utils.toWei("5","gwei")}).on("receipt",function(){return a.flashSuccess(0)}).on("error",function(){return a.flashError(0)})}else console.log("Error: No amount chosen")},a.onUnwrap=function(){var e=a.props.drizzle.contracts.WETH.methods.withdraw,t=a.props.drizzleState.accounts[0],n=a.state.amount_unwrap,r=a.props.drizzle.web3;if(n&&n>0){var i=a.state.loading;i[1]=!0,a.setState({loading:i}),console.log("SENDING "+n+" TO UNWRAPPER..."),e(n.toString()).send({from:t,gasPrice:r.utils.toWei("5","gwei")}).on("receipt",function(){return a.flashSuccess(1)}).on("error",function(){return a.flashError(1)})}else console.log("Error: No amount chosen")},a.state={amount_wrap:"0",ui_amount_wrap:"",amount_unwrap:"0",ui_amount_unwrap:"",bignumbers:{},loading:[!1,!1],error:[!1,!1],success:[!1,!1]},a.flashSuccess=a.flashSuccess.bind(Object(_.a)(Object(_.a)(a))),a.flashError=a.flashError.bind(Object(_.a)(Object(_.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){for(var e={},t=0;t<=10;t++){var a=t;e[a]=this.props.drizzle.web3.utils.toBN(a)}this.setState({bignumbers:e})}},{key:"handlePercentUpdate",value:function(e,t){var a=this.props.drizzle.web3.utils.fromWei(t.toString(),"ether");if("amount_wrap"===e)this.setState({amount_wrap:t,ui_amount_wrap:a});else{if("amount_unwrap"!==e)return;this.setState({amount_unwrap:t,ui_amount_unwrap:a})}}},{key:"handleUserUpdate",value:function(e,t){var a=0;try{/\S/.test(t)&&(a=this.props.drizzle.web3.utils.toWei(t.toString(),"ether"))}catch(n){return void console.log(n)}if("ui_amount_wrap"===e)this.setState({ui_amount_wrap:t,amount_wrap:a});else{if("ui_amount_unwrap"!==e)return;this.setState({ui_amount_unwrap:t,amount_unwrap:a})}}},{key:"flashSuccess",value:function(e){var t=this,a=this.state,n=a.loading,r=a.success,i=a.error;n[e]=!1,r[e]=!0,i[e]=!1,this.setState({loading:n,success:r,error:i}),setTimeout(function(){return t.reset(e)},1500)}},{key:"flashError",value:function(e){var t=this,a=this.state,n=a.loading,r=a.success,i=a.error;n[e]=!1,r[e]=!1,i[e]=!0,this.setState({loading:n,success:r,error:i}),setTimeout(function(){var a=t.state,n=a.loading,r=a.success,i=a.error;n[e]=!1,r[e]=!1,i[e]=!1,t.setState({error:i})},1500)}},{key:"reset",value:function(e){var t=this.state,a=t.loading,n=t.success,r=t.error,i=t.amount_wrap,s=t.amount_unwrap,o=t.ui_amount_wrap,l=t.ui_amount_unwrap;a[e]=!1,n[e]=!1,r[e]=!1,0===e&&(i="0",o=""),1===e&&(s="0",l=""),this.setState({loading:a,success:n,error:r,amount_wrap:i,amount_unwrap:s,ui_amount_wrap:o,ui_amount_unwrap:l})}},{key:"render",value:function(){var e=this,t=this.props,a=t.weth_balance,n=t.eth_balance,i=this.state,s=i.ui_amount_wrap,o=i.ui_amount_unwrap,l=i.bignumbers,c=i.loading,u=i.success,d=i.error;n=this.props.drizzle.web3.utils.toBN(n),a=this.props.drizzle.web3.utils.toBN(a);for(var m=["WRAP","UNWRAP"],p=0;p<m.length;p++)u[p]&&(m[p]="SUCCESS"),d[p]&&(m[p]="FAILED");return r.a.createElement("div",{className:"WrapStation"},r.a.createElement("div",{id:"WrapStation-title"},"Wrap / Unwrap"),r.a.createElement(L.a,{onSubmit:this.handleSubmit,size:"tiny",id:"WrapStation-form"},r.a.createElement("div",{className:"WrapStation-headers"},"Wrap ",r.a.createElement("span",{id:"WrapStation-warning"},r.a.createElement("span",{className:"red"},"WARNING:")," DO NOT WRAP ALL YOUR ETHER")),r.a.createElement(L.a.Group,{unstackable:!0,className:"WrapStation-formgroup"},r.a.createElement(L.a.Field,{width:11},r.a.createElement(x.a,{label:{basic:!0,content:"ETH"},labelPosition:"right",placeholder:"Enter Amount ETH...",value:s,disabled:c[0]||d[0]||u[0],onChange:function(t){e.handleUserUpdate("ui_amount_wrap",t.target.value)}})),r.a.createElement(L.a.Button,{disabled:c[0]||d[0]||u[0]||""===s,loading:c[0],width:4,className:"WrapStation-button",color:d[0]?"red":"green",size:"small",onClick:function(){return e.onWrap()}},m[0])),r.a.createElement(B.a.Group,{className:"WrapStation-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{disabled:c[0]||d[0]||u[0],onClick:function(){return e.handleUserUpdate("ui_amount_wrap","")}},"0%"),r.a.createElement(B.a,{disabled:c[0]||d[0]||u[0],onClick:function(){return e.handlePercentUpdate("amount_wrap",n.div(l[4]))}},"25%"),r.a.createElement(B.a,{disabled:c[0]||d[0]||u[0],onClick:function(){return e.handlePercentUpdate("amount_wrap",n.div(l[2]))}},"50%"),r.a.createElement(B.a,{disabled:c[0]||d[0]||u[0],onClick:function(){return e.handlePercentUpdate("amount_wrap",n.mul(l[3]).div(l[4]))}},"75%"),r.a.createElement(B.a,{disabled:c[0]||d[0]||u[0],onClick:function(){return e.handlePercentUpdate("amount_wrap",n.mul(l[9]).div(l[10]))}},"90%")),r.a.createElement("div",{className:"WrapStation-headers"},"Unwrap"),r.a.createElement(L.a.Group,{unstackable:!0,className:"WrapStation-formgroup"},r.a.createElement(L.a.Field,{width:10},r.a.createElement(x.a,{label:{basic:!0,content:"WETH"},labelPosition:"right",placeholder:"Enter Amount WETH...",value:o,disabled:c[1]||d[1]||u[1],onChange:function(t){e.handleUserUpdate("ui_amount_unwrap",t.target.value)}})),r.a.createElement(L.a.Button,{disabled:c[1]||d[1]||u[1]||""===o,loading:c[1],width:4,className:"WrapStation-button",color:d[1]?"red":"green",size:"small",onClick:function(){return e.onUnwrap()}},m[1])),r.a.createElement(B.a.Group,{className:"WrapStation-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{disabled:c[1]||d[1]||u[1],onClick:function(){return e.handleUserUpdate("ui_amount_unwrap","")}},"0%"),r.a.createElement(B.a,{disabled:c[1]||d[1]||u[1],onClick:function(){return e.handlePercentUpdate("amount_unwrap",a.div(l[4]))}},"25%"),r.a.createElement(B.a,{disabled:c[1]||d[1]||u[1],onClick:function(){return e.handlePercentUpdate("amount_unwrap",a.div(l[2]))}},"50%"),r.a.createElement(B.a,{disabled:c[1]||d[1]||u[1],onClick:function(){return e.handlePercentUpdate("amount_unwrap",a.mul(l[3]).div(l[4]))}},"75%"),r.a.createElement(B.a,{disabled:c[1]||d[1]||u[1],onClick:function(){return e.handlePercentUpdate("amount_unwrap",a)}},"100%"))))}}]),t}(n.Component)),le=function(e){function t(e,a){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={currencies:{WETH:{balance:0,approved:0},DAI:{balance:0,approved:0},MKR:{balance:0,approved:0},ETH:{balance:0,approved:0}}},n.updateInfo=n.updateInfo.bind(Object(_.a)(Object(_.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateInfo()}},{key:"updateInfo",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r,i,s,o,l,c,u,d,m,p;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.drizzle,n=t.drizzleState,r=n.accounts[0],i=a.contracts.Market.address,e.next=5,a.contracts.WETH.methods.balanceOf(r).call();case 5:return s=e.sent,e.next=8,a.contracts.DAI.methods.balanceOf(r).call();case 8:return o=e.sent,e.next=11,a.contracts.MKR.methods.balanceOf(r).call();case 11:return l=e.sent,e.next=14,a.contracts.WETH.methods.allowance(r,i).call();case 14:return c=e.sent,e.next=17,a.contracts.DAI.methods.allowance(r,i).call();case 17:return u=e.sent,e.next=20,a.contracts.MKR.methods.allowance(r,i).call();case 20:d=e.sent,m=n.accountBalances[r],p={WETH:{balance:s,approved:c},DAI:{balance:o,approved:u},MKR:{balance:l,approved:d},ETH:{balance:m,approved:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}},this.setState({currencies:p}),setTimeout(this.updateInfo,5e3);case 25:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"approveCurrencyForAmount",value:function(e,t){var a=this.props,n=a.drizzle,r=a.drizzleState.accounts[0],i=n.contracts.Market.address,s=n.web3;e in n.contracts&&n.contracts[e].methods.approve.cacheSend(i,t,{from:r,gasPrice:s.utils.toWei("5","gwei")})}},{key:"approveCurrency",value:function(e){this.approveCurrencyForAmount(e,"115792089237316195423570985008687907853269984665640564039457584007913129639935")}},{key:"unapproveCurrency",value:function(e){this.approveCurrencyForAmount(e,"0")}},{key:"toggleApproval",value:function(e,t){!t?this.approveCurrency(e):this.unapproveCurrency(e)}},{key:"getUIBalance",value:function(e){return null!=e?Math.round(1e3*this.props.drizzle.web3.utils.fromWei(e.toString(),"ether"))/1e3:"Error..."}},{key:"getUIAllowance",value:function(e,t){var a=this.props.drizzle.web3;t=a.utils.toBN(t);var n=a.utils.toBN(e);return!!t.gte(n)}},{key:"render",value:function(){var e=this,t=this.state.currencies,a=this.props,n=a.padded,i=a.closeSidebar,s=a.drizzle,o=a.drizzleState,l=o.accounts[0],c=Object.keys(t).map(function(a){var n={};n.name=a,n.balance="0",n.approved=!1;var r=t[a].balance,i=t[a].approved;return r&&i&&(n.balance=e.getUIBalance(r),n.approved=e.getUIAllowance(r,i)),n}),u=l,d=r.a.createElement(k.a,{name:"close",id:"Infobar-x",size:"large",onClick:i});return n&&(d=null),r.a.createElement("div",{id:"Infobar"},r.a.createElement("div",{className:"Infobar-header"},r.a.createElement(w,{drizzle:s,drizzleState:o,address:u}),d),r.a.createElement(S.a,{basic:"very",padded:"very",striped:!0,unstackable:!0,id:"Infobar-table"},r.a.createElement(S.a.Header,{id:"Infobar-table-header"},r.a.createElement(S.a.Row,null,r.a.createElement(S.a.HeaderCell,{className:"Infobar-table-entry",textAlign:"left"},"Token"),r.a.createElement(S.a.HeaderCell,{className:"Infobar-table-entry",textAlign:"left"},"Balance"),r.a.createElement(S.a.HeaderCell,{className:"Infobar-table-entry",textAlign:"left"},"Approved"))),r.a.createElement(S.a.Body,null,c.map(function(t,a){return r.a.createElement(S.a.Row,{key:a},r.a.createElement(S.a.Cell,null,r.a.createElement(ie.a,{className:"Infobar-table-entry",textAlign:"left"},t.name)),r.a.createElement(S.a.Cell,null,r.a.createElement(ie.a,{className:"Infobar-table-entry",textAlign:"left"},t.balance)),r.a.createElement(S.a.Cell,{textAlign:"left"},r.a.createElement(se.a,{toggle:!0,disabled:"ETH"===t.name,checked:t.approved,onClick:function(){return e.toggleApproval(t.name,t.approved)}})))}))),r.a.createElement(oe,{drizzle:s,drizzleState:o,weth_balance:t.WETH.balance,eth_balance:t.ETH.balance}))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.toggleVisible=function(){a.setState({visible:!a.state.visible})},a.state={activeItem:"",visible:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.drizzle,i=t.drizzleState,s=this.state,o=s.activeItem,l=s.visible,c=[];return c.push({name:"WETH/DAI",href:"/WETH_DAI"},{name:"MKR/WETH",href:"/MKR_WETH"},{name:"MKR/DAI",href:"/MKR_DAI"}),r.a.createElement("div",null,r.a.createElement(y.a,y.a.onlyMobile,r.a.createElement(te.a,{borderless:!0,fixed:"top",id:"Navbar-mobile"},r.a.createElement(te.a.Item,{name:"Home",active:"Home"===o,href:"/",className:"Navbar-item"},r.a.createElement("div",{className:"Navbar-button-mobile",id:"Navbar-logo-container"},r.a.createElement("img",{src:re.a,alt:"logo",id:"Navbar-logo-mobile"}))),r.a.createElement(ae.a,{item:!0,text:"Markets",className:"Navbar-dropdown"},r.a.createElement(ae.a.Menu,null,c.map(function(e,t){return r.a.createElement(ae.a.Item,{name:e.name,active:o===e.name,className:"Navbar-item",as:ee.a,to:e.href,key:t},e.name)}))),r.a.createElement(te.a.Menu,{position:"right"},r.a.createElement(te.a.Item,null,r.a.createElement(k.a,{name:"sidebar",inverted:!0,onClick:this.toggleVisible})))),r.a.createElement(J.a,{as:Z.a,animation:"overlay",direction:"right",visible:l,id:"Navbar-Side_info_bar"},r.a.createElement(le,{drizzle:n,drizzleState:i,padded:!1,closeSidebar:this.toggleVisible})),a),r.a.createElement(y.a,{minWidth:y.a.onlyTablet.minWidth},r.a.createElement(te.a,{secondary:!0,vertical:!0,size:"mini",id:"Navbar"},r.a.createElement(te.a.Item,{name:"Home",className:"Navbar-item",as:ee.a,to:"/"},r.a.createElement("div",{className:"Navbar-button",id:"Navbar-logo-container"},r.a.createElement("img",{src:re.a,alt:"logo",className:"Navbar-icon"}))),c.map(function(t,a){return r.a.createElement(te.a.Item,{name:t.name,active:o===t.name,className:"Navbar-item",onClick:e.handleToggle,as:ee.a,to:t.href,key:a},r.a.createElement("div",{className:"Navbar-button"},t.name))})),a))}}]),t}(n.Component),ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,drizzleState:null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.drizzle;this.unsubscribe=t.store.subscribe(function(){var a=t.store.getState();a.drizzleStatus.initialized&&e.setState({loading:!1,drizzleState:a})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.drizzleState,n=this.props.drizzle;return t?r.a.createElement("div",{id:"App-loading-screen"},"Connecting to Ethereum..."):r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(ce,{drizzle:n,drizzleState:a}),r.a.createElement("div",{id:"App_market_container"},r.a.createElement(p.a,null,r.a.createElement(b.a,{exact:!0,path:"/",render:function(){return r.a.createElement($,{drizzle:n,drizzleState:a})}}),r.a.createElement(b.a,{exact:!0,path:"/WETH_DAI",render:function(){return r.a.createElement(X,{key:"WETH_DAI",drizzle:n,drizzleState:a,pair:"WETH_DAI"})}}),r.a.createElement(b.a,{exact:!0,path:"/MKR_WETH",render:function(){return r.a.createElement(X,{key:"MKR_WETH",drizzle:n,drizzleState:a,pair:"MKR_WETH"})}}),r.a.createElement(b.a,{exact:!0,path:"/MKR_DAI",render:function(){return r.a.createElement(X,{key:"MKR_DAI",drizzle:n,drizzleState:a,pair:"MKR_DAI"})}}))))),r.a.createElement(y.a,{minWidth:y.a.onlyTablet.minWidth},r.a.createElement(le,{drizzle:n,drizzleState:a,padded:!0})))}}]),t}(n.Component),de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var pe=a(226),be=a(171),ye=a.n(be),he=new ye.a(ye.a.givenProvider||"http://localhost:9545"),fe=a(936),ve=a(937),Ee=a(938),ge=a(939),_e=a(940),Se={contracts:[{contractName:"WETH",web3Contract:new he.eth.Contract(Ee.interface,fe.tokens.main["W-ETH"])},{contractName:"DAI",web3Contract:new he.eth.Contract(ve.interface,fe.tokens.main.DAI)},{contractName:"MKR",web3Contract:new he.eth.Contract(ve.interface,fe.tokens.main.MKR)},{contractName:"Market",web3Contract:new he.eth.Contract(ge.interface,fe.market.main.address)},{contractName:"SupportMethods",web3Contract:new he.eth.Contract(_e.interface,fe.otcSupportMethods.main.address)}],events:{Market:["LogTake"]},polls:{accounts:3e3,blocks:3e3},syncAlways:!1},ke=Object(pe.generateStore)(Se),Ne=new pe.Drizzle(Se,ke);s.a.render(r.a.createElement(ue,{drizzle:Ne}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");de?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):me(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):me(e)})}}()}},[[445,2,1]]]);
//# sourceMappingURL=main.d2712f4d.chunk.js.map