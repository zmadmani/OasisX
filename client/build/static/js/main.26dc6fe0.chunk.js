(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{203:function(e){e.exports={networks:[{id:1,name:"main",startingBlock:null,avgBlocksPerDay:5760},{id:42,name:"kovan",startingBlock:null,avgBlocksPerDay:21600}],market:{kovan:{address:"0x4A6bC4e803c62081ffEbCc8d227B5a87a58f1F8F",blockNumber:10298690},main:{address:"0x39755357759ce0d7f32dc8dc45414cca409ae24e",blockNumber:7183773}},otcSupportMethods:{kovan:{address:"0x303f2bf24d98325479932881657f45567b3e47a8"},main:{address:"0x9b3f075b12513afe56ca2ed838613b7395f57839"}},tokens:{kovan:{"W-ETH":"0xd0a1e359811322d97991e03f863a0c30c2cf029c",DAI:"0xc4375b7de8af5a38a93548eb8453a498222c4ff2",MKR:"0xaaf64bfcc32d0f15873a02163e7e500671a4ffcd"},main:{"W-ETH":"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",DAI:"0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359",MKR:"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2"}}}},241:function(e,t,a){e.exports=a.p+"static/media/x.23ec4264.svg"},311:function(e,t,a){e.exports=function(){return new Worker(a.p+"d4e350f9ca2709355b9a.worker.js")}},325:function(e,t,a){e.exports=a(664)},335:function(e,t,a){},339:function(e,t,a){},341:function(e,t,a){},404:function(e,t,a){},406:function(e,t,a){},514:function(e,t,a){},528:function(e,t,a){},530:function(e,t,a){},618:function(e,t,a){},620:function(e,t,a){},622:function(e,t,a){},624:function(e,t,a){},626:function(e,t,a){},628:function(e,t,a){},630:function(e,t,a){},643:function(e,t,a){},648:function(e,t,a){},651:function(e,t,a){},653:function(e,t,a){},655:function(e,t,a){},657:function(e,t,a){},659:function(e){e.exports={interface:[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"ok",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"supply",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"ok",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"value",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"ok",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"_allowance",type:"uint256"}],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],bytecode:""}},660:function(e){e.exports={interface:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"supply",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"src",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[{name:"ok",type:"bool"}],payable:!0,type:"function"},{constant:!0,inputs:[{name:"src",type:"address"},{name:"guy",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"tryWithdraw",outputs:[{name:"ok",type:"bool"}],payable:!1,type:"function"},{payable:!0,type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"who",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"who",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],bytecode:"606060405260005b600160a060020a03331660009081526001602052604081208290558190555b505b610922806100376000396000f3006060604052361561009e5763ffffffff60e060020a60003504166306fdde0381146100b0578063095ea7b31461014057806318160ddd1461017357806323b872dd146101955780632e1a7d4d146101ce578063313ce567146101e357806370a082311461020557806395d89b4114610233578063a9059cbb146102c3578063d0e30db0146102f6578063dd62ed3e14610312578063e3fa588214610346575b6100ae5b6100aa61036d565b505b565b005b34156100b857fe5b6100c06103cd565b604080516020808252835181830152835191928392908301918501908083838215610106575b80518252602083111561010657601f1990920191602091820191016100e6565b505050905090810190601f1680156101325780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561014857fe5b61015f600160a060020a0360043516602435610404565b604080519115158252519081900360200190f35b341561017b57fe5b61018361046f565b60408051918252519081900360200190f35b341561019d57fe5b61015f600160a060020a036004358116906024351660443561047e565b604080519115158252519081900360200190f35b34156101d657fe5b6100ae600435610591565b005b34156101eb57fe5b6101836105aa565b60408051918252519081900360200190f35b341561020d57fe5b610183600160a060020a03600435166105af565b60408051918252519081900360200190f35b341561023b57fe5b6100c06105ce565b604080516020808252835181830152835191928392908301918501908083838215610106575b80518252602083111561010657601f1990920191602091820191016100e6565b505050905090810190601f1680156101325780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156102cb57fe5b61015f600160a060020a0360043516602435610605565b604080519115158252519081900360200190f35b61015f61036d565b604080519115158252519081900360200190f35b341561031a57fe5b610183600160a060020a03600435811690602435166106c8565b60408051918252519081900360200190f35b341561034e57fe5b61015f6004356106f5565b604080519115158252519081900360200190f35b600160a060020a0333166000818152600160209081526040808320805434908101909155815190815290519293927fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c929181900390910190a25060015b90565b60408051808201909152600b81527f5772617070657220455448000000000000000000000000000000000000000000602082015281565b600160a060020a03338116600081815260026020908152604080832094871680845294825280832086905580518681529051929493927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060015b92915050565b600160a060020a033016315b90565b600160a060020a0383166000908152600160205260408120546104a490839010156107e0565b600160a060020a03808516600090815260026020908152604080832033909416835292905220546104d890839010156107e0565b600160a060020a038316600090815260016020526040902054610504906104ff90846107f1565b6107e0565b600160a060020a03808516600081815260026020908152604080832033861684528252808320805488900390558383526001825280832080548890039055938716808352918490208054870190558351868152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a35060015b9392505050565b61059a816106f5565b15156100aa5760006000fd5b5b50565b601281565b600160a060020a0381166000908152600160205260409020545b919050565b60408051808201909152600581527f572d455448000000000000000000000000000000000000000000000000000000602082015281565b600160a060020a03331660009081526001602052604081205461062b90839010156107e0565b600160a060020a038316600090815260016020526040902054610657906104ff90846107f1565b6107e0565b600160a060020a03338116600081815260016020908152604080832080548890039055938716808352918490208054870190558351868152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a35060015b92915050565b600160a060020a038083166000908152600260209081526040808320938516835292905220545b92915050565b60006106ff6108e4565b600160a060020a03331660009081526001602052604090205461072290846107ff565b33600160a060020a03811660009081526001602052604090209190915561074a908285610822565b1561079757604080518481529051600160a060020a033316917f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65919081900360200190a2600191506107d9565b600160a060020a0333166000908152600160205260409020546107ba90846108b6565b600160a060020a03331660009081526001602052604081209190915591505b5b50919050565b8015156100aa5760006000fd5b5b50565b808201829010155b92915050565b600061080b83836108d9565b15156108175760006000fd5b508082035b92915050565b600083600160a060020a0316828460405180828051906020019080838360008314610868575b80518252602083111561086857601f199092019160209182019101610848565b505050905090810190601f1680156108945780820380516001836020036101000a031916815260200191505b5091505060006040518083038185876185025a03f193505050505b9392505050565b60006108c283836107f1565b15156108ce5760006000fd5b508181015b92915050565b818111155b92915050565b604080516020810190915260008152905600a165627a7a72305820a28a849337643999a68d2ac22a1417f83794fda4e2ecdd428d495dd88cb435220029"}},661:function(e){e.exports={interface:[{constant:!0,inputs:[],name:"matchingEnabled",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"sell_gem",type:"address"},{name:"buy_gem",type:"address"}],name:"getBestOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"pay_gem",type:"address"},{name:"pay_amt",type:"uint256"},{name:"buy_gem",type:"address"},{name:"min_fill_amount",type:"uint256"}],name:"sellAllAmount",outputs:[{name:"fill_amt",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"stop",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"pay_gem",type:"address"},{name:"buy_gem",type:"address"},{name:"pay_amt",type:"uint128"},{name:"buy_amt",type:"uint128"}],name:"make",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"owner_",type:"address"}],name:"setOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"buy_gem",type:"address"},{name:"pay_gem",type:"address"},{name:"pay_amt",type:"uint256"}],name:"getBuyAmount",outputs:[{name:"fill_amt",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"baseToken",type:"address"},{name:"quoteToken",type:"address"}],name:"addTradingPairWhitelist",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"baseToken",type:"address"},{name:"quoteToken",type:"address"}],name:"remTradingPairWhitelist",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"pay_amt",type:"uint256"},{name:"pay_gem",type:"address"},{name:"buy_amt",type:"uint256"},{name:"buy_gem",type:"address"},{name:"pos",type:"uint256"}],name:"offer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"},{name:"pos",type:"uint256"}],name:"insert",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"last_offer_id",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"matchingEnabled_",type:"bool"}],name:"setMatchingEnabled",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"}],name:"cancel",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getOffer",outputs:[{name:"",type:"uint256"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id",type:"bytes32"},{name:"maxTakeAmount",type:"uint128"}],name:"take",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"pay_gem",type:"address"}],name:"getMinSell",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTime",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getNextUnsortedOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"close_time",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"_span",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"_best",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"stopped",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id_",type:"bytes32"}],name:"bump",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"authority_",type:"address"}],name:"setAuthority",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"sell_gem",type:"address"},{name:"buy_gem",type:"address"}],name:"getOfferCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"buy_gem",type:"address"},{name:"buy_amt",type:"uint256"},{name:"pay_gem",type:"address"},{name:"max_fill_amount",type:"uint256"}],name:"buyAllAmount",outputs:[{name:"fill_amt",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"isActive",outputs:[{name:"active",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"offers",outputs:[{name:"pay_amt",type:"uint256"},{name:"pay_gem",type:"address"},{name:"buy_amt",type:"uint256"},{name:"buy_gem",type:"address"},{name:"owner",type:"address"},{name:"active",type:"bool"},{name:"timestamp",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getFirstUnsortedOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"baseToken",type:"address"},{name:"quoteToken",type:"address"}],name:"isTradingPairWhitelisted",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getBetterOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"_dust",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getWorseOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"_menu",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"_near",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id",type:"bytes32"}],name:"kill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"pay_gem",type:"address"},{name:"dust",type:"uint256"}],name:"setMinSell",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"authority",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isClosed",outputs:[{name:"closed",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"_rank",outputs:[{name:"next",type:"uint256"},{name:"prev",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getOwner",outputs:[{name:"owner",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"isOfferSorted",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"buyEnabled_",type:"bool"}],name:"setBuyEnabled",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"},{name:"amount",type:"uint256"}],name:"buy",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"pay_amt",type:"uint256"},{name:"pay_gem",type:"address"},{name:"buy_amt",type:"uint256"},{name:"buy_gem",type:"address"},{name:"pos",type:"uint256"},{name:"rounding",type:"bool"}],name:"offer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"pay_amt",type:"uint256"},{name:"pay_gem",type:"address"},{name:"buy_amt",type:"uint256"},{name:"buy_gem",type:"address"}],name:"offer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"buyEnabled",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"pay_gem",type:"address"},{name:"buy_gem",type:"address"},{name:"buy_amt",type:"uint256"}],name:"getPayAmount",outputs:[{name:"fill_amt",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"close_time",type:"uint64"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!0,inputs:[{indexed:!0,name:"sig",type:"bytes4"},{indexed:!0,name:"guy",type:"address"},{indexed:!0,name:"foo",type:"bytes32"},{indexed:!0,name:"bar",type:"bytes32"},{indexed:!1,name:"wad",type:"uint256"},{indexed:!1,name:"fax",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"uint256"}],name:"LogItemUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"pay_amt",type:"uint256"},{indexed:!0,name:"pay_gem",type:"address"},{indexed:!1,name:"buy_amt",type:"uint256"},{indexed:!0,name:"buy_gem",type:"address"}],name:"LogTrade",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"id",type:"bytes32"},{indexed:!0,name:"pair",type:"bytes32"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"pay_gem",type:"address"},{indexed:!1,name:"buy_gem",type:"address"},{indexed:!1,name:"pay_amt",type:"uint128"},{indexed:!1,name:"buy_amt",type:"uint128"},{indexed:!1,name:"timestamp",type:"uint64"}],name:"LogMake",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"id",type:"bytes32"},{indexed:!0,name:"pair",type:"bytes32"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"pay_gem",type:"address"},{indexed:!1,name:"buy_gem",type:"address"},{indexed:!1,name:"pay_amt",type:"uint128"},{indexed:!1,name:"buy_amt",type:"uint128"},{indexed:!1,name:"timestamp",type:"uint64"}],name:"LogBump",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"bytes32"},{indexed:!0,name:"pair",type:"bytes32"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"pay_gem",type:"address"},{indexed:!1,name:"buy_gem",type:"address"},{indexed:!0,name:"taker",type:"address"},{indexed:!1,name:"take_amt",type:"uint128"},{indexed:!1,name:"give_amt",type:"uint128"},{indexed:!1,name:"timestamp",type:"uint64"}],name:"LogTake",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"id",type:"bytes32"},{indexed:!0,name:"pair",type:"bytes32"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"pay_gem",type:"address"},{indexed:!1,name:"buy_gem",type:"address"},{indexed:!1,name:"pay_amt",type:"uint128"},{indexed:!1,name:"buy_amt",type:"uint128"},{indexed:!1,name:"timestamp",type:"uint64"}],name:"LogKill",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"authority",type:"address"}],name:"LogSetAuthority",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"}],name:"LogSetOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"isEnabled",type:"bool"}],name:"LogBuyEnabled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"pay_gem",type:"address"},{indexed:!1,name:"min_amount",type:"uint256"}],name:"LogMinSell",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"isEnabled",type:"bool"}],name:"LogMatchingEnabled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"uint256"}],name:"LogUnsortedOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"uint256"}],name:"LogSortedOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"baseToken",type:"address"},{indexed:!1,name:"quoteToken",type:"address"}],name:"LogAddTradingPairWhitelist",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"baseToken",type:"address"},{indexed:!1,name:"quoteToken",type:"address"}],name:"LogRemTradingPairWhitelist",type:"event"}]}},662:function(e){e.exports={interface:[{constant:!0,inputs:[{name:"otc",type:"address"},{name:"payToken",type:"address"},{name:"buyToken",type:"address"}],name:"getOffers",outputs:[{name:"ids",type:"uint256[100]"},{name:"payAmts",type:"uint256[100]"},{name:"buyAmts",type:"uint256[100]"},{name:"owners",type:"address[100]"},{name:"timestamps",type:"uint256[100]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"otc",type:"address"},{name:"buyToken",type:"address"},{name:"buyAmt",type:"uint256"},{name:"payToken",type:"address"}],name:"getOffersAmountToBuyAll",outputs:[{name:"ordersToTake",type:"uint256"},{name:"takesPartialOrder",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"otc",type:"address"},{name:"offerId",type:"uint256"}],name:"getOffers",outputs:[{name:"ids",type:"uint256[100]"},{name:"payAmts",type:"uint256[100]"},{name:"buyAmts",type:"uint256[100]"},{name:"owners",type:"address[100]"},{name:"timestamps",type:"uint256[100]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"otc",type:"address"},{name:"payToken",type:"address"},{name:"payAmt",type:"uint256"},{name:"buyToken",type:"address"}],name:"getOffersAmountToSellAll",outputs:[{name:"ordersToTake",type:"uint256"},{name:"takesPartialOrder",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}]}},664:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(50),i=a.n(s),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(330),a(333),a(335);var l=a(10),u=a.n(l),m=a(29),d=a(289),p=a(24),b=a(25),y=a(27),h=a(26),f=a(28),g=a(20),v=a(685),E=a(689),_=a(690),k=a(693),O=a(5),S=(a(339),a(103)),N=a(692),A=a(668),M=(a(341),a(679)),C=a(151),w=a(53);a(404);function L(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}a(406);var R=["JAMES","JOHN","ROBERT","MICHAEL","WILLIAM","DAVID","RICHARD","CHARLES","JOSEPH","THOMAS","CHRISTOPHER","DANIEL","PAUL","MARK","DONALD","GEORGE","KENNETH","STEVEN","EDWARD","BRIAN","RONALD","ANTHONY","KEVIN","JASON","MATTHEW","GARY","TIMOTHY","JOSE","LARRY","JEFFREY","FRANK","SCOTT","ERIC","STEPHEN","ANDREW","RAYMOND","GREGORY","JOSHUA","JERRY","DENNIS","WALTER","PATRICK","PETER","HAROLD","DOUGLAS","HENRY","CARL","ARTHUR","RYAN","ROGER","JOE","JUAN","JACK","ALBERT","JONATHAN","JUSTIN","TERRY","GERALD","KEITH","SAMUEL","WILLIE","RALPH","LAWRENCE","NICHOLAS","ROY","BENJAMIN","BRUCE","BRANDON","ADAM","HARRY","FRED","WAYNE","BILLY","STEVE","LOUIS","JEREMY","AARON","RANDY","HOWARD","EUGENE","CARLOS","RUSSELL","BOBBY","VICTOR","MARTIN","ERNEST","PHILLIP","TODD","JESSE","CRAIG","ALAN","SHAWN","CLARENCE","SEAN","PHILIP","CHRIS","JOHNNY","EARL","JIMMY","ANTONIO","DANNY","BRYAN","TONY","LUIS","MIKE","STANLEY","LEONARD","NATHAN","DALE","MANUEL","RODNEY","CURTIS","NORMAN","ALLEN","MARVIN","VINCENT","GLENN","JEFFERY","TRAVIS","JEFF","CHAD","JACOB","LEE","MELVIN","ALFRED","KYLE","FRANCIS","BRADLEY","JESUS","HERBERT","FREDERICK","RAY","JOEL","EDWIN","DON","EDDIE","RICKY","TROY","RANDALL","BARRY","ALEXANDER","BERNARD","MARIO","LEROY","FRANCISCO","MARCUS","MICHEAL","THEODORE","CLIFFORD","MIGUEL","OSCAR","JAY","JIM","TOM","CALVIN","ALEX","JON","RONNIE","BILL","LLOYD","TOMMY","LEON","DEREK","WARREN","DARRELL","JEROME","FLOYD","LEO","ALVIN","TIM","WESLEY","GORDON","DEAN","GREG","JORGE","DUSTIN","PEDRO","DERRICK","DAN","LEWIS","ZACHARY","COREY","HERMAN","MAURICE","VERNON","ROBERTO","CLYDE","GLEN","HECTOR","SHANE","RICARDO","SAM","RICK","LESTER","BRENT","RAMON","CHARLIE","TYLER","GILBERT","GENE"],x=["SMITH","JOHNSON","WILLIAMS","JONES","BROWN","DAVIS","MILLER","WILSON","MOORE","TAYLOR","ANDERSON","THOMAS","JACKSON","WHITE","HARRIS","MARTIN","THOMPSON","GARCIA","MARTINEZ","ROBINSON","CLARK","RODRIGUEZ","LEWIS","LEE","WALKER","HALL","ALLEN","YOUNG","HERNANDEZ","KING","WRIGHT","LOPEZ","HILL","SCOTT","GREEN","ADAMS","BAKER","GONZALEZ","NELSON","CARTER","MITCHELL","PEREZ","ROBERTS","TURNER","PHILLIPS","CAMPBELL","PARKER","EVANS","EDWARDS","COLLINS","STEWART","SANCHEZ","MORRIS","ROGERS","REED","COOK","MORGAN","BELL","MURPHY","BAILEY","RIVERA","COOPER","RICHARDSON","COX","HOWARD","WARD","TORRES","PETERSON","GRAY","RAMIREZ","JAMES","WATSON","BROOKS","KELLY","SANDERS","PRICE","BENNETT","WOOD","BARNES","ROSS","HENDERSON","COLEMAN","JENKINS","PERRY","POWELL","LONG","PATTERSON","HUGHES","FLORES","WASHINGTON","BUTLER","SIMMONS","FOSTER","GONZALES","BRYANT","ALEXANDER","RUSSELL","GRIFFIN","DIAZ","HAYES","MYERS","FORD","HAMILTON","GRAHAM","SULLIVAN","WALLACE","WOODS","COLE","WEST","JORDAN","OWENS","REYNOLDS","FISHER","ELLIS","HARRISON","GIBSON","MCDONALD","CRUZ","MARSHALL","ORTIZ","GOMEZ","MURRAY","FREEMAN","WELLS","WEBB","SIMPSON","STEVENS","TUCKER","PORTER","HUNTER","HICKS","CRAWFORD","HENRY","BOYD","MASON","MORALES","KENNEDY","WARREN","DIXON","RAMOS","REYES","BURNS","GORDON","SHAW","HOLMES","RICE","ROBERTSON","HUNT","BLACK","DANIELS","PALMER","MILLS","NICHOLS","GRANT","KNIGHT","FERGUSON","ROSE","STONE","HAWKINS","DUNN","PERKINS","HUDSON","SPENCER","GARDNER","STEPHENS","PAYNE","PIERCE","BERRY","MATTHEWS","ARNOLD","WAGNER","WILLIS","RAY","WATKINS","OLSON","CARROLL","DUNCAN","SNYDER","HART","CUNNINGHAM","BRADLEY","LANE","ANDREWS","RUIZ","HARPER","FOX","RILEY","ARMSTRONG","CARPENTER","WEAVER","GREENE","LAWRENCE","ELLIOTT","CHAVEZ","SIMS","AUSTIN","PETERS","KELLEY","FRANKLIN","LAWSON"],T=["#001f3f","#0074D9","#7FDBFF","#39CCCC","#2ECC40","#01FF70","#FFDC00","#FF851B","#3D9970","#F15152","#111111","#AAAAAA","#DDDDDD"],I=["#FFFFFF","#FFFFFF","#111111","#111111","#111111","#111111","#111111","#111111","#111111","#111111","#FFFFFF","#111111","#111111"],U=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={loading:!0,balances:["...","..."]},a.getBalances(),a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.address!==e.address&&(this.setState({balances:["...","..."],loading:!0}),this.getBalances())}},{key:"getBalances",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.address,n=t.options,!(r=t.currencies)){e.next=12;break}return s=this.state.balances,e.next=5,n.contracts[r[0]].balanceOf(a);case 5:return s[0]=e.sent,e.next=8,n.contracts[r[1]].balanceOf(a);case 8:s[1]=e.sent,s[0]=L(Math.round(1e3*O.ethers.utils.formatUnits(s[0].toString(),"ether"))/1e3),s[1]=L(Math.round(1e3*O.ethers.utils.formatUnits(s[1].toString(),"ether"))/1e3),this.setState({loading:!1,balances:s});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e,t){return this.props.address!==e.address||this.state.loading!==t.loading}},{key:"getName",value:function(e){if(0===e.length)return[e,"0x"];var t=O.ethers.utils.bigNumberify("200"),a=O.ethers.utils.bigNumberify(e.substr(0,22)).toString(),n=O.ethers.utils.bigNumberify("0x"+e.substr(22,40)).toString();a=O.ethers.utils.bigNumberify(a).mod(t).toString(),n=O.ethers.utils.bigNumberify(n).mod(t).toString();var r=R[a][0]+x[n][0];return[R[a]+" "+x[n],r]}},{key:"getColor",value:function(e){if(0===e.length)return[T[0],I[0]];var t=O.ethers.utils.bigNumberify("13"),a=O.ethers.utils.bigNumberify(e).toString(),n=O.ethers.utils.bigNumberify(a).mod(t).toString();return[T[n],I[n]]}},{key:"render",value:function(){var e=this.props,t=e.address,a=e.icon_only,n=e.inactive_link,s=e.currencies,i=this.state.balances;if(!t)return r.a.createElement("div",{className:"HumanName-circle"});var o=this.getName(t),c=Object(S.a)(o,2),l=c[0],u=c[1],m=this.getColor(t),d=Object(S.a)(m,2),p=d[0],b=d[1];l=r.a.createElement("div",{className:"HumanName-name"},l);var y={backgroundColor:p,color:b},h=function(){return window.open("https://etherscan.io/address/"+t,"_blank")};n&&(h=null);var f=r.a.createElement("div",{className:"HumanName-circle",style:y},u),g=r.a.createElement("span",{className:"HumanName",title:t,onClick:h},f," ",l);return a&&(g=r.a.createElement("span",{className:"HumanName",title:t,onClick:h},f)),s&&(g=r.a.createElement(M.a,{trigger:g},r.a.createElement(M.a.Header,null,"Balances"),r.a.createElement(M.a.Content,null,r.a.createElement("p",null,i[0]," ",s[0]),r.a.createElement("p",null,i[1]," ",s[1])))),g}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={},a.max_order=1,a.orders=[],a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.buy_orders!==this.props.buy_orders||e.sell_orders!==this.props.sell_orders||e.last_order!==this.props.last_order}},{key:"getMax",value:function(e){var t=e.concat().sort(function(e,t){return t.curr_1_amt-e.curr_1_amt}).slice(0,10);return 10===t.length?t[t.length-1].curr_1_amt:t.length>0?t[Math.floor(t.length/2)].curr_1_amt:null}},{key:"rowRenderer",value:function(e){var t=this,a=e.index,n=e.key,s=e.style,i=this.orders[a];if("0"===i.maker){var o=this.props.last_order,c="...";return o.price&&(c="BUY"===o.type?r.a.createElement("span",{className:"green"},L(Math.round(100*o.price)/100)+"\u25b2"):r.a.createElement("span",{className:"red"},L(Math.round(100*o.price)/100)+"\u25bc")),r.a.createElement("div",{id:"OrderListV2-table-middle",key:n,style:s},r.a.createElement(A.a,{padded:"horizontally"},r.a.createElement(A.a.Column,{computer:2,tablet:2,mobile:3}),r.a.createElement(A.a.Column,{computer:4,tablet:4,mobile:4},r.a.createElement(M.a,{trigger:r.a.createElement("span",null,c),content:"Last Price"})),r.a.createElement(A.a.Column,{computer:5,tablet:5,mobile:4}),r.a.createElement(A.a.Column,{computer:5,tablet:5,mobile:5})))}var l=this.props.account,u=i.type,m=i.curr_1_amt/this.max_order*100,d="rgba(255, 0, 0, 0.2)",p="rgba(0,0,0,0)";"BUY"===u&&(d="rgba(0, 255, 0, 0.1)",p="rgba(0, 0, 0, 0)");var b=a%2===0?"#182026":"#1c262c";l===i.maker&&(b="#3f4a50");var y={backgroundColor:b,backgroundImage:"linear-gradient(to ".concat("right",", ").concat(d," , ").concat(d,"), linear-gradient(to ").concat("right",", ").concat(p,", ").concat(p,")"),backgroundSize:"calc(".concat(m,"%) 100%"),backgroundRepeat:"no-repeat"};s=Object.assign(y,s);var h="BUY"===i.type?r.a.createElement("span",{className:"green"},L(Math.round(100*i.price)/100)):r.a.createElement("span",{className:"red"},L(Math.round(100*i.price)/100));return r.a.createElement("div",{className:"OrderListV2-table-entry",key:n,style:s,onClick:function(){return t.props.setSidebar(i)}},r.a.createElement(A.a,{padded:"horizontally",verticalAlign:"middle",className:"OrderListV2-table-entry-grid"},r.a.createElement(A.a.Column,{computer:2,tablet:2,mobile:3,className:"OrderListV2-table-entry-grid-img"},r.a.createElement(U,{inactive_link:!0,icon_only:!0,address:i.maker})),r.a.createElement(A.a.Column,{computer:4,tablet:4,mobile:4,className:"OrderListV2-table-entry-grid-col"},h),r.a.createElement(A.a.Column,{computer:5,tablet:5,mobile:4,className:"OrderListV2-table-entry-grid-col"},L(i.curr_0_amt)),r.a.createElement(A.a.Column,{computer:5,tablet:5,mobile:5,className:"OrderListV2-table-entry-grid-col"},L(i.curr_1_amt))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.currencies,n=t.buy_orders,s=t.sell_orders,i=s.slice(0);return i.reverse(),i.push({maker:"0",price:"0",curr_0_amt:"0",curr_1_amt:"0"}),this.orders=i.concat(n),this.max_order=this.getMax(this.orders),0===s.length&&0===n.length?r.a.createElement("div",{className:"OrderListV2"},r.a.createElement("div",{className:"OrderListV2-loading"},"Loading...")):r.a.createElement("div",{className:"OrderListV2"},r.a.createElement(A.a,{id:"OrderListV2-table-header"},r.a.createElement(A.a.Column,{computer:2,tablet:2,mobile:3},r.a.createElement(C.a,{name:"user circle",size:"large"})),r.a.createElement(A.a.Column,{computer:4,tablet:4,mobile:4},"Price"),r.a.createElement(A.a.Column,{computer:5,tablet:5,mobile:4},a[0]),r.a.createElement(A.a.Column,{computer:5,tablet:5,mobile:5},a[1])),r.a.createElement(w.a,{style:{outline:"none"}},function(t){var a=t.height,n=t.width;return r.a.createElement(w.b,{width:n,height:a-50,rowHeight:40,rowCount:e.orders.length,rowRenderer:function(t){return e.rowRenderer(t)},scrollToIndex:i.length+6,className:"OrderListV2-infinite-list"})}))}}]),t}(n.Component),j=a(674),D=a(678),H=a(676),B=a(683),W=(a(514),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={loading:!1,sidetext:"LOADING...",init:!1,error:!1,success:!1,price:"",amount_0:"",ui_amount_0:"",amount_1:"",ui_amount_1:"",bignumbers:[],last_price:""},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a.flashSuccess=a.flashSuccess.bind(Object(g.a)(Object(g.a)(a))),a.flashError=a.flashError.bind(Object(g.a)(Object(g.a)(a))),a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.generateBigNumbers()}},{key:"generateBigNumbers",value:function(){for(var e={},t=0;t<=10;t++){var a=t;e[a]=O.ethers.utils.bigNumberify(a)}this.setState({bignumbers:e})}},{key:"handleSubmit",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,s,i,o,c,l,m,d;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a="BUY"===t?"BUYING...":"SELL"===t?"SELLING...":"LOADING...",this.setState({loading:!0,sidetext:a,error:!1,success:!1}),n=this.props,r=n.currencies,s=n.options,i=this.state.amount_0,o=this.state.amount_1,c=s.contracts[r[0]].address,l=s.contracts[r[1]].address,m={},"BUY"!==t){e.next=12;break}m={pay_amt:o,pay_gem:l,buy_amt:i,buy_gem:c},e.next=17;break;case 12:if("SELL"!==t){e.next=16;break}m={pay_amt:i,pay_gem:c,buy_amt:o,buy_gem:l},e.next=17;break;case 16:return e.abrupt("return");case 17:return console.log(m),e.prev=18,e.next=21,s.contracts.Market.offer(m.pay_amt,m.pay_gem,m.buy_amt,m.buy_gem,1,{gasLimit:5e5,gasPrice:s.gasPrice});case 21:return d=e.sent,e.next=24,d.wait();case 24:this.flashSuccess(),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(18),console.log(e.t0),this.flashError();case 31:case"end":return e.stop()}},e,this,[[18,27]])}));return function(t){return e.apply(this,arguments)}}()},{key:"flashSuccess",value:function(){var e=this;this.setState({success:!0,loading:!1}),setTimeout(function(){return e.setState({success:!1,price:"",amount_0:"0",ui_amount_0:"",amount_1:"0",ui_amount_1:""})},1500)}},{key:"flashError",value:function(){var e=this;this.setState({error:!0,loading:!1}),setTimeout(function(){return e.setState({error:!1})},1500)}},{key:"handlePriceChange",value:function(e){if(/\S/.test(e)&&""!==this.state.ui_amount_0){var t=e,a=this.state.ui_amount_0*t,n=O.ethers.utils.parseUnits(a.toString(),"ether");this.setState({price:t,amount_1:n.toString(),ui_amount_1:a.toString()})}else this.setState({price:e,amount_1:"0",ui_amount_1:""})}},{key:"handleAmountChange",value:function(e,t){if(/\S/.test(t)&&""!==this.state.price){var a=this.state.price,n=null,r=null,s=null,i=null;if(0===e)n=t,s=O.ethers.utils.bigNumberify(O.ethers.utils.parseUnits(n.toString(),"ether")),r=n*a,i=O.ethers.utils.bigNumberify(O.ethers.utils.parseUnits(r.toString(),"ether"));else{if(1!==e)return;r=t,i=O.ethers.utils.bigNumberify(O.ethers.utils.parseUnits(r.toString(),"ether")),n=r/a,s=O.ethers.utils.bigNumberify(O.ethers.utils.parseUnits(n.toString(),"ether"))}this.setState({amount_0:s.toString(),ui_amount_0:n,amount_1:i.toString(),ui_amount_1:r})}else this.setState({amount_0:"0",ui_amount_0:"",amount_1:"0",ui_amount_1:""})}},{key:"handleAmountPercentageChange",value:function(e,t){var a=this.state.price,n=null,r=null,s=null,i=null,o=O.ethers.utils.bigNumberify(O.ethers.utils.parseUnits(a.toString(),"ether")),c=O.ethers.utils.bigNumberify(O.ethers.utils.parseUnits("1"),"ether");if(0===e)i=(s=t).mul(o).div(c);else{if(1!==e)return;s=(i=t).mul(c).div(o)}try{n=O.ethers.utils.formatUnits(s.toString(),"ether")}catch(l){console.log(l),n=O.ethers.utils.formatUnits("0","ether")}try{r=O.ethers.utils.formatUnits(i.toString(),"ether")}catch(l){console.log(l),r=O.ethers.utils.formatUnits("0","ether")}this.setState({amount_0:s.toString(),ui_amount_0:n,amount_1:i.toString(),ui_amount_1:r})}},{key:"render",value:function(){var e=this,t=this.state,a=t.price,n=t.amount_0,s=t.amount_1,i=t.ui_amount_0,o=t.ui_amount_1,c=t.bignumbers,l=t.loading,u=t.success,m=t.error,d=t.sidetext,p=this.props,b=p.currencies,y=p.last_price,h=p.balances,f=p.options,g=!1,v=!1,E=O.ethers.utils.bigNumberify(h[0]),_=O.ethers.utils.bigNumberify(h[1]),k=O.ethers.utils.bigNumberify(n),S=O.ethers.utils.bigNumberify(s);""!==a&&E.gte(k)&&k.gt(O.ethers.utils.bigNumberify("1000"))&&(v=!0),""!==a&&_.gte(S)&&S.gt(O.ethers.utils.bigNumberify("1000"))&&(g=!0);var N="";return l&&(N=r.a.createElement("span",{className:"LimitOrder-color"},r.a.createElement(j.a,{active:!0,inline:!0,size:"small"})," ",d," ")),m&&(N=r.a.createElement("span",{className:"red LimitOrder-color"},"FAILED")),u&&(N=r.a.createElement("span",{className:"green LimitOrder-color"},"SUCCESS")),r.a.createElement("div",{className:"LimitOrder"},r.a.createElement(D.a,{size:"tiny"},r.a.createElement("div",{className:"LimitOrder-headers"},"Price"),r.a.createElement(D.a.Field,{id:"LimitOrder-price"},r.a.createElement(H.a,{label:{basic:!0,content:b[1]+" / "+b[0]},labelPosition:"right",placeholder:"Enter Price...",value:a,onChange:function(t){e.handlePriceChange(t.target.value)},disabled:f.readOnly}),r.a.createElement("span",{className:"LimitOrder-currentPrice",onClick:function(){return e.handlePriceChange(y)}},"Current Market Price")),r.a.createElement("hr",null),r.a.createElement("div",{className:"LimitOrder-headers",id:"LimitOrder-amount-header"},"Amounts"),r.a.createElement(D.a.Field,null,r.a.createElement(H.a,{label:{basic:!0,content:b[0]},labelPosition:"right",placeholder:"Enter Amount...",disabled:""===a||f.readOnly,value:i,onChange:function(t){e.handleAmountChange(0,t.target.value)},className:"LimitOrder-amount-input"}),r.a.createElement(B.a.Group,{className:"LimitOrder-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{disabled:""===a||f.readOnly,onClick:function(){return e.handleAmountChange(1,"")}},"0%"),r.a.createElement(B.a,{disabled:""===a||f.readOnly,onClick:function(){return e.handleAmountPercentageChange(0,E.div(c[4]))}},"25%"),r.a.createElement(B.a,{disabled:""===a||f.readOnly,onClick:function(){return e.handleAmountPercentageChange(0,E.div(c[2]))}},"50%"),r.a.createElement(B.a,{disabled:""===a||f.readOnly,onClick:function(){return e.handleAmountPercentageChange(0,E.mul(c[3]).div(c[4]))}},"75%"),r.a.createElement(B.a,{disabled:""===a||f.readOnly,onClick:function(){return e.handleAmountPercentageChange(0,E)}},"100%"))),r.a.createElement(D.a.Field,null,r.a.createElement(H.a,{label:{basic:!0,content:b[1]},labelPosition:"right",placeholder:"Enter Amount...",disabled:""===a||f.readOnly,value:o,onChange:function(t){e.handleAmountChange(1,t.target.value)},className:"LimitOrder-amount-input"}),r.a.createElement(B.a.Group,{className:"LimitOrder-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{disabled:""===a||f.readOnly,onClick:function(){return e.handleAmountChange(1,"")}},"0%"),r.a.createElement(B.a,{disabled:""===a||f.readOnly,onClick:function(){return e.handleAmountPercentageChange(1,_.div(c[4]))}},"25%"),r.a.createElement(B.a,{disabled:""===a||f.readOnly,onClick:function(){return e.handleAmountPercentageChange(1,_.div(c[2]))}},"50%"),r.a.createElement(B.a,{disabled:""===a||f.readOnly,onClick:function(){return e.handleAmountPercentageChange(1,_.mul(c[3]).div(c[4]))}},"75%"),r.a.createElement(B.a,{disabled:""===a||f.readOnly,onClick:function(){return e.handleAmountPercentageChange(1,_)}},"100%"))),r.a.createElement(B.a,{className:"LimitOrder-button",color:"green",disabled:!g||l||f.readOnly,onClick:function(){return e.handleSubmit("BUY")}},"BUY ",b[0]),r.a.createElement(B.a,{className:"LimitOrder-button",color:"red",disabled:!v||l||f.readOnly,onClick:function(){return e.handleSubmit("SELL")}},"SELL ",b[0]),N))}}]),t}(n.Component)),Y=(a(528),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={loading:[!1,!1],error:[!1,!1],success:[!1,!1],amounts:["0","0"],ui_amounts:["",""],expected_price:["",""],expected_amount:["0","0"],slippage:"2",bignumbers:[]},a.handleMarketBuy=a.handleMarketBuy.bind(Object(g.a)(Object(g.a)(a))),a.handleMarketSell=a.handleMarketSell.bind(Object(g.a)(Object(g.a)(a))),a.flashSuccess=a.flashSuccess.bind(Object(g.a)(Object(g.a)(a))),a.flashError=a.flashError.bind(Object(g.a)(Object(g.a)(a))),a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.generateBigNumbers()}},{key:"generateBigNumbers",value:function(){for(var e={},t=0;t<=10;t++){var a=t;e[a]=O.ethers.utils.bigNumberify(a)}this.setState({bignumbers:e})}},{key:"handleMarketBuy",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,s,i,o,c,l,m,d,p,b,y,h,f,g;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.loading,n=t.error,r=t.success,a[1]=!0,n[1]=!1,r[1]=!1,this.setState({loading:a,error:n,success:r}),s=this.state,i=s.amounts,o=s.expected_amount,c=s.slippage,l=this.props,m=l.currencies,d=l.options,p=d.contracts[m[0]].address,b=d.contracts[m[1]].address,y=O.ethers.utils.bigNumberify("100").sub(O.ethers.utils.bigNumberify(c)),h=y.mul(o[1]).div(O.ethers.utils.bigNumberify("100")),f={pay_gem:b,pay_amt:i[1],buy_gem:p,min_fill_amount:h.toString()},console.log(f),e.prev=13,e.next=16,d.contracts.Market.sellAllAmount(f.pay_gem,f.pay_amt,f.buy_gem,f.min_fill_amount,{gasLimit:5e5,gasPrice:d.gasPrice});case 16:return g=e.sent,e.next=19,g.wait();case 19:this.flashSuccess(1),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(13),this.flashError(1);case 25:case"end":return e.stop()}},e,this,[[13,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleMarketSell",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,s,i,o,c,l,m,d,p,b,y,h,f,g;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.loading,n=t.error,r=t.success,a[0]=!0,n[0]=!1,r[0]=!1,this.setState({loading:a,error:n,success:r}),s=this.state,i=s.amounts,o=s.expected_amount,c=s.slippage,l=this.props,m=l.currencies,d=l.options,p=d.contracts[m[0]].address,b=d.contracts[m[1]].address,y=O.ethers.utils.bigNumberify("100").sub(O.ethers.utils.bigNumberify(c)),h=y.mul(o[0]).div(O.ethers.utils.bigNumberify("100")),f={pay_gem:p,pay_amt:i[0],buy_gem:b,min_fill_amount:h.toString()},console.log(f),e.prev=13,e.next=16,d.contracts.Market.sellAllAmount(f.pay_gem,f.pay_amt,f.buy_gem,f.min_fill_amount,{gasLimit:5e5,gasPrice:d.gasPrice});case 16:return g=e.sent,e.next=19,g.wait();case 19:this.flashSuccess(0),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(13),this.flashError(0);case 25:case"end":return e.stop()}},e,this,[[13,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"flashSuccess",value:function(e){var t=this,a=this.state,n=a.loading,r=a.success,s=a.error;n[e]=!1,r[e]=!0,s[e]=!1,this.setState({loading:n,success:r,error:s}),setTimeout(function(){return t.reset(e)},1500)}},{key:"flashError",value:function(e){var t=this,a=this.state,n=a.loading,r=a.success,s=a.error;n[e]=!1,r[e]=!1,s[e]=!0,this.setState({loading:n,success:r,error:s}),setTimeout(function(){var a=t.state,n=a.loading,r=a.success,s=a.error;n[e]=!1,r[e]=!1,s[e]=!1,t.setState({error:s})},1500)}},{key:"reset",value:function(e){var t=this.state,a=t.loading,n=t.success,r=t.error,s=t.amounts,i=t.ui_amounts;a[e]=!1,n[e]=!1,r[e]=!1,s[e]="0",i[e]="",this.setState({loading:a,success:n,error:r,amounts:s,ui_amounts:i})}},{key:"setExpectedAmount",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,s,i,o,c,l,m,d,p,b,y;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.amounts,r=a.expected_amount,s=a.expected_price,i=this.props,o=i.currencies,c=i.options,l=c.contracts[o[0]].address,m=c.contracts[o[1]].address,d="0",p=n[t],0!==t){e.next=12;break}return e.next=9,c.contracts.Market.getBuyAmount(m,l,p);case 9:d=e.sent,e.next=16;break;case 12:if(1!==t){e.next=16;break}return e.next=15,c.contracts.Market.getBuyAmount(l,m,p);case 15:d=e.sent;case 16:"0"!==d&&"0"!==p?(d=O.ethers.utils.bigNumberify(d),p=O.ethers.utils.bigNumberify(p),b=O.ethers.utils.bigNumberify(O.ethers.utils.parseUnits("1","ether")),y=b.mul(d).div(p),1===t&&(y=b.mul(p).div(d)),y=Math.round(1e3*O.ethers.utils.formatUnits(y.toString(),"ether"))/1e3,r[t]=d,s[t]=y):(r[t]="0",s[t]=""),this.setState({expected_amount:r,expected_price:s});case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleAmountChange",value:function(e,t){var a=this,n=this.state,r=n.amounts,s=n.ui_amounts,i=r.slice(0),o=s.slice(0);try{if(/\S/.test(t)){var c=t,l=O.ethers.utils.bigNumberify(O.ethers.utils.parseUnits(c.toString(),"ether"));i[e]=l.toString(),o[e]=c.toString(),this.setState({amounts:i,ui_amounts:o})}else i[e]="0",o[e]=""}catch(u){console.log(u),i[e]="0",o[e]=""}this.setState({amounts:i,ui_amounts:o},function(){a.setExpectedAmount(e)})}},{key:"handleAmountPercentageChange",value:function(e,t){var a=this,n=this.state,r=n.amounts,s=n.ui_amounts,i=t,o=O.ethers.utils.formatUnits("0","ether");try{o=O.ethers.utils.formatUnits(i.toString(),"ether")}catch(u){console.log(u)}var c=r.slice(0),l=s.slice(0);c[e]=i.toString(),l[e]=o.toString(),this.setState({amounts:c,ui_amounts:l},function(){a.setExpectedAmount(e)})}},{key:"handleSlippageChange",value:function(e){(!/\S/.test(e)||/^\d+$/.test(e)&&e.length<=2&&e>=0&&e<=99)&&this.setState({slippage:e})}},{key:"calcMinExpectedAmount",value:function(e,t){var a=this.state,n=a.slippage,r=a.expected_price;if(""===n)return"";if("buy"===e){if(""===r[1])return"";var s=100/(100-parseFloat(n));return Math.round(s*r[1]*1e3)/1e3}if(""===r[0])return"";var i=(100-parseFloat(n))/100;return Math.round(i*r[0]*1e3)/1e3}},{key:"render",value:function(){var e=this,t=this.state,a=t.amounts,n=t.ui_amounts,s=t.expected_price,i=t.bignumbers,o=t.slippage,c=t.loading,l=t.success,u=t.error,m=this.props,d=m.currencies,p=m.balances,b=m.options,y=!1,h=!1,f=O.ethers.utils.bigNumberify(p[0]),g=O.ethers.utils.bigNumberify(p[1]),v=O.ethers.utils.bigNumberify(a[0]),E=O.ethers.utils.bigNumberify(a[1]);f.gte(v)&&v.gt(O.ethers.utils.bigNumberify("1000"))&&""!==o&&(h=!0),g.gte(E)&&E.gt(O.ethers.utils.bigNumberify("1000"))&&""!==o&&(y=!0);for(var _=["",""],k=0;k<2;k++)c[k]&&(_[k]=r.a.createElement("span",{className:"MarketOrder-color"},r.a.createElement(j.a,{active:!0,inline:!0,size:"small"})," LOADING...")),u[k]&&(_[k]=r.a.createElement("span",{className:"red MarketOrder-color"},"FAILED")),l[k]&&(_[k]=r.a.createElement("span",{className:"green MarketOrder-color"},"SUCCESS"));return r.a.createElement("div",{className:"MarketOrder"},r.a.createElement("div",{className:"MarketOrder-small-note"},"Slippage",r.a.createElement(H.a,{value:o,onChange:function(t){e.handleSlippageChange(t.target.value)},className:"MarketOrder-slippage-input",size:"mini"}),"%"),r.a.createElement("div",{className:"MarketOrder-pane"},r.a.createElement("div",{className:"MarketOrder-main-header"},"Market ",r.a.createElement("span",{className:"green"},"BUY")),r.a.createElement("div",{className:"MarketOrder-sub-header"},"Est. Price: ",s[1]," ",r.a.createElement("span",{className:"MarketOrder-tiny-note"},d[1],"/",d[0])),r.a.createElement("div",{className:"MarketOrder-sub-header"},"Max. Price: ",this.calcMinExpectedAmount("buy",s[1])," ",r.a.createElement("span",{className:"MarketOrder-tiny-note"},d[1],"/",d[0])),r.a.createElement(D.a,{size:"tiny"},r.a.createElement("div",{className:"MarketOrder-headers"},r.a.createElement("span",{className:"green"},"Buy")," Allowance"),r.a.createElement(D.a.Group,{widths:"equal"},r.a.createElement(D.a.Field,null,r.a.createElement(H.a,{label:{basic:!0,content:d[1]},labelPosition:"right",placeholder:"Enter Amount...",value:n[1],onChange:function(t){e.handleAmountChange(1,t.target.value)},className:"MarketOrder-amount-input",disabled:b.readOnly}),r.a.createElement(B.a.Group,{className:"MarketOrder-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{disabled:b.readOnly,onClick:function(){return e.handleAmountChange(1,"")}},"0%"),r.a.createElement(B.a,{disabled:b.readOnly,onClick:function(){return e.handleAmountPercentageChange(1,g.div(i[4]))}},"25%"),r.a.createElement(B.a,{disabled:b.readOnly,onClick:function(){return e.handleAmountPercentageChange(1,g.div(i[2]))}},"50%"),r.a.createElement(B.a,{disabled:b.readOnly,onClick:function(){return e.handleAmountPercentageChange(1,g.mul(i[3]).div(i[4]))}},"75%"),r.a.createElement(B.a,{disabled:b.readOnly,onClick:function(){return e.handleAmountPercentageChange(1,g)}},"100%")))),r.a.createElement(B.a,{className:"MarketOrder-button",color:"green",disabled:!y||c[1]||u[1]||b.readOnly,onClick:this.handleMarketBuy},"BUY ",d[0]),_[1])),r.a.createElement("hr",null),r.a.createElement("div",{className:"MarketOrder-pane"},r.a.createElement("div",{className:"MarketOrder-main-header"},"Market ",r.a.createElement("span",{className:"red"},"SELL")),r.a.createElement("div",{className:"MarketOrder-sub-header"},"Est. Price: ",s[0]," ",r.a.createElement("span",{className:"MarketOrder-tiny-note"},d[1],"/",d[0])),r.a.createElement("div",{className:"MarketOrder-sub-header"},"Min. Price: ",this.calcMinExpectedAmount("sell",s[0])," ",r.a.createElement("span",{className:"MarketOrder-tiny-note"},d[1],"/",d[0])),r.a.createElement(D.a,{size:"tiny"},r.a.createElement("div",{className:"MarketOrder-headers"},r.a.createElement("span",{className:"red"},"Sell")," Allowance"),r.a.createElement(D.a.Group,{widths:"equal"},r.a.createElement(D.a.Field,null,r.a.createElement(H.a,{label:{basic:!0,content:d[0]},labelPosition:"right",placeholder:"Enter Amount...",value:n[0],onChange:function(t){e.handleAmountChange(0,t.target.value)},className:"MarketOrder-amount-input",disabled:b.readOnly}),r.a.createElement(B.a.Group,{className:"MarketOrder-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{disabled:b.readOnly,onClick:function(){return e.handleAmountChange(0,"")}},"0%"),r.a.createElement(B.a,{disabled:b.readOnly,onClick:function(){return e.handleAmountPercentageChange(0,f.div(i[4]))}},"25%"),r.a.createElement(B.a,{disabled:b.readOnly,onClick:function(){return e.handleAmountPercentageChange(0,f.div(i[2]))}},"50%"),r.a.createElement(B.a,{disabled:b.readOnly,onClick:function(){return e.handleAmountPercentageChange(0,f.mul(i[3]).div(i[4]))}},"75%"),r.a.createElement(B.a,{disabled:b.readOnly,onClick:function(){return e.handleAmountPercentageChange(0,f)}},"100%")))),r.a.createElement(B.a,{className:"MarketOrder-button",color:"red",disabled:!h||c[0]||u[0]||b.readOnly,onClick:this.handleMarketSell},"SELL ",d[0]),_[0])))}}]),t}(n.Component)),F=a(681),G=(a(530),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"getMyOrders",value:function(){for(var e=this.props,t=e.orders,a=e.account,n=[],r=0;r<t.length;r++)t[r].maker===a&&n.push(t[r]);return n}},{key:"cancelOrder",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.options.contracts.Market,n=this.props.options,console.log("CANCEL ORDER "+t),e.prev=3,e.next=6,a.cancel(t,{gasLimit:5e5,gasPrice:n.gasPrice});case 6:return r=e.sent,e.next=9,r.wait();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[3,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.currencies,a=null,n=null,s=this.getMyOrders();return 0===s.length?n=r.a.createElement("div",{id:"MyOrders-empty"},"NO ORDERS"):a=r.a.createElement(F.a.Body,{id:"MyOrders-tableBody"},s.map(function(t,a){var n="BUY"===t.type?r.a.createElement("span",{className:"green MyOrders-color"},L(t.price)):r.a.createElement("span",{className:"red MyOrders-color"},L(t.price));return r.a.createElement(F.a.Row,{key:a},r.a.createElement(F.a.Cell,{textAlign:"left"},r.a.createElement("div",{className:"MyOrders-table-entry"},r.a.createElement(B.a,{className:"MyOrders-button",color:"red",size:"mini",inverted:!0,onClick:function(){e.cancelOrder(t.id)}},"CANCEL"))),r.a.createElement(F.a.Cell,null,r.a.createElement("div",{className:"MyOrders-table-entry"},n)),r.a.createElement(F.a.Cell,null,r.a.createElement("div",{className:"MyOrders-table-entry"},L(t.curr_0_amt))),r.a.createElement(F.a.Cell,{textAlign:"left"},r.a.createElement("div",{className:"MyOrders-table-entry"},L(t.curr_1_amt))))})),r.a.createElement("div",{className:"MyOrders"},r.a.createElement(F.a,{selectable:!0,striped:!0,basic:!0,celled:!0,unstackable:!0,columns:5,textAlign:"left",id:"MyOrders-table"},r.a.createElement(F.a.Header,null,r.a.createElement(F.a.Row,null,r.a.createElement(F.a.HeaderCell,{className:"MyOrders-table-header",textAlign:"left"},"Action"),r.a.createElement(F.a.HeaderCell,{className:"MyOrders-table-header",textAlign:"left"},"Price"),r.a.createElement(F.a.HeaderCell,{className:"MyOrders-table-header",textAlign:"left"},t[0]),r.a.createElement(F.a.HeaderCell,{className:"MyOrders-table-header",textAlign:"left"},t[1]))),a),n)}}]),t}(n.Component)),K=a(682),J=a(39),z=a(89),V=a(192),Z=a(185),X=a(190),q=a(191),$=a(196),Q=a(309),ee=a(310),te=a(9),ae=a(240),ne=(a(618),{wickStroke:"#7a8692",fill:function(e){return e.close>e.open?"rgba(0, 255, 0, 0.5)":"rgba(255, 0, 0, 0.5)"},widthRatio:.8,opacity:1}),re=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.orders.length!==e.orders.length}},{key:"buildChartPoints",value:function(e){var t=[],a=e[e.length-1].raw_timestamp;a-=a%9e5;for(var n={date:new Date(a),open:e[e.length-1].price,high:e[e.length-1].price,low:e[e.length-1].price,close:e[e.length-1].price,volume:parseFloat(O.ethers.utils.formatUnits(e[e.length-1].curr_1,"ether"))},r=a+9e5,s=e.length-2;s>=0;s--){var i=e[s];i.raw_timestamp<r?(n.volume+=parseFloat(O.ethers.utils.formatUnits(i.curr_1,"ether")),n.close=i.price,i.price>n.high?n.high=i.price:i.price<n.low&&(n.low=i.price)):(t.push(n),n={date:new Date(r),open:n.close,high:Math.max(i.price,n.close),low:Math.min(i.price,n.close),close:i.price,volume:parseFloat(O.ethers.utils.formatUnits(i.curr_1,"ether"))},r+=9e5)}return t}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.ratio,n=e.orders,s=r.a.createElement("div",{id:"CandleChart-loading"},"Loading...");if(n.length>0){var i=this.buildChartPoints(n),o=Object(ae.ema)().options({windowSize:10,sourcePath:"close"}).skipUndefined(!0).merge(function(e,t){e.ema10=t}).accessor(function(e){return e.ema10}).stroke("#ce4200"),c=Object(ae.ema)().options({windowSize:50,sourcePath:"close"}).skipUndefined(!0).merge(function(e,t){e.ema50=t}).accessor(function(e){return e.ema50}).stroke("blue"),l=c(o(i)),u={left:50,right:60,top:30,bottom:50},m={innerTickSize:-1*(t-u.left-u.right),tickStrokeDasharray:"Solid",tickStrokeOpacity:.2,tickStrokeWidth:1},d={innerTickSize:-1*(500-u.top-u.bottom),tickStrokeDasharray:"Solid",tickStrokeOpacity:.2,tickStrokeWidth:1},p=Q.discontinuousTimeScaleProvider.inputDateAccessor(function(e){return e.date})(l),b=p.data,y=p.xScale,h=p.xAccessor,f=p.displayXAccessor,g=[h(Object(te.last)(b)),h(b[Math.max(0,b.length-100)])];s=r.a.createElement(V.b,{height:500,ratio:a,width:t,margin:u,type:"hybrid",seriesName:"Data",data:b,xScale:y,xAccessor:h,displayXAccessor:f,xExtents:g,clamp:!0},r.a.createElement(V.a,{id:1,height:400,yExtents:[function(e){return[e.high+3,e.low-3]},o.accessor(),c.accessor()]},r.a.createElement(X.YAxis,Object.assign({axisAt:"right",orient:"right",ticks:10,stroke:"#9aa3ad",tickStroke:"#9aa3ad"},m)),r.a.createElement(Z.CandlestickSeries,ne),r.a.createElement(Z.LineSeries,{yAccessor:o.accessor(),stroke:o.stroke()}),r.a.createElement(Z.LineSeries,{yAccessor:c.accessor(),stroke:c.stroke()}),r.a.createElement(q.CurrentCoordinate,{yAccessor:o.accessor(),fill:o.stroke()}),r.a.createElement(q.CurrentCoordinate,{yAccessor:c.accessor(),fill:c.stroke()}),r.a.createElement($.OHLCTooltip,{origin:[10,10],xDisplayFormat:Object(z.timeFormat)("%m-%d-%y %I:%M %p"),textFill:"#9aa3ad"}),r.a.createElement($.MovingAverageTooltip,{origin:[10,25],textFill:"#9aa3ad",options:[{yAccessor:o.accessor(),type:"EMA",stroke:o.stroke(),windowSize:o.options().windowSize,echo:"some echo here"},{yAccessor:c.accessor(),type:"EMA",stroke:c.stroke(),windowSize:c.options().windowSize,echo:"some echo here"}]})),r.a.createElement(V.a,{id:2,origin:function(e,t){return[0,t-100]},height:100,yExtents:function(e){return e.volume}},r.a.createElement(X.XAxis,Object.assign({axisAt:"bottom",orient:"bottom",stroke:"#9aa3ad",tickStroke:"#9aa3ad"},d)),r.a.createElement(X.YAxis,{axisAt:"left",orient:"left",ticks:5,stroke:"#9aa3ad",tickStroke:"#9aa3ad",tickFormat:Object(J.format)(".2s")}),r.a.createElement(Z.BarSeries,{yAccessor:function(e){return e.volume},fill:function(e){return e.close>e.open?"rgba(0, 255, 0, 0.2)":"rgba(255, 0, 0, 0.3)"}})),r.a.createElement(q.CrossHairCursor,{stroke:"#9aa3ad",opacity:1}))}return r.a.createElement("div",{className:"CandleChart"},s)}}]),t}(n.Component),se=re=Object(ee.fitWidth)(re),ie=(a(620),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={},a.buildStat=a.buildStat.bind(Object(g.a)(Object(g.a)(a))),a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.orders.length!==e.orders.length}},{key:"updateStats",value:function(){var e={},t=this.props.orders;if(0===t.length)return{num_users:"...",num_buys:"...",num_sells:"...",buy_volume:"...",sell_volume:"...",last_price:"...",last_type:"..."};for(var a={num_users:0,num_buys:0,num_sells:0,buy_volume:0,sell_volume:0,last_price:0,last_type:"BUY"},n=0;n<t.length;n++){var r=t[n];r.maker in e||(e[r.maker]=1,a.num_users+=1),r.taker in e||(e[r.taker]=1,a.num_users+=1);var s=parseFloat(O.ethers.utils.formatUnits(r.curr_1.toString(),"ether"));"BUY"===r.type?(a.num_buys+=1,a.buy_volume+=s):"SELL"===r.type&&(a.num_sells+=1,a.sell_volume+=s)}return t.length>0&&(a.last_price=Math.round(1e3*t[0].price)/1e3,a.last_type=t[0].type,a.buy_volume=Math.round(100*a.buy_volume)/100,a.sell_volume=Math.round(100*a.sell_volume)/100),a}},{key:"buildStat",value:function(e,t){if("..."===t[e])return r.a.createElement("span",{className:"loading_value"},t[e]);var a=null,n=L(t[e]);return"buy_volume"!==e&&"sell_volume"!==e||(a="buy_volume"===e?"important-green":"important-red",n=r.a.createElement("span",{className:a+" value"},n.toString()," ",r.a.createElement("span",{className:"sub_value"},this.props.currencies[1]))),"num_buys"!==e&&"num_sells"!==e||(a="num_buys"===e?"important-green":"important-red",n=r.a.createElement("span",{className:a+" value"},n.toString())),"last_price"===e&&(a="BUY"===t.last_type?"important-green":"important-red",n=r.a.createElement("span",{className:a+" value"},n.toString()," ",r.a.createElement("span",{className:"sub_value"},this.props.currencies[1]," / ",this.props.currencies[0]))),n}},{key:"render",value:function(){for(var e=this.props,t=e.currencies,a=e.orders,n=["num_users","num_buys","num_sells","buy_volume","sell_volume","last_price"],s={},i=this.updateStats(),o=0;o<n.length;o++){var c=n[o];s[c]=this.buildStat(c,i)}var l=r.a.createElement("div",{id:"Stats-chart"},r.a.createElement(se,{orders:a,currencies:t}));return r.a.createElement("div",{className:"Stats"},l,r.a.createElement("div",{id:"Stats-statistics"},r.a.createElement(A.a,{id:"Stats-grid"},r.a.createElement(A.a.Row,null,r.a.createElement(A.a.Column,{mobile:8,tablet:4,computer:4,textAlign:"center"},r.a.createElement(K.a.Item,{className:"Stats-statistic"},r.a.createElement(K.a.Content,null,r.a.createElement(K.a.Header,{className:"Stats-header"},"# Buys"),r.a.createElement(K.a.Description,{className:"Stats-content"},s.num_buys)))),r.a.createElement(A.a.Column,{mobile:8,tablet:4,computer:4,textAlign:"center"},r.a.createElement(K.a.Item,{className:"Stats-statistic"},r.a.createElement(K.a.Content,null,r.a.createElement(K.a.Header,{className:"Stats-header"},"Buy Vol."),r.a.createElement(K.a.Description,{className:"Stats-content"},s.buy_volume)))),r.a.createElement(A.a.Column,{mobile:8,tablet:4,computer:4,textAlign:"center"},r.a.createElement(K.a.Item,{className:"Stats-statistic"},r.a.createElement(K.a.Content,null,r.a.createElement(K.a.Header,{className:"Stats-header"},"# Sells"),r.a.createElement(K.a.Description,{className:"Stats-content"},s.num_sells)))),r.a.createElement(A.a.Column,{mobile:8,tablet:4,computer:4,textAlign:"center"},r.a.createElement(K.a.Item,{className:"Stats-statistic"},r.a.createElement(K.a.Content,null,r.a.createElement(K.a.Header,{className:"Stats-header"},"Sell Vol."),r.a.createElement(K.a.Description,{className:"Stats-content"},s.sell_volume)))),r.a.createElement(A.a.Column,{mobile:8,tablet:8,computer:8,textAlign:"center"},r.a.createElement(K.a.Item,{className:"Stats-statistic"},r.a.createElement(K.a.Content,null,r.a.createElement(K.a.Header,{className:"Stats-header"},"Last Price"),r.a.createElement(K.a.Description,{className:"Stats-content"},s.last_price)))),r.a.createElement(A.a.Column,{mobile:8,tablet:8,computer:8,textAlign:"center"},r.a.createElement(K.a.Item,{className:"Stats-statistic"},r.a.createElement(K.a.Content,null,r.a.createElement(K.a.Header,{className:"Stats-header"},"# Users"),r.a.createElement(K.a.Description,{className:"Stats-content"},s.num_users))))))))}}]),t}(n.Component));a(622);function oe(e,t,a){if(e=O.ethers.utils.bigNumberify(e),t=O.ethers.utils.bigNumberify(t),e.lte(O.ethers.utils.bigNumberify("1000"))||t.lte(O.ethers.utils.bigNumberify("1000")))return!1;var n=O.ethers.utils.bigNumberify(O.ethers.utils.parseUnits("1","ether"));return"BUY"===a?[parseFloat(O.ethers.utils.formatUnits(n.mul(e).div(t).toString(),"ether")),t,e]:[parseFloat(O.ethers.utils.formatUnits(n.mul(t).div(e).toString(),"ether")),e,t]}function ce(e,t,a,n){var r=e.buy_gem.toUpperCase(),s=e.pay_gem.toUpperCase();return r===a.toUpperCase()&&s===n.toUpperCase()?"SELL":r===n.toUpperCase()&&s===a.toUpperCase()?"BUY":null}function le(e,t,a,n){for(var r=[],s=0;s<e.length;s++){var i=e[s],o=ce(i,0,a,n),c=oe(i.give_amt.toString(),i.take_amt.toString(),o);if(c){var l=new Date(1e3*i.timestamp);l=l.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"})+" "+l.toLocaleDateString(void 0,{day:"numeric",month:"numeric",year:"2-digit"}),i={raw_timestamp:1e3*i.timestamp,timestamp:l,type:o,price:c[0],curr_0:c[1],curr_1:c[2],taker:i.taker,maker:i.maker},r.push(i)}}return r.reverse(),r}function ue(e,t){return O.ethers.utils.solidityKeccak256(["bytes","bytes"],[e,t])}function me(){return(me=Object(m.a)(u.a.mark(function e(t,a,n){var r,s,i,o,c,l,m,d,p;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.Market,s=n[a[0]].address,i=n[a[1]].address,o=ue(s,i),c=ue(i,s),l=r.filters.LogTake(null,o,t,null,null,null),m=r.filters.LogTake(null,o,null,null,null,t),d=r.filters.LogTake(null,c,t,null,null,null),p=r.filters.LogTake(null,c,null,null,null,t),r.removeAllListeners(l).removeAllListeners(m).removeAllListeners(d).removeAllListeners(p);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function de(){return(de=Object(m.a)(u.a.mark(function e(t,a){var n,r,s,i,o,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.Market,r=a[t[0]].address,s=a[t[1]].address,i=ue(r,s),o=ue(s,r),c=n.filters.LogTake(null,i,null,null,null,null),l=n.filters.LogTake(null,o,null,null,null,null),n.removeAllListeners(c).removeAllListeners(l);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function pe(e,t,a,n){return be.apply(this,arguments)}function be(){return(be=Object(m.a)(u.a.mark(function e(t,a,n,r){var s,i,o,c,l,m,d,p,b;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=n.Market,i=n[a[0]].address,o=n[a[1]].address,c=ue(i,o),l=ue(o,i),m=s.filters.LogTake(null,c,t,null,null,null),d=s.filters.LogTake(null,c,null,null,null,t),p=s.filters.LogTake(null,l,t,null,null,null),b=s.filters.LogTake(null,l,null,null,null,t),s.on(m,function(e,t,a,n,s,c,l,u,m,d){var p=le([{id:e,pair:t,maker:a,pay_gem:n,buy_gem:s,taker:c,take_amt:l,give_amt:u,timestamp:m}],0,i,o);r(p)}),s.on(d,function(e,t,a,n,s,c,l,u,m,d){var p=le([{id:e,pair:t,maker:a,pay_gem:n,buy_gem:s,taker:c,take_amt:l,give_amt:u,timestamp:m}],0,i,o);r(p)}),s.on(p,function(e,t,a,n,s,c,l,u,m,d){var p=le([{id:e,pair:t,maker:a,pay_gem:n,buy_gem:s,taker:c,take_amt:l,give_amt:u,timestamp:m}],0,i,o);r(p)}),s.on(b,function(e,t,a,n,s,c,l,u,m,d){var p=le([{id:e,pair:t,maker:a,pay_gem:n,buy_gem:s,taker:c,take_amt:l,give_amt:u,timestamp:m}],0,i,o);r(p)});case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ye(e,t,a){return he.apply(this,arguments)}function he(){return(he=Object(m.a)(u.a.mark(function e(t,a,n){var r,s,i,o,c,l,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.Market,s=a[t[0]].address,i=a[t[1]].address,o=ue(s,i),c=ue(i,s),l=r.filters.LogTake(null,o,null,null,null,null),m=r.filters.LogTake(null,c,null,null,null,null),r.on(l,function(e,t,a,r,o,c,l,u,m,d){var p=le([{id:e,pair:t,maker:a,pay_gem:r,buy_gem:o,taker:c,take_amt:l,give_amt:u,timestamp:m}],0,s,i);n(p)}),r.on(m,function(e,t,a,r,o,c,l,u,m,d){var p=le([{id:e,pair:t,maker:a,pay_gem:r,buy_gem:o,taker:c,take_amt:l,give_amt:u,timestamp:m}],0,s,i);n(p)});case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var fe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={loading:!1,data:{amount_0_bought:"...",avg_buy_price:"...",amount_0_sold:"...",avg_sell_price:"...",profit:"..."}},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.eventsToData(this.props.orders);this.setState({data:e})}},{key:"shouldComponentUpdate",value:function(e,t){if(this.props.orders.length!==e.orders.length||this.state.data!==t.data){if(this.props.orders.length!==e.orders.length){var a=this.eventsToData(e.orders);this.setState({data:a})}return!0}return!1}},{key:"eventsToData",value:function(e){for(var t={},a=0;a<e.length;a++){var n=e[a],r=n.maker,s=n.taker,i=null,o=null;r in t||(t[r]=this.newUserProfile(r)),s in t||(t[s]=this.newUserProfile(s)),"BUY"===n.type?(i=s,o=r):(i=r,o=s);var c=t[i];c.amount_1_given=c.amount_1_given.add(n.curr_1),c.amount_0_received=c.amount_0_received.add(n.curr_0),t[i]=c,(c=t[o]).amount_0_given=c.amount_0_given.add(n.curr_0),c.amount_1_received=c.amount_1_received.add(n.curr_1),t[o]=c}var l={};for(var u in t){var m=oe(t[u].amount_1_given,t[u].amount_0_received,"BUY"),d=m?Math.round(10*m[0].toString())/10:"N/A",p=oe(t[u].amount_0_given,t[u].amount_1_received,"SELL"),b=p?Math.round(10*p[0].toString())/10:"N/A",y=this.getProfit(m,p),h={amount_0_bought:Math.round(10*O.ethers.utils.formatUnits(t[u].amount_0_received.toString(),"ether"))/10,avg_buy_price:d,amount_0_sold:Math.round(10*O.ethers.utils.formatUnits(t[u].amount_0_given.toString(),"ether"))/10,avg_sell_price:b,profit:y};l[u]=h}return l=this.props.account in l?l[this.props.account]:{amount_0_bought:"...",avg_buy_price:"...",amount_0_sold:"...",avg_sell_price:"...",profit:"..."}}},{key:"newUserProfile",value:function(e){return{address:e,amount_0_given:O.ethers.utils.bigNumberify("0"),amount_1_received:O.ethers.utils.bigNumberify("0"),amount_1_given:O.ethers.utils.bigNumberify("0"),amount_0_received:O.ethers.utils.bigNumberify("0")}}},{key:"getProfit",value:function(e,t){if(e&&t){var a=t[1],n=e[1],r=t[0],s=e[0],i=n.lt(a)?O.ethers.utils.formatUnits(n.toString(),"ether"):O.ethers.utils.formatUnits(a.toString(),"ether");return Math.round(i*(r-s)*100)/100}return 0}},{key:"render",value:function(){var e=this.props.currencies,t=this.state,a=t.loading,n=t.data,s=null;a?s=r.a.createElement("div",{id:"AccountStats-empty"},"Loading..."):0===n.length&&(s=r.a.createElement("div",{id:"AccountStats-empty"},"NO DATA"));var i="..."===n.profit?"":r.a.createElement("span",{className:"sub_value"},e[1]),o="..."===n.amount_0_bought?"":r.a.createElement("span",{className:"sub_value"},e[0]),c="..."===n.amount_0_sold?"":r.a.createElement("span",{className:"sub_value"},e[0]),l="Profit:",u=n.profit;return"..."!==u&&(u>0?u=r.a.createElement("span",{className:"green"},L(u)," ",i):(l="Loss:",u=r.a.createElement("span",{className:"red"},L(u)," ",i))),r.a.createElement("div",{className:"AccountStats"},r.a.createElement("div",{id:"AccountStats-grid"},r.a.createElement(A.a,null,r.a.createElement(A.a.Row,null,r.a.createElement(A.a.Column,{mobile:16,tablet:4,computer:4,textAlign:"center",className:"AccountStats-grid-col"},r.a.createElement("span",{className:"AccountStats-fieldName"},l)," ",u),r.a.createElement(A.a.Column,{mobile:16,tablet:3,computer:3,textAlign:"center",className:"AccountStats-grid-col"},r.a.createElement("span",{className:"AccountStats-fieldName"},"# Bought:")," ",L(n.amount_0_bought)," ",o),r.a.createElement(A.a.Column,{mobile:16,tablet:3,computer:3,textAlign:"center",className:"AccountStats-grid-col"},r.a.createElement("span",{className:"AccountStats-fieldName"},"Avg. Buy:")," ",L(n.avg_buy_price)),r.a.createElement(A.a.Column,{mobile:16,tablet:3,computer:3,textAlign:"center",className:"AccountStats-grid-col"},r.a.createElement("span",{className:"AccountStats-fieldName"},"# Sold:")," ",L(n.amount_0_sold)," ",c),r.a.createElement(A.a.Column,{mobile:16,tablet:3,computer:3,textAlign:"center",className:"AccountStats-grid-col"},r.a.createElement("span",{className:"AccountStats-fieldName"},"Avg. Sell:")," ",L(n.avg_sell_price))))),s)}}]),t}(n.Component),ge=(a(624),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={},a.max_order=1,a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.orders.length!==e.orders.length}},{key:"getMax",value:function(e){return Math.max.apply(Math,e.slice(0,250).map(function(e){return e.curr_1}))}},{key:"rowRenderer",value:function(e){var t=e.index,a=e.key,n=e.style,s=this.props.orders[t],i=s.type,o=s.curr_1/this.max_order*100,c="rgba(255, 0, 0, 0.2)",l="rgba(0,0,0,0)";"BUY"===i&&(c="rgba(0, 255, 0, 0.1)",l="rgba(0, 0, 0, 0)");var u={backgroundColor:t%2===0?"#182026":"#1c262c",backgroundImage:"linear-gradient(to ".concat("right",", ").concat(c," , ").concat(c,"), linear-gradient(to ").concat("right",", ").concat(l,", ").concat(l,")"),backgroundSize:"calc(".concat(o,"%) 100%"),backgroundRepeat:"no-repeat"};n=Object.assign(u,n);var m="BUY"===s.type?r.a.createElement("span",{className:"green MarketHistory-type"},L(Math.round(100*s.price)/100)):r.a.createElement("span",{className:"red MarketHistory-type"},L(Math.round(100*s.price)/100)),d=r.a.createElement("div",{className:"MarketHistory-participants"},r.a.createElement("div",{className:"MarketHistory-taker"},r.a.createElement(U,{icon_only:!0,address:s.taker})),r.a.createElement("div",{className:"MarketHistory-arrow"},r.a.createElement(C.a,{size:"large",name:"long arrow alternate right"})),r.a.createElement("div",{className:"MarketHistory-maker"},r.a.createElement(U,{icon_only:!0,address:s.maker})));return r.a.createElement("div",{className:"MarketHistory-table-entry",key:a,style:n},r.a.createElement(A.a,{padded:!0},r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:3},m),r.a.createElement(A.a.Column,{computer:4,tablet:4,mobile:6},s.timestamp),r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:3},L(Math.round(100*O.ethers.utils.formatUnits(s.curr_0,"ether"))/100)),r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:4},L(Math.round(100*O.ethers.utils.formatUnits(s.curr_1,"ether"))/100)),r.a.createElement(A.a.Column,{computer:3,tablet:3,only:"computer tablet",textAlign:"center"},d)))}},{key:"render",value:function(){var e=this,t=this.props,a=t.currencies,n=t.orders;this.max_order=this.getMax(n);var s=null;return 0===n.length&&(s=r.a.createElement("div",{id:"Leaderboard-empty"},"Loading...")),r.a.createElement("div",{className:"MarketHistory"},r.a.createElement(A.a,{id:"MarketHistory-table-header"},r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:3},"Price"),r.a.createElement(A.a.Column,{computer:4,tablet:4,mobile:6},"Time"),r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:3},a[0]),r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:4},a[1]),r.a.createElement(A.a.Column,{computer:3,tablet:3,only:"computer tablet"},"Participants")),r.a.createElement(w.a,{style:{outline:"none"}},function(t){var a=t.height,s=t.width;return r.a.createElement(w.b,{width:s,height:a-50,rowHeight:50,rowCount:n.length,rowRenderer:function(t){return e.rowRenderer(t)},className:"MarketHistory-infinite-list"})}),s)}}]),t}(n.Component)),ve=(a(626),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={loading:!1,data:[],direction:"ascending",column:"profit"},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.eventsToData(this.props.orders),t=1;e.length>0&&(t=Math.max(Math.abs(e[0].profit),Math.abs(e[e.length-1].profit))),this.setState({max_profit:t,data:e})}},{key:"shouldComponentUpdate",value:function(e,t){if(this.props.orders.length!==e.orders.length||this.state.data!==t.data||this.state.direction!==t.direction||this.state.column!==t.column){if(this.props.orders.length!==e.orders.length){var a=this.eventsToData(e.orders),n=1;a.length>0&&(n=Math.max(Math.abs(a[0].profit),Math.abs(a[a.length-1].profit))),this.setState({max_profit:n,data:a})}return!0}return!1}},{key:"eventsToData",value:function(e){for(var t={},a=0;a<e.length;a++){var n=e[a],r=n.maker,s=n.taker,i=null,o=null;r in t||(t[r]=this.newUserProfile(r)),s in t||(t[s]=this.newUserProfile(s)),"BUY"===n.type?(i=s,o=r):(i=r,o=s);var c=t[i];c.amount_1_given=c.amount_1_given.add(n.curr_1),c.amount_0_received=c.amount_0_received.add(n.curr_0),t[i]=c,(c=t[o]).amount_0_given=c.amount_0_given.add(n.curr_0),c.amount_1_received=c.amount_1_received.add(n.curr_1),t[o]=c}var l=[];for(var u in t){var m=oe(t[u].amount_1_given,t[u].amount_0_received,"BUY"),d=m?Math.round(10*m[0].toString())/10:"N/A",p=oe(t[u].amount_0_given,t[u].amount_1_received,"SELL"),b=p?Math.round(10*p[0].toString())/10:"N/A",y=this.getProfit(m,p),h={user:u,amount_0_bought:Math.round(10*O.ethers.utils.formatUnits(t[u].amount_0_received.toString(),"ether"))/10,avg_buy_price:d,amount_0_sold:Math.round(10*O.ethers.utils.formatUnits(t[u].amount_0_given.toString(),"ether"))/10,avg_sell_price:b,profit:y};l.push(h)}return l.sort(function(e,t){return t.profit-e.profit}),l}},{key:"rowRenderer",value:function(e){var t=e.index,a=e.key,n=e.style,s=this.state.max_profit,i=this.props,o=i.currencies,c=i.account,l=i.options,u=this.state.data[t],m=Math.abs(u.profit)/s*100,d="rgba(255, 0, 0, 0.2)",p="rgba(0,0,0,0)";u.profit>0&&(d="rgba(0, 255, 0, 0.1)",p="rgba(0, 0, 0, 0)");var b=t%2===0?"#182026":"#1c262c";c===u.user&&(b="#3f4a50");var y={backgroundColor:b,backgroundImage:"linear-gradient(to ".concat("right",", ").concat(d," , ").concat(d,"), linear-gradient(to ").concat("right",", ").concat(p,", ").concat(p,")"),backgroundSize:"calc(".concat(m,"%) 100%"),backgroundRepeat:"no-repeat"};n=Object.assign(y,n);var h="grey";return u.profit>0?h="green":u.profit<0&&(h="red"),r.a.createElement("div",{className:"Leaderboard-table-entry",key:a,style:n},r.a.createElement(A.a,{padded:!0},r.a.createElement(A.a.Column,{computer:4,tablet:6,mobile:10},r.a.createElement(U,{address:u.user,currencies:o,options:l})),r.a.createElement(A.a.Column,{computer:3,tablet:2,only:"computer tablet"},r.a.createElement("span",null,L(u.amount_0_bought)+" ",r.a.createElement("span",{className:"Leaderboard-subtext"},o[0]))),r.a.createElement(A.a.Column,{computer:2,tablet:2,only:"computer tablet"},L(u.avg_buy_price)),r.a.createElement(A.a.Column,{computer:3,tablet:2,only:"computer tablet"},r.a.createElement("span",null,L(u.amount_0_sold)+" ",r.a.createElement("span",{className:"Leaderboard-subtext"},o[0]))),r.a.createElement(A.a.Column,{computer:2,tablet:2,only:"computer tablet"},L(u.avg_sell_price)),r.a.createElement(A.a.Column,{computer:2,tablet:2,mobile:6},r.a.createElement("span",{className:h},L(u.profit)+" ",r.a.createElement("span",{className:"Leaderboard-subtext"},o[1])))))}},{key:"handleSort",value:function(e){var t=this.state,a=t.column,n=t.data,r=t.direction;if(a!==e){var s=n.concat().sort(function(t,a){return"N/A"===t[e]?1:"N/A"===a[e]?-1:a[e]-t[e]});this.setState({column:e,data:s,direction:"ascending"})}else this.setState({data:n.reverse(),direction:"ascending"===r?"descending":"ascending"})}},{key:"newUserProfile",value:function(e){return{address:e,amount_0_given:O.ethers.utils.bigNumberify("0"),amount_1_received:O.ethers.utils.bigNumberify("0"),amount_1_given:O.ethers.utils.bigNumberify("0"),amount_0_received:O.ethers.utils.bigNumberify("0")}}},{key:"getProfit",value:function(e,t){if(e&&t){var a=t[1],n=e[1],r=t[0],s=e[0],i=n.lt(a)?O.ethers.utils.formatUnits(n.toString(),"ether"):O.ethers.utils.formatUnits(a.toString(),"ether");return Math.round(i*(r-s)*100)/100}return 0}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.data,s=t.column,i=t.direction,o=null;a?o=r.a.createElement("div",{id:"Leaderboard-empty"},"Loading..."):0===n.length&&(o=r.a.createElement("div",{id:"Leaderboard-empty"},"NO DATA"));var c="\u25b2";"descending"===i&&(c="\u25bc");var l={name:"Name",amount_0_bought:"# Bought",avg_buy_price:"Avg. Buy",amount_0_sold:"# Sold",avg_sell_price:"Avg. Sell",profit:"Profit"};return l[s]=l[s]+c,r.a.createElement("div",{className:"Leaderboard"},r.a.createElement(A.a,{id:"Leaderboard-table-header"},r.a.createElement(A.a.Column,{computer:4,tablet:6,mobile:10},l.name),r.a.createElement(A.a.Column,{computer:3,tablet:2,onClick:function(){return e.handleSort("amount_0_bought")},only:"computer tablet"},l.amount_0_bought),r.a.createElement(A.a.Column,{computer:2,tablet:2,onClick:function(){return e.handleSort("avg_buy_price")},only:"computer tablet"},l.avg_buy_price),r.a.createElement(A.a.Column,{computer:3,tablet:2,onClick:function(){return e.handleSort("amount_0_sold")},only:"computer tablet"},l.amount_0_sold),r.a.createElement(A.a.Column,{computer:2,tablet:2,onClick:function(){return e.handleSort("avg_sell_price")},only:"computer tablet"},l.avg_sell_price),r.a.createElement(A.a.Column,{computer:2,tablet:2,mobile:6,onClick:function(){return e.handleSort("profit")}},l.profit)),r.a.createElement(w.a,{style:{outline:"none"}},function(t){var a=t.height,s=t.width;return r.a.createElement(w.b,{width:s,height:a-50,rowHeight:50,rowCount:n.length,rowRenderer:function(t){return e.rowRenderer(t)},className:"Leaderboard-infinite-list"})}),o)}}]),t}(n.Component)),Ee=(a(628),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={loading:!0},a.my_orders=[],a.max_order=1,a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.orders.length>0&&this.setState({loading:!1})}},{key:"shouldComponentUpdate",value:function(e,t){return!(!this.state.loading||t.loading)||this.props.orders.length!==e.orders.length&&(this.setState({loading:!1}),!0)}},{key:"getMax",value:function(){return Math.max.apply(Math,this.my_orders.map(function(e){return e.curr_1}))}},{key:"getMyOrders",value:function(){for(var e=this.props,t=e.orders,a=e.account,n=[],r=0;r<t.length;r++){var s=t[r];if(s.maker===a){var i=Object.assign({},s);i.participant=i.taker,i.type="BUY"===i.type?"SELL":"BUY",n.push(i)}else if(s.taker===a){var o=Object.assign({},s);o.participant=o.maker,n.push(o)}}return n}},{key:"rowRenderer",value:function(e){var t=e.index,a=e.key,n=e.style,s=this.my_orders[t],i=s.type,o=s.curr_1/this.max_order*100,c="rgba(255, 0, 0, 0.2)",l="rgba(0,0,0,0)";"BUY"===i&&(c="rgba(0, 255, 0, 0.1)",l="rgba(0, 0, 0, 0)");var u={backgroundColor:t%2===0?"#182026":"#1c262c",backgroundImage:"linear-gradient(to ".concat("right",", ").concat(c," , ").concat(c,"), linear-gradient(to ").concat("right",", ").concat(l,", ").concat(l,")"),backgroundSize:"calc(".concat(o,"%) 100%"),backgroundRepeat:"no-repeat"};n=Object.assign(u,n);var m="BUY"===s.type?r.a.createElement("span",{className:"green MarketHistory-type"},L(Math.round(100*s.price)/100)):r.a.createElement("span",{className:"red MarketHistory-type"},L(Math.round(100*s.price)/100));return r.a.createElement("div",{className:"MarketHistory-table-entry",key:a,style:n},r.a.createElement(A.a,{padded:!0},r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:3},m),r.a.createElement(A.a.Column,{computer:4,tablet:4,mobile:6},s.timestamp),r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:3},L(Math.round(100*O.ethers.utils.formatUnits(s.curr_0,"ether"))/100)),r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:4},L(Math.round(100*O.ethers.utils.formatUnits(s.curr_1,"ether"))/100)),r.a.createElement(A.a.Column,{computer:3,tablet:3,only:"computer tablet",textAlign:"center"},r.a.createElement(U,{address:s.participant,icon_only:!0}))))}},{key:"render",value:function(){var e=this,t=this.state.loading,a=this.props.currencies,n=null;return this.my_orders=this.getMyOrders(),t?n=r.a.createElement("div",{id:"MarketHistory-empty"},"Loading..."):0===this.my_orders.length?n=r.a.createElement("div",{id:"MarketHistory-empty"},"NO ORDERS"):this.max_order=this.getMax(),r.a.createElement("div",{className:"MarketHistory"},r.a.createElement(A.a,{id:"MarketHistory-table-header"},r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:3},"Price"),r.a.createElement(A.a.Column,{computer:4,tablet:4,mobile:6},"Time"),r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:3},a[0]),r.a.createElement(A.a.Column,{computer:3,tablet:3,mobile:4},a[1]),r.a.createElement(A.a.Column,{computer:3,tablet:3,only:"computer tablet"},"Participants")),r.a.createElement(w.a,{style:{outline:"none"}},function(t){var a=t.height,n=t.width;return r.a.createElement(w.b,{width:n,height:a-50,rowHeight:50,rowCount:e.my_orders.length,rowRenderer:function(t){return e.rowRenderer(t)},className:"MarketHistory-infinite-list"})}),n)}}]),t}(n.Component)),_e=a(687),ke=a(667),Oe=(a(630),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={loading:!1,visible:!1,amount:"0",ui_amount:"",currency_0_balance:"0",currency_1_balance:"0",id:null,info:null,owner:null,bignumbers:{},button_loading:!1,button_success:!1,button_error:!1},a.updateInfo=a.updateInfo.bind(Object(g.a)(Object(g.a)(a))),a.stopLoading=a.stopLoading.bind(Object(g.a)(Object(g.a)(a))),a.flashError=a.flashError.bind(Object(g.a)(Object(g.a)(a))),a.flashSuccess=a.flashSuccess.bind(Object(g.a)(Object(g.a)(a))),a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.generateBigNumbers(),this.updateInfo()}},{key:"updateInfo",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,s,i,o,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.account,n=t.currencies,r=t.options,!this.state.visible||!this.state.id){e.next=15;break}return e.next=4,r.contracts[n[0]].balanceOf(a);case 4:return s=e.sent,e.next=7,r.contracts[n[1]].balanceOf(a);case 7:return i=e.sent,e.next=10,r.contracts.Market.getOffer(this.state.id);case 10:return o=e.sent,e.next=13,r.contracts.Market.getOwner(this.state.id);case 13:c=e.sent,this.setState({currency_0_balance:s,currency_1_balance:i,info:o,owner:c});case 15:setTimeout(this.updateInfo,3e3);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"generateBigNumbers",value:function(){for(var e={},t=0;t<=10;t++){var a=t;e[a]=O.ethers.utils.bigNumberify(a)}this.setState({bignumbers:e})}},{key:"stopLoading",value:function(){this.setState({loading:!1})}},{key:"componentWillReceiveProps",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.visible!==this.props.visible&&(this.setState({visible:t.visible}),!1===t.visible&&this.setState({info:null,owner:null,amount:"0",ui_amount:"",button_success:!1,button_error:!1,button_loading:!1})),t.sidebar_info===this.props.sidebar_info){e.next=11;break}return this.setState({loading:!0}),e.next=5,this.props.options.contracts.Market.getOffer(t.sidebar_info.id);case 5:return a=e.sent,e.next=8,this.props.options.contracts.Market.getOwner(t.sidebar_info.id);case 8:n=e.sent,this.setState({id:t.sidebar_info.id,info:a,owner:n,amount:"0",ui_amount:""}),setTimeout(this.stopLoading,50);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"flashSuccess",value:function(){var e=this.props.toggleSidebar;this.setState({button_success:!0,button_loading:!1}),setTimeout(e,1500)}},{key:"flashError",value:function(){var e=this;this.setState({button_error:!0,button_loading:!1}),setTimeout(function(){return e.setState({button_error:!1})},1500)}},{key:"executeTrade",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,s,i,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,n=a.sidebar_info,r=a.options,s=n.id,i={id:s,will_receive:t.toString(),will_receive_wholenums:O.ethers.utils.formatUnits(t.toString(),"ether")},console.log(i),e.prev=4,e.next=7,this.props.options.contracts.Market.buy(s,t.toString(),{gasLimit:5e5,gasPrice:r.gasPrice});case 7:return o=e.sent,this.setState({button_loading:!0}),e.next=11,o.wait();case 11:this.flashSuccess(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),this.flashError();case 17:case"end":return e.stop()}},e,this,[[4,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleUserChange",value:function(e){var t=0;try{/\S/.test(e)&&(t=O.ethers.utils.parseUnits(e.toString(),"ether").toString())}catch(a){return void console.log(a)}this.setState({ui_amount:e,amount:t})}},{key:"handleAmountPercentageChange",value:function(e){var t=O.ethers.utils.formatUnits(e.toString(),"ether");this.setState({amount:e.toString(),ui_amount:t})}},{key:"getUpdatedInfo",value:function(){var e=this.state.info,t=this.props.sidebar_info;if(!e)return null;var a=e[0],n=e[2];return"BUY"===t.type?{price:t.price,curr_0_amt:n.toString(),curr_1_amt:a.toString()}:{price:t.price,curr_0_amt:a.toString(),curr_1_amt:n.toString()}}},{key:"calcWillReceive",value:function(){var e=this.state.amount,t=O.ethers.utils.bigNumberify(this.state.info[0]),a=O.ethers.utils.bigNumberify(this.state.info[2]),n=O.ethers.utils.bigNumberify(e);try{return n.mul(t).div(a)}catch(r){return O.ethers.utils.bigNumberify("0")}}},{key:"getMaxTake",value:function(){var e=this.props.sidebar_info,t=this.state,a=t.info,n=t.currency_0_balance,r=t.currency_1_balance,s=O.ethers.utils.bigNumberify(a[2]),i="BUY"===e.type?O.ethers.utils.bigNumberify(n):O.ethers.utils.bigNumberify(r);return i.lt(s)?i:s}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.amount,s=t.ui_amount,i=t.currency_0_balance,o=t.currency_1_balance,c=t.bignumbers,l=t.loading,u=t.button_loading,m=t.button_error,d=t.button_success,p=t.owner,b=this.props,y=b.currencies,h=b.toggleSidebar,f=b.sidebar_info,g=b.options,v="BUY"===f.type?"SELL":"BUY",E="BUY"===v?r.a.createElement("span",{className:"green"},v):r.a.createElement("span",{className:"red"},"SELL"),_=this.getUpdatedInfo();if(!_||l)return r.a.createElement("div",{className:"Side_bar"},r.a.createElement(_e.a,{as:ke.a,animation:"overlay",direction:"right",visible:a,id:"Side_bar"},r.a.createElement("div",{id:"Side_bar-x-container"},r.a.createElement(C.a,{name:"close",onClick:h,id:"Side_bar-x",size:"large"})),r.a.createElement("div",{id:"Side_bar-title"},"Take Order"),r.a.createElement(j.a,{active:!0},"Loading")));var k={currency:null,receive_currency:null,balance:0,offered:0,max_take:this.getMaxTake(),will_receive:this.calcWillReceive(),maker:p?r.a.createElement(U,{address:p,options:g,currencies:y}):"Loading..."};k.ui_will_receive=Math.round(1e3*O.ethers.utils.formatUnits(k.will_receive.toString(),"ether"))/1e3,"BUY"===v?(k.currency=y[1],k.receive_currency=y[0],k.balance=O.ethers.utils.bigNumberify(o),k.ui_balance=Math.round(1e3*O.ethers.utils.formatUnits(o.toString(),"ether"))/1e3,k.offered=O.ethers.utils.bigNumberify(_.curr_1_amt),k.ui_offered=Math.round(1e3*O.ethers.utils.formatUnits(_.curr_1_amt,"ether"))/1e3):(k.currency=y[0],k.receive_currency=y[1],k.balance=O.ethers.utils.bigNumberify(i),k.ui_balance=Math.round(1e3*O.ethers.utils.formatUnits(i.toString(),"ether"))/1e3,k.offered=O.ethers.utils.bigNumberify(_.curr_0_amt),k.ui_offered=Math.round(1e3*O.ethers.utils.formatUnits(_.curr_0_amt,"ether"))/1e3);var S=v+" "+y[0];return S=d?"SUCCESS":S,S=m?"FAILED":S,r.a.createElement("div",{className:"Side_bar"},r.a.createElement(_e.a,{as:ke.a,animation:"overlay",direction:"right",visible:a,id:"Side_bar"},r.a.createElement("div",{id:"Side_bar-x-container"},r.a.createElement(C.a,{name:"close",onClick:h,id:"Side_bar-x",size:"large"})),r.a.createElement("div",{id:"Side_bar-title"},"Take Order"),r.a.createElement("div",{id:"Side_bar-subtitle"},"How much would you like to ",E,"?"),r.a.createElement("div",{id:"Side_bar-info"},r.a.createElement("div",{className:"Side_bar-info-item"},r.a.createElement("div",{className:"Side_bar-info-title"},"Maker:"),r.a.createElement("div",{className:"Side_bar-info-content"},k.maker)),r.a.createElement("div",{className:"Side_bar-info-item"},r.a.createElement("div",{className:"Side_bar-info-title"},"Price:"),r.a.createElement("div",{className:"Side_bar-info-content"},L(_.price)," ",r.a.createElement("span",{id:"Side_bar-exchange"},y[1]," / ",y[0]))),r.a.createElement("div",{className:"Side_bar-info-item"},r.a.createElement("div",{className:"Side_bar-info-title"},"Balance ",k.currency,":"),r.a.createElement("div",{className:"Side_bar-info-content"},L(k.ui_balance)," ",r.a.createElement("span",{id:"Side_bar-exchange"},k.currency))),r.a.createElement("div",{className:"Side_bar-info-item"},r.a.createElement("div",{className:"Side_bar-info-title"},"Offered ",k.currency,":"),r.a.createElement("div",{className:"Side_bar-info-content"},L(k.ui_offered)," ",r.a.createElement("span",{id:"Side_bar-exchange"},k.currency)))),r.a.createElement(D.a,{size:"tiny",id:"Side_bar-form"},r.a.createElement(D.a.Field,null,r.a.createElement("div",null,r.a.createElement("div",{className:"Side_bar-info-title"},"Spend ",k.currency,":"),r.a.createElement(H.a,{label:{basic:!0,content:k.currency},labelPosition:"right",placeholder:"Enter Amount...",value:s,onChange:function(t){e.handleUserChange(t.target.value)},disabled:g.readOnly}))),r.a.createElement(B.a.Group,{id:"Side_bar-mini-buttons",size:"mini",basic:!0},r.a.createElement(B.a,{disabled:g.readOnly,onClick:function(){return e.handleUserChange("")}},"0%"),r.a.createElement(B.a,{disabled:g.readOnly,onClick:function(){return e.handleAmountPercentageChange(k.max_take.div(c[4]))}},"25%"),r.a.createElement(B.a,{disabled:g.readOnly,onClick:function(){return e.handleAmountPercentageChange(k.max_take.div(c[2]))}},"50%"),r.a.createElement(B.a,{disabled:g.readOnly,onClick:function(){return e.handleAmountPercentageChange(k.max_take.mul(c[3]).div(c[4]))}},"75%"),r.a.createElement(B.a,{disabled:g.readOnly,onClick:function(){return e.handleAmountPercentageChange(k.max_take)}},"100%"))),r.a.createElement("div",{className:"Side_bar-info-item"},r.a.createElement("div",{className:"Side_bar-info-title"},"Will Receive"),r.a.createElement("div",{className:"Side_bar-info-content"},k.ui_will_receive.toString()+" "+k.receive_currency)),r.a.createElement(B.a,{className:"BuySell-button",loading:u,color:"BUY"===v?"green":"red",disabled:g.readOnly||S!==v+" "+y[0]||k.will_receive.lte(O.ethers.utils.bigNumberify("1000"))||O.ethers.utils.bigNumberify(n).gt(k.max_take),onClick:function(){return e.executeTrade(k.will_receive)}},S)))}}]),t}(n.Component));function Se(e,t){for(var a=e.ids.length,n=[],r=0;r<a;r++)if("0"!==e.ids[r].toString()){var s=e.ids[r].toString(),i=e.owners[r],o=O.ethers.utils.formatUnits(e.payAmts[r].toString(),"ether"),c=O.ethers.utils.formatUnits(e.buyAmts[r].toString(),"ether"),l=0,u={};"BUY"===t?u={price:l=Math.round(o/c*1e3)/1e3,curr_0_amt:c=Math.round(1e3*c)/1e3,curr_1_amt:o=Math.round(1e3*o)/1e3,id:s,type:t,maker:i}:(l=Math.round(c/o*1e3)/1e3,c=Math.round(1e3*c)/1e3,u={price:l,curr_0_amt:o=Math.round(1e3*o)/1e3,curr_1_amt:c,id:s,type:t,maker:i}),n.push(u)}return n}function Ne(e){var t=e.ids.filter(function(e){return 0!==e.toNumber()}).length;return{ids:e.ids.slice(0,t),payAmts:e.payAmts.slice(0,t),buyAmts:e.buyAmts.slice(0,t),owners:e.owners.slice(0,t),timestamps:e.timestamps.slice(0,t)}}function Ae(e,t,a){return Me.apply(this,arguments)}function Me(){return(Me=Object(m.a)(u.a.mark(function e(t,a,n){var r,s,i,o,c,l,m,d,p,b;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.Market,2!==a.length){e.next=30;break}return s=n[a[0]].address,i=n[a[1]].address,o=null,c=null,"BUY"===t?(o=i,c=s):(o=s,c=i),e.next=9,n.SupportMethods.getOffers(r.address,o,c);case 9:l=e.sent,m=l.ids.length;case 11:if(0===m){e.next=27;break}return e.next=14,n.Market.getWorseOffer(l.ids[l.ids.length-1]);case 14:return d=e.sent,e.next=17,n.SupportMethods["getOffers(address,uint256)"](r.address,d);case 17:p=Ne(p=e.sent),m=p.ids.length,l.ids=l.ids.concat(p.ids),l.payAmts=l.payAmts.concat(p.payAmts),l.buyAmts=l.buyAmts.concat(p.buyAmts),l.owners=l.owners.concat(p.owners),l.timestamps=l.timestamps.concat(p.timestamps),e.next=11;break;case 27:return b=[],l&&(b=Se(l,t)),e.abrupt("return",b);case 30:return e.abrupt("return",[]);case 31:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Ce=a(311),we=a.n(Ce),Le=a(203),Re=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).addOrders=function(e){e.length>0&&a.setDocTitle(e[0]),a.setState({past_orders:e.concat(a.state.past_orders)})},a.addMyOrders=function(e){a.setState({my_past_orders:e.concat(a.state.my_past_orders)})},a.setSidebar=function(e){a.setState({sidebar_info:e,visible:!0})},a.toggleSidebar=function(){a.setState({visible:!a.state.visible})},a.state={visible:!1,account:"",sidebar_info:{price:0,curr_0_amt:0,curr_1_amt:0,id:"",type:""},past_orders:[],my_past_orders:[],open_buy_orders:[],open_sell_orders:[],balances:["0","0"],timers:[null,null],num_order_calls:0,num_my_order_calls:0,logged_latest_block:0,done_loading:!1,done_loading_my_orders:!1},a.updateBalances=a.updateBalances.bind(Object(g.a)(Object(g.a)(a))),a.updateOpenOrders=a.updateOpenOrders.bind(Object(g.a)(Object(g.a)(a))),a.pastOrderWorker=new we.a,a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,s=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.currencies,n=t.options,e.next=3,n.signer.getAddress();case 3:return r=e.sent,e.t0=this,e.next=7,n.provider.getBlockNumber();case 7:e.t1=e.sent,e.t2={logged_latest_block:e.t1},e.t3=function(){s.pastOrderWorker.addEventListener("message",function(e){var t=e.data.type,a=e.data.payload;"pastOrders"===t?s.processNewBatchPastOrders(a):"myPastOrders"===t&&s.processNewBatchMyPastOrders(a)}),s.pastOrderWorker.postMessage({type:"pastOrders",currencies:a,toBlock:s.state.logged_latest_block,numBlocks:720}),s.pastOrderWorker.postMessage({type:"myPastOrders",account:r,currencies:a,toBlock:s.state.logged_latest_block,numBlocks:Math.ceil((s.state.logged_latest_block-parseInt(Le.market.main.blockNumber))/10)})},e.t0.setState.call(e.t0,e.t2,e.t3),this.setState({account:r}),this.updateOpenOrders(),this.updateBalances();case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){for(var e=0;e<this.state.timers.length;e++)null!==this.state.timers[e]&&clearTimeout(this.state.timers[e]);var t=this.props,a=t.options,n=t.currencies;!function(e,t){de.apply(this,arguments)}(n,a.contracts),function(e,t,a){me.apply(this,arguments)}(this.state.account,n,a.contracts)}},{key:"processNewBatchMyPastOrders",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,s,i=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,n=a.currencies,r=a.options,e.next=3,r.signer.getAddress();case 3:s=e.sent,0===this.state.num_my_order_calls?pe(this.state.account,n,r.contracts,this.addMyOrders):t=this.state.my_past_orders.concat(t),this.setState({my_past_orders:t}),this.setState({num_my_order_calls:this.state.num_my_order_calls+1},function(){if(i.state.num_my_order_calls<10){var e=Math.ceil((i.state.logged_latest_block-parseInt(Le.market.main.blockNumber))/10),t=i.state.logged_latest_block-e*i.state.num_my_order_calls;i.pastOrderWorker.postMessage({type:"myPastOrders",account:s,currencies:n,toBlock:t,numBlocks:e})}else i.setState({done_loading_my_orders:!0})});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"processNewBatchPastOrders",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,s=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props,n=a.currencies,r=a.options,0===this.state.num_order_calls?(this.setDocTitle(t[0]),ye(n,r.contracts,this.addOrders)):t=this.state.past_orders.concat(t),this.setState({past_orders:t}),this.setState({num_order_calls:this.state.num_order_calls+1},function(){if(s.state.num_order_calls<40){var e=s.state.logged_latest_block-720*s.state.num_order_calls;s.pastOrderWorker.postMessage({currencies:n,toBlock:e,numBlocks:720})}else s.setState({done_loading:!0})});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateBalances",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,s,i,o,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.options,n=t.currencies,r=this.state.account,e.prev=2,""===r){e.next=13;break}return console.log("Updating Balances..."),e.next=7,a.contracts[n[0]].balanceOf(r);case 7:return s=e.sent,e.next=10,a.contracts[n[1]].balanceOf(r);case 10:i=e.sent,o=[s,i],this.setState({balances:o});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log("Error Updating Balance!: "+e.t0);case 18:return e.prev=18,c=setTimeout(this.updateBalances,3e3),(l=this.state.timers)[0]=c,this.setState({timers:l}),e.finish(18);case 24:case"end":return e.stop()}},e,this,[[2,15,18,24]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateOpenOrders",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,s,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Updating Open Orders..."),e.next=4,Promise.all([Ae("BUY",this.props.currencies,this.props.options.contracts),Ae("SELL",this.props.currencies,this.props.options.contracts)]);case 4:t=e.sent,a=Object(S.a)(t,2),n=a[0],r=a[1],this.setState({open_buy_orders:n,open_sell_orders:r});case 9:return e.prev=9,s=setTimeout(this.updateOpenOrders,7500),(i=this.state.timers)[1]=s,this.setState({timers:i}),e.finish(9);case 15:case"end":return e.stop()}},e,this,[[0,,9,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"buildTitle",value:function(){var e=this.props.currencies,t="Market: ";return t=2===e.length?t+e[0]+"/"+e[1]:t}},{key:"setDocTitle",value:function(e){try{var t="\u25b2";"SELL"===e.type&&(t="\u25bc");var a=Math.round(1e3*e.price)/1e3;document.title=a+" "+t+" "+this.props.currencies[1]+"/"+this.props.currencies[0]}catch(n){console.log("There was an error setting the document title")}}},{key:"render",value:function(){var e=this.state,t=e.visible,a=e.sidebar_info,n=e.account,s=e.past_orders,i=e.my_past_orders,o=e.balances,c=e.open_buy_orders,l=e.open_sell_orders,u=e.done_loading,m=e.done_loading_my_orders,d=this.props,p=d.currencies,b=d.options,y=this.buildTitle(),h=c.concat(l);h.sort(function(e,t){return parseInt(e[3])>parseInt(t[3])?1:-1});var f=s.length>0?s[0]:"",g=[{menuItem:"Market History",render:function(){return r.a.createElement(N.a.Pane,{className:"Market-tab-pane"},r.a.createElement(ge,{currencies:p,options:b,orders:u?s:[]}))}},{menuItem:"5-D Leaderboard",render:function(){return r.a.createElement(N.a.Pane,{className:"Market-tab-pane"},r.a.createElement(ve,{currencies:p,account:n,options:b,orders:u?s:[]}))}}];b.readOnly||(g=[{menuItem:"Open Orders",render:function(){return r.a.createElement(N.a.Pane,{className:"Market-tab-pane"},r.a.createElement(G,{currencies:p,options:b,orders:h,account:n}))}},{menuItem:"My History",render:function(){return r.a.createElement(N.a.Pane,{className:"Market-tab-pane"},r.a.createElement(Ee,{currencies:p,options:b,orders:i,account:n}))}}].concat(g));var v=[{menuItem:"Limit Order",render:function(){return r.a.createElement(N.a.Pane,{className:"Market-tab-pane"},r.a.createElement(W,{currencies:p,options:b,last_price:f.price,balances:o}))}},{menuItem:"Market Order",render:function(){return r.a.createElement(N.a.Pane,{className:"Market-tab-pane"},r.a.createElement(Y,{currencies:p,options:b,balances:o}))}}];return r.a.createElement("div",{className:"Market"},r.a.createElement(Oe,{currencies:p,toggleSidebar:this.toggleSidebar,sidebar_info:a,visible:t,account:n,options:b}),r.a.createElement("div",{id:"Market-title"},r.a.createElement("span",{className:"Market-h1"},y)),r.a.createElement("div",{className:"Market-headers"},"5-Day Market Stats"),r.a.createElement("div",{id:"Market-stats"},r.a.createElement(ie,{currencies:p,options:b,orders:u?s:[]})),r.a.createElement(A.a,{divided:!0,id:"Market-orderlists"},r.a.createElement(A.a.Column,{className:"Market-orderlist",computer:8,tablet:8,mobile:16},r.a.createElement("div",{className:"Market-headers"},"Order Center"),r.a.createElement("div",{id:"Market-buysell"},r.a.createElement(N.a,{menu:{fluid:!0,tabular:!0,attached:"top"},panes:v}))),r.a.createElement(A.a.Column,{className:"Market-orderlist",computer:8,tablet:8,mobile:16},r.a.createElement("div",{className:"Market-headers"},"Order Book"),r.a.createElement(P,{currencies:p,account:n,options:b,last_order:f,buy_orders:c,sell_orders:l,setSidebar:this.setSidebar}))),r.a.createElement("div",{className:"Market-headers"},"Activity Center"),r.a.createElement("div",{id:"Market-activity-pane"},r.a.createElement(k.a,{minWidth:k.a.onlyTablet.minWidth},r.a.createElement(N.a,{menu:{fluid:!0,tabular:!0,attached:"top"},panes:g})),r.a.createElement(k.a,{maxWidth:k.a.onlyTablet.minWidth},r.a.createElement(N.a,{menu:{fluid:!0,tabular:!0,attached:"top"},panes:g.slice(0,3)}))),r.a.createElement(k.a,{maxWidth:k.a.onlyTablet.minWidth},r.a.createElement("div",{id:"Market-leaderboard-pane"},r.a.createElement("div",{className:"Market-headers"},"Leaderboard"),r.a.createElement(ve,{currencies:p,account:n,options:b,orders:u?s:[]}))),r.a.createElement("div",{id:"Market-account-stats"},r.a.createElement("div",{className:"Market-headers"},"All Time Account Stats"),r.a.createElement(fe,{currencies:p,orders:m?i:[],account:n})))}}]),t}(n.Component),xe=a(694),Te=(a(643),function(e){function t(){return Object(p.a)(this,t),Object(y.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"Home"},r.a.createElement(xe.a,{transitionOnMount:!0,animation:"fade up",duration:1500},r.a.createElement("div",{id:"Home-title"},"OasisX")),r.a.createElement(xe.a,{transitionOnMount:!0,animation:"fade up",duration:3500},r.a.createElement("div",{id:"Home-subtitle"},"The fastest UI for Oasis.")))}}]),t}(n.Component)),Ie=a(152),Ue=a(684),Pe=(a(648),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={selected:"",phrase:"",password:"",redirect:!1,saved_wallets:{},loading:!1},a.handleRedirect=a.handleRedirect.bind(Object(g.a)(Object(g.a)(a))),a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.getSavedAccounts();this.setState({saved_wallets:e})}},{key:"handleFieldChange",value:function(e,t){this.setState(Object(Ie.a)({},e,t))}},{key:"handleRedirect",value:function(){this.setState({redirect:!0,loading:!1})}},{key:"getSavedAccounts",value:function(){var e=window.localStorage;return e.getItem("encrypted_wallets")?JSON.parse(e.getItem("encrypted_wallets")):{}}},{key:"handleLogin",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.phrase,n=t.password,r=t.selected,s=this.props.options,this.setState({loading:!0}),""!==r||""===a){e.next=7;break}s.handleLogin(a,n),e.next=13;break;case 7:if(""===r){e.next=12;break}return e.next=10,s.handleReLogin(r,this.state.saved_wallets[r],n);case 10:e.next=13;break;case 12:console.log("ERROR: No account specified");case 13:this.setState({phrase:"",password:"",selected:""}),setTimeout(this.handleRedirect,1e3);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.phrase,n=t.password,s=t.redirect,i=t.saved_wallets,o=t.selected,c=t.loading,l=this.props.options;if(s)return r.a.createElement(Ue.a,{to:"/"});var u=Object.keys(i).map(function(t){var a=o===t,n=a?"Login-option Login-highlighted":"Login-option",s=a?"":t;return s=c?e.state.selected:s,r.a.createElement("div",{key:t,className:n,onClick:function(){return e.handleFieldChange("selected",s)}},r.a.createElement(U,{address:t,inactive_link:!0}))});return r.a.createElement("div",{id:"Login"},r.a.createElement("div",{className:"LimitOrder-headers"},"Login"),r.a.createElement("div",{id:"Login-wallets"},u),r.a.createElement("br",null),r.a.createElement(H.a,{label:{content:"Mneumonic Phrase"},labelPosition:"left",placeholder:"Enter Phrase...",value:a,onChange:function(t){e.handleFieldChange("phrase",t.target.value)},disabled:!l.readOnly||""!==o||c,className:"Login-input",fluid:!0}),r.a.createElement(H.a,{label:{content:"Password"},labelPosition:"left",placeholder:"Enter STRONG Password...",value:n,onChange:function(t){e.handleFieldChange("password",t.target.value)},disabled:!l.readOnly||c,className:"Login-input",type:"password",fluid:!0}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"Login-submit",color:"green",disabled:!l.readOnly||""===n||""===a&&""===o,loading:c,onClick:function(){return e.handleLogin()}},"Login"))}}]),t}(n.Component)),je=a(677),De=a(666),He=a(680),Be=(a(651),a(241)),We=a.n(Be),Ye=a(688),Fe=a(675),Ge=(a(653),a(655),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).onWrap=Object(m.a)(u.a.mark(function e(){var t,n,r,s,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.options,n=a.props.options.contracts.WETH.deposit,!((r=a.state.amount_wrap)&&r>0)){e.next=22;break}return(s=a.state.loading)[0]=!0,a.setState({loading:s}),console.log("SENDING "+r+" TO WRAPPER..."),e.prev=8,e.next=11,n({value:r,gasPrice:t.gasPrice});case 11:return i=e.sent,e.next=14,i.wait();case 14:a.flashSuccess(0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),a.flashError(0);case 20:e.next=23;break;case 22:console.log("Error: No amount chosen");case 23:case"end":return e.stop()}},e,this,[[8,17]])})),a.onUnwrap=Object(m.a)(u.a.mark(function e(){var t,n,r,s,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.options,n=a.props.options.contracts.WETH.withdraw,!((r=a.state.amount_unwrap)&&r>0)){e.next=22;break}return(s=a.state.loading)[1]=!0,a.setState({loading:s}),console.log("SENDING "+r+" TO UNWRAPPER..."),e.prev=8,e.next=11,n(r.toString(),{gasPrice:t.gasPrice});case 11:return i=e.sent,e.next=14,i.wait();case 14:a.flashSuccess(1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),a.flashError(1);case 20:e.next=23;break;case 22:console.log("Error: No amount chosen");case 23:case"end":return e.stop()}},e,this,[[8,17]])})),a.state={amount_wrap:"0",ui_amount_wrap:"",amount_unwrap:"0",ui_amount_unwrap:"",bignumbers:{},loading:[!1,!1],error:[!1,!1],success:[!1,!1]},a.flashSuccess=a.flashSuccess.bind(Object(g.a)(Object(g.a)(a))),a.flashError=a.flashError.bind(Object(g.a)(Object(g.a)(a))),a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){for(var e={},t=0;t<=10;t++){var a=t;e[a]=O.ethers.utils.bigNumberify(a)}this.setState({bignumbers:e})}},{key:"handlePercentUpdate",value:function(e,t){var a=O.ethers.utils.formatUnits(t.toString(),"ether");if("amount_wrap"===e)this.setState({amount_wrap:t,ui_amount_wrap:a});else{if("amount_unwrap"!==e)return;this.setState({amount_unwrap:t,ui_amount_unwrap:a})}}},{key:"handleUserUpdate",value:function(e,t){var a=0;try{/\S/.test(t)&&(a=O.ethers.utils.parseUnits(t.toString(),"ether"))}catch(n){return void console.log(n)}if("ui_amount_wrap"===e)this.setState({ui_amount_wrap:t,amount_wrap:a});else{if("ui_amount_unwrap"!==e)return;this.setState({ui_amount_unwrap:t,amount_unwrap:a})}}},{key:"flashSuccess",value:function(e){var t=this,a=this.state,n=a.loading,r=a.success,s=a.error;n[e]=!1,r[e]=!0,s[e]=!1,this.setState({loading:n,success:r,error:s}),setTimeout(function(){return t.reset(e)},1500)}},{key:"flashError",value:function(e){var t=this,a=this.state,n=a.loading,r=a.success,s=a.error;n[e]=!1,r[e]=!1,s[e]=!0,this.setState({loading:n,success:r,error:s}),setTimeout(function(){var a=t.state,n=a.loading,r=a.success,s=a.error;n[e]=!1,r[e]=!1,s[e]=!1,t.setState({error:s})},1500)}},{key:"reset",value:function(e){var t=this.state,a=t.loading,n=t.success,r=t.error,s=t.amount_wrap,i=t.amount_unwrap,o=t.ui_amount_wrap,c=t.ui_amount_unwrap;a[e]=!1,n[e]=!1,r[e]=!1,0===e&&(s="0",o=""),1===e&&(i="0",c=""),this.setState({loading:a,success:n,error:r,amount_wrap:s,amount_unwrap:i,ui_amount_wrap:o,ui_amount_unwrap:c})}},{key:"render",value:function(){var e=this,t=this.props,a=t.weth_balance,n=t.eth_balance,s=t.options,i=this.state,o=i.ui_amount_wrap,c=i.ui_amount_unwrap,l=i.bignumbers,u=i.loading,m=i.success,d=i.error;n=O.ethers.utils.bigNumberify(n),a=O.ethers.utils.bigNumberify(a);for(var p=["WRAP","UNWRAP"],b=0;b<p.length;b++)m[b]&&(p[b]="SUCCESS"),d[b]&&(p[b]="FAILED");return r.a.createElement("div",{className:"WrapStation"},r.a.createElement("div",{id:"WrapStation-title"},"Wrap / Unwrap"),r.a.createElement(D.a,{onSubmit:this.handleSubmit,size:"tiny",id:"WrapStation-form"},r.a.createElement("div",{className:"WrapStation-headers"},"Wrap ",r.a.createElement("span",{id:"WrapStation-warning"},r.a.createElement("span",{className:"red"},"WARNING:")," DO NOT WRAP ALL YOUR ETHER")),r.a.createElement(D.a.Group,{unstackable:!0,className:"WrapStation-formgroup"},r.a.createElement(D.a.Field,{width:11},r.a.createElement(H.a,{label:{basic:!0,content:"ETH"},labelPosition:"right",placeholder:"Enter Amount ETH...",value:o,disabled:u[0]||d[0]||m[0]||s.readOnly,onChange:function(t){e.handleUserUpdate("ui_amount_wrap",t.target.value)}})),r.a.createElement(D.a.Button,{disabled:u[0]||d[0]||m[0]||s.readOnly||""===o,loading:u[0],width:4,className:"WrapStation-button",color:d[0]?"red":"green",size:"small",onClick:function(){return e.onWrap()}},p[0])),r.a.createElement(B.a.Group,{className:"WrapStation-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{disabled:u[0]||d[0]||m[0]||s.readOnly,onClick:function(){return e.handleUserUpdate("ui_amount_wrap","")}},"0%"),r.a.createElement(B.a,{disabled:u[0]||d[0]||m[0]||s.readOnly,onClick:function(){return e.handlePercentUpdate("amount_wrap",n.div(l[4]))}},"25%"),r.a.createElement(B.a,{disabled:u[0]||d[0]||m[0]||s.readOnly,onClick:function(){return e.handlePercentUpdate("amount_wrap",n.div(l[2]))}},"50%"),r.a.createElement(B.a,{disabled:u[0]||d[0]||m[0]||s.readOnly,onClick:function(){return e.handlePercentUpdate("amount_wrap",n.mul(l[3]).div(l[4]))}},"75%"),r.a.createElement(B.a,{disabled:u[0]||d[0]||m[0]||s.readOnly,onClick:function(){return e.handlePercentUpdate("amount_wrap",n.mul(l[9]).div(l[10]))}},"90%")),r.a.createElement("div",{className:"WrapStation-headers"},"Unwrap"),r.a.createElement(D.a.Group,{unstackable:!0,className:"WrapStation-formgroup"},r.a.createElement(D.a.Field,{width:10},r.a.createElement(H.a,{label:{basic:!0,content:"WETH"},labelPosition:"right",placeholder:"Enter Amount WETH...",value:c,disabled:u[1]||d[1]||m[1]||s.readOnly,onChange:function(t){e.handleUserUpdate("ui_amount_unwrap",t.target.value)}})),r.a.createElement(D.a.Button,{disabled:u[1]||d[1]||m[1]||s.readOnly||""===c,loading:u[1],width:4,className:"WrapStation-button",color:d[1]?"red":"green",size:"small",onClick:function(){return e.onUnwrap()}},p[1])),r.a.createElement(B.a.Group,{className:"WrapStation-mini-buttons",size:"mini",basic:!0,inverted:!0},r.a.createElement(B.a,{disabled:u[1]||d[1]||m[1]||s.readOnly,onClick:function(){return e.handleUserUpdate("ui_amount_unwrap","")}},"0%"),r.a.createElement(B.a,{disabled:u[1]||d[1]||m[1]||s.readOnly,onClick:function(){return e.handlePercentUpdate("amount_unwrap",a.div(l[4]))}},"25%"),r.a.createElement(B.a,{disabled:u[1]||d[1]||m[1]||s.readOnly,onClick:function(){return e.handlePercentUpdate("amount_unwrap",a.div(l[2]))}},"50%"),r.a.createElement(B.a,{disabled:u[1]||d[1]||m[1]||s.readOnly,onClick:function(){return e.handlePercentUpdate("amount_unwrap",a.mul(l[3]).div(l[4]))}},"75%"),r.a.createElement(B.a,{disabled:u[1]||d[1]||m[1]||s.readOnly,onClick:function(){return e.handlePercentUpdate("amount_unwrap",a)}},"100%"))))}}]),t}(n.Component)),Ke=(a(657),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).changeGasPrice=function(e){a.setState({gasPriceGwei:e})},a.submit=function(){var e=a.state.gasPriceGwei;(0,a.props.setGasPrice)(e)?a.flashSuccess():a.flashError()},a.reset=function(){a.setState({buttonStatus:"UPDATE"})},a.flashSuccess=function(){a.setState({buttonStatus:"SUCCESS"}),setTimeout(a.reset,1500)},a.flashError=function(){a.setState({buttonStatus:"FAILED"}),setTimeout(a.reset,1500)},a.state={gasPriceGwei:O.ethers.utils.formatUnits(a.props.options.gasPrice.toString(),"gwei"),buttonStatus:"UPDATE"},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.gasPriceGwei,n=t.buttonStatus,s=this.props.options,i="";return"SUCCESS"===n?i="green":"FAILED"===n&&(i="red"),r.a.createElement("div",{className:"Settings"},r.a.createElement("div",{id:"Settings-title"},"Settings"),r.a.createElement(D.a,{onSubmit:this.handleSubmit,size:"tiny",id:"Settings-form"},r.a.createElement("div",{className:"Settings-headers"},"Gas Price (",O.ethers.utils.formatUnits(s.gasPrice,"gwei"),") ",r.a.createElement("span",{id:"Settings-warning"},r.a.createElement("a",{href:"https://ethgasstation.info/",rel:"noopener noreferrer",target:"_blank"},"ETHER GAS STATION"))),r.a.createElement(D.a.Group,{unstackable:!0,className:"Settings-formgroup"},r.a.createElement(D.a.Field,{width:11},r.a.createElement(H.a,{label:{basic:!0,content:"GWEI"},labelPosition:"right",placeholder:"Enter Gas Price",value:a,onChange:function(t){e.changeGasPrice(t.target.value)}})),r.a.createElement(D.a.Button,{color:i,width:5,className:"Settings-button",onClick:this.submit},n))))}}]),t}(n.Component)),Je="115792089237316195423570985008687907853269984665640564039457584007913129639935",ze=function(e){function t(e,a){var n;return Object(p.a)(this,t),(n=Object(y.a)(this,Object(h.a)(t).call(this,e))).state={currencies:{WETH:{balance:0,approved:0},DAI:{balance:0,approved:0},MKR:{balance:0,approved:0},ETH:{balance:0,approved:0}},account:""},n.updateInfo=n.updateInfo.bind(Object(g.a)(Object(g.a)(n))),n}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.updateInfo()}},{key:"updateInfo",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,s,i,o,c,l,m,d,p,b,y,h;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.options,e.prev=1,t.readOnly){e.next=27;break}return console.log("Updating Sidebar Balances..."),e.next=6,t.signer.getAddress();case 6:return a=e.sent,n=t.contracts.Market.address,e.next=10,this.getBalances(a);case 10:return r=e.sent,s=Object(S.a)(r,3),i=s[0],o=s[1],c=s[2],e.next=17,this.getApprovals(a,n);case 17:return l=e.sent,m=Object(S.a)(l,3),d=m[0],p=m[1],b=m[2],e.next=24,t.provider.getBalance(a);case 24:y=e.sent,h={WETH:{balance:i.toString(),approved:d.toString()},DAI:{balance:o.toString(),approved:p.toString()},MKR:{balance:c.toString(),approved:b.toString()},ETH:{balance:y.toString(),approved:Je}},this.setState({currencies:h,account:a});case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(1),console.log("Error Getting Sidebar Balalnces!: "+e.t0);case 32:return e.prev=32,setTimeout(this.updateInfo,3e3),e.finish(32);case 35:case"end":return e.stop()}},e,this,[[1,29,32,35]])}));return function(){return e.apply(this,arguments)}}()},{key:"approveCurrencyForAmount",value:function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n,r,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.options,r=n.contracts.Market.address,!(t in n.contracts)){e.next=6;break}return s=n.contracts[t],e.next=6,s.approve(r,a);case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"approveCurrency",value:function(e){this.approveCurrencyForAmount(e,Je)}},{key:"unapproveCurrency",value:function(e){this.approveCurrencyForAmount(e,"0")}},{key:"toggleApproval",value:function(e,t){!t?this.approveCurrency(e):this.unapproveCurrency(e)}},{key:"getBalances",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.options,n=a.contracts.WETH.balanceOf(t),r=a.contracts.DAI.balanceOf(t),s=a.contracts.MKR.balanceOf(t),e.abrupt("return",Promise.all([n,r,s]));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getApprovals",value:function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n,r,s,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.options,e.next=3,n.contracts.WETH.allowance(t,a);case 3:return r=e.sent,e.next=6,n.contracts.DAI.allowance(t,a);case 6:return s=e.sent,e.next=9,n.contracts.MKR.allowance(t,a);case 9:return i=e.sent,e.abrupt("return",Promise.all([r,s,i]));case 11:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getUIBalance",value:function(e){return null!=e?Math.round(1e3*O.ethers.utils.formatUnits(e.toString(),"ether"))/1e3:"Error..."}},{key:"getUIAllowance",value:function(e,t){t=O.ethers.utils.bigNumberify(t);var a=O.ethers.utils.bigNumberify(e);return!!t.gt(a)}},{key:"buildRenderList",value:function(){var e=this,t=this.state.currencies;return Object.keys(t).map(function(a){var n=t[a].balance,r=t[a].approved;return{name:a,balance:e.getUIBalance(n),approved:e.getUIAllowance(n,r)}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.currencies,n=t.account,s=this.props,i=s.padded,o=s.closeSidebar,c=s.options,l=s.setGasPrice,u=this.buildRenderList(),m=r.a.createElement(C.a,{name:"close",id:"Infobar-x",size:"large",onClick:o});i&&(m=null);var d=r.a.createElement(B.a,{primary:!0,as:je.a,to:"/login",fluid:!0,onClick:o},"Login");return c.readOnly||(d=r.a.createElement(U,{address:n})),r.a.createElement("div",{id:"Infobar"},r.a.createElement("div",{className:"Infobar-header"},d,m),r.a.createElement(F.a,{basic:"very",padded:"very",striped:!0,unstackable:!0,id:"Infobar-table"},r.a.createElement(F.a.Header,{id:"Infobar-table-header"},r.a.createElement(F.a.Row,null,r.a.createElement(F.a.Cell,null,r.a.createElement(Ye.a,{className:"Infobar-table-entry",textAlign:"left"},"Token")),r.a.createElement(F.a.Cell,null,r.a.createElement(Ye.a,{className:"Infobar-table-entry",textAlign:"left"},"Balance")),r.a.createElement(F.a.Cell,null,r.a.createElement(Ye.a,{className:"Infobar-table-entry",textAlign:"left"},"Approved")))),r.a.createElement(F.a.Body,null,u.map(function(t,a){return r.a.createElement(F.a.Row,{key:a},r.a.createElement(F.a.Cell,null,r.a.createElement(Ye.a,{className:"Infobar-table-entry",textAlign:"left"},t.name)),r.a.createElement(F.a.Cell,null,r.a.createElement(Ye.a,{className:"Infobar-table-entry",textAlign:"left"},t.balance)),r.a.createElement(F.a.Cell,{textAlign:"left"},r.a.createElement(Fe.a,{toggle:!0,disabled:"ETH"===t.name||c.readOnly,checked:t.approved,onClick:function(){return e.toggleApproval(t.name,t.approved)}})))}))),r.a.createElement(Ge,{options:c,weth_balance:a.WETH.balance,eth_balance:a.ETH.balance}),r.a.createElement(Ke,{options:c,setGasPrice:l}))}}]),t}(n.Component),Ve=[{name:"WETH/DAI",href:"/WETH_DAI"},{name:"MKR/WETH",href:"/MKR_WETH"},{name:"MKR/DAI",href:"/MKR_DAI"}],Ze=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).toggleVisible=function(){a.setState({visible:!a.state.visible})},a.state={visible:!1},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.options,s=this.state.visible;return r.a.createElement("div",null,r.a.createElement(k.a,k.a.onlyMobile,r.a.createElement(De.a,{borderless:!0,fixed:"top",id:"Navbar-mobile"},r.a.createElement(De.a.Item,{name:"Home",href:"/",className:"Navbar-item"},r.a.createElement("div",{className:"Navbar-button-mobile",id:"Navbar-logo-container"},r.a.createElement("img",{src:We.a,alt:"logo",id:"Navbar-logo-mobile"}))),r.a.createElement(He.a,{item:!0,text:"Markets",className:"Navbar-dropdown"},r.a.createElement(He.a.Menu,null,Ve.map(function(e,t){return r.a.createElement(He.a.Item,{name:e.name,className:"Navbar-item",as:je.a,to:e.href,key:t},e.name)}))),r.a.createElement(De.a.Menu,{position:"right"},r.a.createElement(De.a.Item,null,r.a.createElement(C.a,{name:"sidebar",inverted:!0,onClick:this.toggleVisible})))),r.a.createElement(_e.a,{as:ke.a,animation:"overlay",direction:"right",visible:s,id:"Navbar-Side_info_bar"},r.a.createElement(ze,{options:n,padded:!1,closeSidebar:this.toggleVisible})),a),r.a.createElement(k.a,{minWidth:k.a.onlyTablet.minWidth},r.a.createElement(De.a,{secondary:!0,vertical:!0,size:"mini",id:"Navbar"},r.a.createElement(De.a.Item,{name:"Home",className:"Navbar-item",as:je.a,to:"/"},r.a.createElement("div",{className:"Navbar-button",id:"Navbar-logo-container"},r.a.createElement("img",{src:We.a,alt:"logo",className:"Navbar-icon"}))),Ve.map(function(t,a){return r.a.createElement(De.a.Item,{name:t.name,className:"Navbar-item",onClick:e.handleToggle,as:je.a,to:t.href,key:a},r.a.createElement("div",{className:"Navbar-button"},t.name))})),a))}}]),t}(n.Component),Xe=a(203),qe=a(659),$e=a(660),Qe=a(661),et=a(662),tt=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(h.a)(t).call(this,e))).setGasPrice=function(e){try{var t=O.ethers.utils.parseUnits(e,"gwei");a.setState(function(e){return{options:Object(d.a)({},e.options,{gasPrice:t})}}),localStorage.setItem("gasPrice",t)}catch(n){return console.log("Could not set gas price to '"+e+"'"),!1}return!0},a.state={options:{provider:null,signer:null,contracts:[],readOnly:!0,handleLogin:a.handleLogin,handleReLogin:a.handleReLogin,gasPrice:10,defaultGasPrice:10}},a.handleLogin=a.handleLogin.bind(Object(g.a)(Object(g.a)(a))),a.handleReLogin=a.handleReLogin.bind(Object(g.a)(Object(g.a)(a))),a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){var e=this.getOptions();this.setState({options:e})}},{key:"getOptions",value:function(){var e=this.getEthereum(),t=[],a=null,n=null,r=!0;return O.ethers.errors.setLogLevel("off"),e?(n=(a=new O.ethers.providers.Web3Provider(e)).getSigner(),r=!1,t=this.getContracts(n)):(a=new O.ethers.getDefaultProvider,n=new O.ethers.Wallet.createRandom,t=this.getContracts(a)),this.buildOptions(a,n,t,r)}},{key:"handleLogin",value:function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n,r,s,i,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.options.readOnly){e.next=11;break}return n=new O.ethers.getDefaultProvider,r=new O.ethers.Wallet.fromMnemonic(t).connect(n),s=this.getContracts(r),!1,i=this.buildOptions(n,r,s,!1),this.setState({options:i}),e.next=9,r.encrypt(a);case 9:o=e.sent,this.saveEncryptedWallet(o);case 11:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleReLogin",value:function(){var e=Object(m.a)(u.a.mark(function e(t,a,n){var r,s,i,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.options.readOnly){e.next=11;break}return console.log("LOGGING IN WITH ACCOUNT "+t),r=new O.ethers.getDefaultProvider,e.next=5,O.ethers.Wallet.fromEncryptedJson(a,n);case 5:s=(s=e.sent).connect(r),i=this.getContracts(s),!1,o=this.buildOptions(r,s,i,!1),this.setState({options:o});case 11:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"saveEncryptedWallet",value:function(e){var t=JSON.parse(e).address,a=window.localStorage;a.getItem("encrypted_wallets")||a.setItem("encrypted_wallets",JSON.stringify({}));var n=JSON.parse(a.getItem("encrypted_wallets"));n["0x"+t]=e,a.setItem("encrypted_wallets",JSON.stringify(n))}},{key:"buildOptions",value:function(e,t,a,n){var r=O.ethers.utils.parseUnits("10","gwei"),s=localStorage.getItem("gasPrice")?O.ethers.utils.bigNumberify(localStorage.getItem("gasPrice").toString()):r;return{provider:e,signer:t,contracts:a,readOnly:n,handleLogin:this.handleLogin,handleReLogin:this.handleReLogin,gasPrice:s,defaultGasPrice:r}}},{key:"getEthereum",value:function(){var e=null;return window.web3&&(e=window.ethereum?window.ethereum:window.web3.currentProvider),e}},{key:"getContracts",value:function(e){return{WETH:new O.ethers.Contract(Xe.tokens.main["W-ETH"],$e.interface,e),DAI:new O.ethers.Contract(Xe.tokens.main.DAI,qe.interface,e),MKR:new O.ethers.Contract(Xe.tokens.main.MKR,qe.interface,e),Market:new O.ethers.Contract(Xe.market.main.address,Qe.interface,e),SupportMethods:new O.ethers.Contract(Xe.otcSupportMethods.main.address,et.interface,e)}}},{key:"render",value:function(){var e=this.state.options;return null===e.provider?r.a.createElement("div",{className:"App"},"Loading..."):r.a.createElement("div",{className:"App"},r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(Ze,{options:e}),r.a.createElement("div",{id:"App_market_container"},r.a.createElement(E.a,null,r.a.createElement(_.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Te,null)}}),r.a.createElement(_.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(Pe,{options:e})}}),r.a.createElement(_.a,{exact:!0,path:"/WETH_DAI",render:function(){return r.a.createElement(Re,{key:"WETH_DAI",options:e,currencies:["WETH","DAI"]})}}),r.a.createElement(_.a,{exact:!0,path:"/MKR_WETH",render:function(){return r.a.createElement(Re,{key:"MKR_WETH",options:e,currencies:["MKR","WETH"]})}}),r.a.createElement(_.a,{exact:!0,path:"/MKR_DAI",render:function(){return r.a.createElement(Re,{key:"MKR_DAI",options:e,currencies:["MKR","DAI"]})}}))),r.a.createElement(k.a,{minWidth:k.a.onlyTablet.minWidth},r.a.createElement(ze,{padded:!0,options:e,setGasPrice:this.setGasPrice})))))}}]),t}(r.a.Component);i.a.render(r.a.createElement(tt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");o?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):c(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):c(e)})}}()}},[[325,2,1]]]);
//# sourceMappingURL=main.26dc6fe0.chunk.js.map